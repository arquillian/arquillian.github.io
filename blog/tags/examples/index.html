<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Arquillian Blog &#183; Arquillian</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="An innovative testing platform for the Java Virtual Machine (JVM). Open source. Highly extensible." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css?64e80dd567c43e4ee8c78f73ed5c46074b1a3520" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="blog index">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="g-plusone-slot">
            <div class="g-plusone" data-annotation="none"></div>
          </div>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li><a href="/guides/">Guides</a></li>
              <li class="active"><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/code/">Code</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
      <div id="content-header">
        <div class="container">
          <h1>
            <a href="/blog/">Arquillian Blog</a>
          </h1>
        </div>
      </div>
      <div class="container">
        <div id="content">
          <article class="post">
            <header class="header">
              <h2 class="title">
                <a href="/blog/2011/03/18/arquillian-core-1-0-0-Alpha5/">Arquillian Core 1.0.0.Alpha5 Released</a>
              </h2>
              <div class="byline">
                <img class="avatar" src="http://gravatar.com/avatar/3f27861ec08730fd02c91fe4129d2668?s=44" />
                <span class="author">Posted by
                <a href="https://community.jboss.org/people/aslak">Aslak Knutsen</a></span>
                <span class="dateinline">on Mar 18, 2011</span>
                <div class="date"><abbr>Mar</abbr> 18</div>
                <span class="comments">| <a href="/blog/2011/03/18/arquillian-core-1-0-0-Alpha5/#disqus_thread" data-disqus-identifier="02a90aa22045e26a6b3638836275b9ea9cc4e6a8">Comments</a></span>
              </div>
            </header>
            <div class="body">
              <p>The Arquillian team is proud to announce the <em>1.0.0.Alpha5</em> release of the <em>Arquillian Core</em> component!</p>
              <p>After a long wait we can finally give you some good news.</p>
              <p><strong>drum roll&#8230;</strong></p>
              <p>Arquillian 1.0.0.Alpha5 has been released!</p>
              <p>In the beginning of the cycle we came to the conclusion that the old Arquillian core just did not cut it in respect to where we were heading, so big parts of it has been rewritten&#8230;</p>
              <p>Some of the highlights in this release:</p>
              <ul>
              	<li><strong>DeploymentException assertion</strong> &#8211; Verify that a <code>@Deployment</code> throws the expected deployment exception using <code>@ShouldThrowException(Exception.class)</code></li>
              </ul>
              <pre class="prettify"><code class="prettify">@Deployment @ShouldThrowException(WeldException.class)&#x000A;public static WebArchive createTestDeployment() { }</code></pre>
              <ul>
              	<li><strong>Multiple deployments</strong> &#8211; Define as many <code>@Deployment</code> methods as you may need. If you need them deployed in order, use <code>@Deployment.order</code>. When dealing with multiple <code>@Deployments</code> you have to specify which deployment context a <code>@Test</code> method should run within by using the <code>@OperateOnDeployment("deploymentName")</code>. The deploymentName is specified using <code>@Deployment.name</code>. With this you can swap between in container testing in one deployment, <code>@RunAsClient</code> in the context of another deployment and back incontainer in the third.</li>
              </ul>
              <pre class="prettify"><code class="prettify">@Deployment(order = 1, name = "dep1")&#x000A;public static WebArchive createTestDeployment() { }</code>&#x000A; &#x000A;<code class="prettify">@Deployment(order = 2, name = "dep2")&#x000A;public static WebArchive createTestDeployment2() { }</code>&#x000A; &#x000A;<code class="prettify">@Test @OperateOnDeployment("dep1")&#x000A;public void callActive1() throws Exception { }</code>&#x000A; &#x000A;<code class="prettify">@Test @OperateOnDeployment("dep2")&#x000A;public void callActive1() throws Exception { }</code></pre>
              
               
              <ul>
              	<li><strong>Multiple containers</strong> &#8211; Deploy multiple deployments to multiple containers in the same test class using <code>@TargetsContainer("containerName")</code> on the <code>@Deployment</code> methods. Combined with <code>@OperateOnDeployment("name")</code> individual <code>@Test</code> methods can now execute in different containers.</li>
              </ul>
              <pre class="prettify"><code class="prettify">@Deployment(name = "dep1") @TargetsContainer("node-1")&#x000A;public static WebArchive createTestDeployment() { }</code>&#x000A; &#x000A;<code class="prettify">@Deployment(name = "dep2") @TargetsContainer("node-2")&#x000A;public static WebArchive createTestDeployment2() { }</code>&#x000A; &#x000A;<code class="prettify">@Test @OperateOnDeployment("dep1")&#x000A;public void callActive1() throws Exception { }</code>&#x000A; &#x000A;<code class="prettify">@Test @OperateOnDeployment("dep2")&#x000A;public void callActive1() throws Exception { }</code></pre>
              
               
              <ul>
              	<li><strong>Configurable protocol</strong> &#8211; Previously the protocol was bound to the container you were running on. The container still has a default, but this can now be overwritten on a pr <code>@Deployment</code> method level by using the annotation <code>@OverProtocol("protocolName")</code>.</li>
              </ul>
              <pre class="prettify"><code class="prettify">@Deployment(name = "dep1") @TargetsContainer("node-1") @OverProtocol("Servlet 3.0")&#x000A;public static WebArchive createTestDeployment() { }</code>&#x000A; &#x000A;<code class="prettify">@Deployment(name = "dep2") @TargetsContainer("node-2") @OverProtocol("EJB 3.1")&#x000A;public static WebArchive createTestDeployment2() { }</code>&#x000A; &#x000A;<code class="prettify">@Test @OperateOnDeployment("dep1") // in container text execution is done over HTTP&#x000A;public void callActive1() throws Exception { }</code>&#x000A; &#x000A;<code class="prettify">@Test @OperateOnDeployment("dep2") // in container text execution is done over RMI&#x000A;public void callActive1() throws Exception { }</code></pre>
              
               
              <ul>
              	<li><strong>Descriptor deployment</strong> &#8211; Need to deploy a JMS Queue, or a DataSource? Use the Desciptor deployment. Works the same as a Archive deployment by defining a deployment method with return type Descriptor.</li>
              </ul>
              <pre class="prettify"><code class="prettify">@Deployment&#x000A;public static Descriptor createTestDeployment() { }</code></pre>
              <ul>
              	<li><strong>Arquillian Drone</strong> &#8211; A new extension for Web testing. Integrates Arquillian with Selenium, WebDriver and Arquillian Ajocado.</li>
              </ul>
              <pre class="prettify"><code class="prettify">@RunWith(Arquillian.class)&#x000A;public class AjocadoTestCase {&#x000A;   // load ajocado driver&#x000A;   @Drone&#x000A;   AjaxSelenium driver;&#x000A;}</code></pre>
              <p>Some changes:</p>
              <ul>
              	<li><code>@Run(AS_CLIENT)</code> and <code>@Run(IN_CONTAINER)</code> have been replaced by <code>@RunAsClient</code>. <code>RunMode is default read from @</code>Deployment.testable@, but you can override the run mode for a in-container deployment using <code>@RunAsClient</code> on the <code>@Test</code> method.</li>
              	<li>New Configuration XML format</li>
              	<li>GlassFish 3.0 support was <em>replaced</em> with 3.1 support.</li>
              </ul>
              <p>Big thanks to the <a href="https://community.jboss.org/en/arquillian">Arquillian</a> and <a href="https://community.jboss.org/en/shrinkwrap">ShrinkWrap</a> community for helping us with this release!</p>
              <p>A extra goes out to, <a href="https://community.jboss.org/people/kpiwko">Karel Piwko</a> for Arquillian Drone, <a href="https://community.jboss.org/people/lightguard">Jason Porter</a> for the GlassFish Remote 3.1 container and <a href="https://community.jboss.org/people/dallen6">David R Allen</a> for other random issues.</p>
              <p>[ <a href="https://issues.jboss.org/browse/ARQ">Issues</a> | Javadoc: <a href="http://docs.jboss.org/arquillian/api/1.0.0.Alpha5/">API</a>, <a href="http://docs.jboss.org/arquillian/spi/1.0.0.Alpha5/">SPI</a> | <a href="http://docs.jboss.org/arquillian/reference/1.0.0.Alpha5/en-US/html_single">Reference Guide</a> | <a href="https://jira.jboss.org/jira/secure/ReleaseNote.jspa?projectId=12310885&amp;styleName=Html&amp;version=12316143">Release Notes</a> | <a href="https://repository.jboss.org/nexus/content/groups/public/org/jboss/arquillian/">Maven artifacts</a> ]</p>
              <h3>What is Arquillian?</h3>
              <p>Arquillian is a platform that simplifies Java middleware testing. It brings your test to the runtime, freeing you from the concern of managing the runtime from your test. As a result, you can focus on the task at hand, <em>writing your integration test logic</em>.</p>
              <h3>Release details</h3>
              <table class="table table-bordered table-striped">
                <tbody>
                  <tr>
                    <th>Component</th>
                    <td>
                      <a href="/modules/core-platform">Arquillian Core</a>
                    </td>
                  </tr>
                  <tr>
                    <th>Version</th>
                    <td>
                      1.0.0.Alpha5
                      <span class="label tag">
                        <a href="https://github.com/arquillian/arquillian-core/commit/3f270bcda43dc9fd51d7be01c8bc3fdebbcd68af.html">view tag</a>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <th>Release date</th>
                    <td>2011-03-18</td>
                  </tr>
                  <tr>
                    <th>Released by</th>
                    <td>Aslak Knutsen</td>
                  </tr>
                  <tr>
                    <th>Compiled against</th>
                    <td>
                      <ul class="unstyled">
                        <li>ShrinkWrap Core &#8211; 1.0.0-alpha-12</li>
                        <li>ShrinkWrap Descriptors &#8211; 0.1.4</li>
                        <li>JUnit &#8211; 4.8.1</li>
                        <li>TestNG &#8211; 5.14.6</li>
                      </ul>
                    </td>
                  </tr>
                </tbody>
              </table>
              <h3>
                Release notes and resolved issues
                <small>64</small>
              </h3>
              <p></p>
              <dl>
                <dt>Bug</dt>
                <dd>
                  <ul class="unstyled">
                    <li><a href="https://issues.jboss.org/browse/ARQ-57">ARQ-57</a> - JBossAS Remote Containers Depend upon Sun JDK</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-110">ARQ-110</a> - RunMode Local should reuse protocol-local</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-124">ARQ-124</a> - Move jndi.properties out as Configuration</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-164">ARQ-164</a> - NPE in DeployableTestBuilder</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-171">ARQ-171</a> - ServletMethodExecutor should get context path from container</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-211">ARQ-211</a> - Protocol Servlet should be automatically registered for Tomcat Embedded 6</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-217">ARQ-217</a> - Servlet 2.5 Protocol should support Application WebArchives</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-275">ARQ-275</a> - WeldSEContainer doesn&#39;t meet Weld 1.1 SPI contract</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-281">ARQ-281</a> - NPE when JBOSS_HOME isn&#39;t set</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-289">ARQ-289</a> - All poms refere to old svn repo, update to git</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-290">ARQ-290</a> - performence/pom.xml references WELD-1.0.1</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-292">ARQ-292</a> - Enforcing Maven 3 in build/pom.xml does not seem to work...</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-298">ARQ-298</a> - Implement conversations based on the new Weld context management API</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-304">ARQ-304</a> - String based properties cannot be loaded through System properties</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-330">ARQ-330</a> - Container Reference for Weld EE Embedded use 1.0.1.SP1 in example, should be 1.1.0.Beta1</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-335">ARQ-335</a> - Weld SE container does not properly load extension classes at boot</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-340">ARQ-340</a> - mappedName and lookup attributes are ignored for @EJB in jections into test cases, forcing a naming convention on implementations</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-352">ARQ-352</a> - ArquillianDescriptor should support configuration of extensions</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-356">ARQ-356</a> - JBoss AS Managed does not allow to set RMI port used for deployment. Forces users to use 1099</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-372">ARQ-372</a> - The @EJB annotation does not work in a TestCase that extends abstract class</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-377">ARQ-377</a> - Reloaded Container test is failing; MCServer and ShrinkWrapDeployer can&#39;t bind to correct scope</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-379">ARQ-379</a> - Arquillian does not allow any configuration of OpenEJB</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-392">ARQ-392</a> - impl-base does not export resolver-maven-impl dep</li>
                  </ul>
                </dd>
              </dl>
              <dl>
                <dt>Feature Request</dt>
                <dd>
                  <ul class="unstyled">
                    <li><a href="https://issues.jboss.org/browse/ARQ-67">ARQ-67</a> - Need to be able to deploy resources to the container alongside the primary deployment</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-152">ARQ-152</a> - Support multiple container configurations for same container type</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-153">ARQ-153</a> - Protocol configuration element should be separate from Container</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-158">ARQ-158</a> - Replace method arguments with toString instead of Class</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-167">ARQ-167</a> - Support @EJB.mappedName for TestClass injection</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-168">ARQ-168</a> - Validation on container configuration properties</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-196">ARQ-196</a> - Should support controlling multiple Containers</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-215">ARQ-215</a> - Configuration should support loading of Configuration data for extensions/frameworks</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-218">ARQ-218</a> - ServiceLoader should support Default implementations</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-227">ARQ-227</a> - Support Deployment exception assert</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-283">ARQ-283</a> - Support loading of configuration for Arquillian-Selenium</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-299">ARQ-299</a> - Create a IN_CONTAINER Exception Proxy</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-309">ARQ-309</a> - Allow configuration to specify an OpenEJB configuration resources (openejb.xml)</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-310">ARQ-310</a> - Add a post-construct method to ContainerConfiguration</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-313">ARQ-313</a> - ARQ should support Multi-module (Multiple WAR deployments) testing</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-316">ARQ-316</a> - more complete support for servlet 2.5</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-319">ARQ-319</a> - Allow container START_TIME to be configurable in arquillian.xml</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-323">ARQ-323</a> - Implement a GlassFish 3.1 remote container based on REST API</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-326">ARQ-326</a> - Track JBoss AS Final</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-329">ARQ-329</a> - Support Ajocado in Selenium extension</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-346">ARQ-346</a> - Create a GlassFish 3.1 Embedded Container</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-349">ARQ-349</a> - Create a Protocol processor SPI for modifying the final deployment generated by the DeploymentPackager</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-353">ARQ-353</a> - Remove DeploymentScanner disabling</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-360">ARQ-360</a> - Honor system property for exporting test archives</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-362">ARQ-362</a> - @Run(AS_CLIENT) support on @Test</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-367">ARQ-367</a> - Add support for @ArquillianResource</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-371">ARQ-371</a> - Split Arquillian Selenium configuration according to framework</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-373">ARQ-373</a> - Support multiple Web Test objects in one test</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-378">ARQ-378</a> - For managed appservers, a configurable &quot;is it up?&quot; URL would be nice</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-380">ARQ-380</a> - Core should support AroundInvoke style handlers of Events</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-383">ARQ-383</a> - rename MaxDeploymentsBeforeRestart to maxTestClassesBeforeRestart</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-387">ARQ-387</a> - Selenium extension should use the TestEnricher SPI to do injection into the test case</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-389">ARQ-389</a> - Rename @Target, @Expected, @Run and @DeploymentTarget annotations</li>
                  </ul>
                </dd>
              </dl>
              <dl>
                <dt>Task</dt>
                <dd>
                  <ul class="unstyled">
                    <li><a href="https://issues.jboss.org/browse/ARQ-192">ARQ-192</a> - Install OSGi bundles in memory</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-259">ARQ-259</a> - Provide xsd for all containers and for core</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-291">ARQ-291</a> - Create Selenium extension</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-370">ARQ-370</a> - Merge remote aslakknutsen/the_bigger_picture back into upstream/master</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-374">ARQ-374</a> - Renaming Selenium extension to more general name</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-384">ARQ-384</a> - Prepare Alpha-5 release</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-388">ARQ-388</a> - Update Selenium version to 2.0b2</li>
                    <li><a href="https://issues.jboss.org/browse/ARQ-393">ARQ-393</a> - Update Arquillian Drone Docbook</li>
                  </ul>
                </dd>
              </dl>
              <p>
                Thanks to the following list of contributors:
                <a href="https://community.jboss.org/people/aslak">Aslak Knutsen</a>, <a href="https://community.jboss.org/people/kpiwko">Karel Piwko</a>, <a href="https://community.jboss.org/people/alrubinger">Andrew Lee Rubinger</a>, <a href="https://github.com/drallen">David R. Allen</a>, <a href="https://github.com/andygibson">Andy Gibson</a>, <a href="https://community.jboss.org/people/dan.j.allen">Dan Allen</a>, <a href="https://community.jboss.org/people/lightguard">Jason Porter</a>
              </p>
            </div>
            <div class="footer">
              <a href="/blog/2011/03/18/arquillian-core-1-0-0-Alpha5/">permalink</a>
              |
              <i class="icon-tags"></i>
              tagged as
              <a class="tag" href="/blog/tags/drone/">drone</a> <a class="tag" href="/blog/tags/extension/">extension</a> <a class="tag" href="/blog/tags/examples/">examples</a> <a class="tag" href="/blog/tags/release/">release</a> <a class="tag" href="/blog/tags/platform/">platform</a> <a class="tag" href="/blog/tags/core/">core</a>
            </div>
          </article>
          <article class="post">
            <header class="header">
              <h2 class="title">
                <a href="/blog/2010/10/04/the-perfect-recipe-for-testing-jpa-2-revisited/">The perfect recipe for testing JPA 2, revisited</a>
              </h2>
              <div class="byline">
                <img class="avatar" src="http://gravatar.com/avatar/dcccd96c499963133f7f95e7ffa20c4e?s=44" />
                <span class="author">Posted by
                <a href="https://community.jboss.org/people/dan.j.allen">Dan Allen</a></span>
                <span class="dateinline">on Oct 04, 2010</span>
                <div class="date"><abbr>Oct</abbr> 04</div>
                <span class="comments">| <a href="/blog/2010/10/04/the-perfect-recipe-for-testing-jpa-2-revisited/#disqus_thread" data-disqus-identifier="b739ba9b93384413ee6098d0d4dba965075163fe">Comments</a></span>
              </div>
            </header>
            <div class="body">
              <p><img src="/images/blog/arquillian_icon_jpa.png" style="float: right; margin-left: 1em; margin-top: -10px;" class="graphic" alt="" /> A while ago, <a href="http://blogs.oracle.com/arungupta">Arun Gupta</a> proposed a recipe for testing JPA 2 (JPQL &amp; Criteria) using Embedded GlassFish in one of his notable Tips of The Day (<a href="http://blogs.sun.com/arungupta/entry/totd_133_jpa2_jpql_criteria">TOTD #133</a>). Embedded containers such as GlassFish certainly make testing Java EE APIs achievable. But I want to challenge Arun&#8217;s conclusion that using Embedded GlassFish programmatically is the <em>perfect</em> recipe for testing.</p>
              <p>In this entry, I&#8217;ll show that the test can be further simplified. By throwing the complexity of managing the container over the wall, you can focus solely on the task at hand, testing (and experimenting with) JPA 2. Not only does the test get simpler, it also becomes portable, so you are not locked into running it on Embedded GlassFish. Any compliant Java EE container, such as JBoss AS, or even a standalone JPA runtime will do. That&#8217;s a lot of flexibility.</p>
              <p><em>The secret ingredient:</em> <a href="http://arquillian.org">Arquillian</a></p>
              <p>As in Arun&#8217;s TOTD, our test will:</p>
              <ul>
              	<li>persist entities to a database and subsequently query them using JPQL and the JPA 2 Criteria API</li>
              </ul>
              <p>But that&#8217;s all we&#8217;ll worry about. We&#8217;ll let Arquillian handle the task of creating the JDBC Connection Pool and JDBC Resource using GlassFish APIs. Even that is behavior specific to the select target container. Other target containers may have parallel operations. That&#8217;s of no concern to the test.</p>
              <p>Like Arun&#8217;s application, ours uses a (video) <code>Game</code> entity with two fields:</p>
              <ul>
              	<li><code>id</code> &#8211; the primary key</li>
              	<li><code>title</code> &#8211; the title of the game</li>
              </ul>
              <p>The test persists 3 sample entries to the database and then retrieves them using a JPQL statement and the Criteria API. The test will perform three tasks:</p>
              <ul>
              	<li>store 3 sample entities in the database using the JPA <code>EntityManager</code></li>
              	<li>query the database using JPQL</li>
              	<li>query the database using Criteria API</li>
              </ul>
              <p>The entire source code is available in the <a href="http://github.com/arquillian/arquillian-examples/tree/master/jpa2">Arquillian examples project</a> on github.  All you need to see the action is run &#8220;mvn test&#8221; (and a hint of patience to wait for Maven to download the dependencies).</p>
              <p>To get you acclimated, here&#8217;s the directory structure of the project.</p>
              <pre>pom.xml&#x000A;src&#x000A;|-- main&#x000A;|   `-- java&#x000A;|       `-- com&#x000A;|           `-- acme&#x000A;|               `-- jpa&#x000A;|                   `-- Game.java&#x000A;`-- test&#x000A;    |-- java&#x000A;    |   `-- com&#x000A;    |       `-- acme&#x000A;    |           `-- jpa&#x000A;    |               `-- GamePersistenceTestCase.java&#x000A;    |-- resources&#x000A;    |   `-- arquillian.xml&#x000A;    |-- resources-glassfish-embedded&#x000A;    |   |-- sun-resources.xml&#x000A;    |   `-- test-persistence.xml&#x000A;    `-- resources-jbossas-remote&#x000A;        |-- jndi.properties&#x000A;        `-- test-persistence.xml</pre>
              <p><code>Game</code> is the JPA entity class and test-persistence.xml provides the definition of our Persistence Unit for the test environment. We won&#8217;t touch persistence.xml since that&#8217;s the definition for the production environment.</p>
              <p>Notice we have resource directories for both Embedded GlassFish and remote JBoss AS. We&#8217;ll get into that later.</p>
              <p>Here&#8217;s the source of the <code>Game</code> entity class, as denoted by the <code>@Entity</code> annotation:</p>
              <div class="filename">src/main/resources/com/acme/jpa/Game.java</div>
              <pre class="prettify"><code class="prettify">package com.acme.jpa;</code>&#x000A; &#x000A;<code class="prettify">import java.io.Serializable;&#x000A;import javax.persistence.Entity;&#x000A;import javax.persistence.GeneratedValue;&#x000A;import javax.persistence.Id;&#x000A;import javax.validation.constraints.NotNull;&#x000A;import javax.validation.constraints.Size;</code>&#x000A; &#x000A;<code class="prettify">@Entity&#x000A;public class Game implements Serializable {&#x000A;    private Long id;&#x000A;    private String title;</code>&#x000A; &#x000A;<code class="prettify">    public Game() {}</code>&#x000A; &#x000A;<code class="prettify">    public Game(String title) {&#x000A;        this.title = title;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    @Id @GeneratedValue&#x000A;    public Long getId() {&#x000A;        return id;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    public void setId(Long id) {&#x000A;        this.id = id;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    @NotNull&#x000A;    @Size(min = 3, max = 50)&#x000A;    public String getTitle() {&#x000A;        return title;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    public void setTitle(String name) {&#x000A;        this.title = name;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    @Override&#x000A;    public String toString() {&#x000A;        return "Game@" + hashCode() + "[id = " + id + "; title = " + title + "]";&#x000A;    }&#x000A;}</code></pre>
              <p>The primary key is defined using the <code>@Id</code> annotation on the field. Additional columns are derived automatically from bean properties (standard getter/setter convention). You can use the <code>@Column</code> annotation to explicitly set the name of the column. Otherwise, the column name is determined by removing the &#8220;get&#8221; prefix from the bean property&#8217;s read method and lowercasing the first character of the remainder (e.g., getTitle() =&gt; title).</p>
              <p>We are also using standard Bean Validation annotations to enforce constraints. Here, a title must be provided and it must be between 3 and 50 characters long. That would make a good test.</p>
              <p>Let&#8217;s create a new JUnit 4 Arquillian test case, <code>GamePersistenceTestCase</code>, and prepare it to test our JPA operations. We&#8217;ll leverage <a href="http://docs.jboss.org/cdi/spec/1.0/html" title="JSR-299">CDI</a> to supply us with the resources we need via dependency injection. (We&#8217;ll look at an alternative way to accomplish this using a utility EJB in a follow-up post).</p>
              <div class="filename">src/test/java/com/acme/jpa/test/GamePersistenceTestCase.java</div>
              <pre class="prettify"><code class="prettify">@RunWith(Arquillian.class)&#x000A;public class GamePersistenceTestCase {&#x000A;    @Deployment&#x000A;    public static Archive&lt;?&gt; createDeployment() {&#x000A;        return ShrinkWrap.create(WebArchive.class, "test.war")&#x000A;            .addPackage(Game.class.getPackage())&#x000A;            .addManifestResource("test-persistence.xml", "persistence.xml")&#x000A;            .addWebResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    private static final String[] GAME_TITLES = {&#x000A;        "Super Mario Brothers",&#x000A;        "Mario Kart",&#x000A;        "F-Zero"&#x000A;    };</code>&#x000A;    &#x000A;<code class="prettify">    @PersistenceContext&#x000A;    EntityManager em;</code>&#x000A;    &#x000A;<code class="prettify">    @Inject&#x000A;    UserTransaction utx;</code>&#x000A; &#x000A;<code class="prettify">    // tests go here&#x000A;}</code></pre>
              <p>Let&#8217;s work from top to bottom to understand what&#8217;s going on here before we get to the tests.</p>
              <dl>
              	<dt>@RunWith(Arquillian.class)</dt>
              	<dd>Tells JUnit to delegate execution of the test to the Arquillian runner.  This allows Arquillian to infuse your test with a component model, which consists of container lifecycle management and dependency injection, among other enhancements. Notice that you are not required to extend a base class, so that&#8217;s left open to your own design.</dd>
              	<dt>@Deployment method</dt>
              	<dd>Produces a &#8220;micro deployment&#8221; archive using the ShrinkWrap API.  Arquillian deploys this archive, along with the test case and some additional infrastructure, to the container. The test then executes as a component within this mini application. The contents of this archive are the tests isolated little world.</dd>
              	<dt>GAME_TITLES constant</dt>
              	<dd>The sample test data</dd>
              	<dt>PersistenceContext EntityManager</dt>
              	<dd>Injects the persistence context (<code>EntityManager</code>) directly into the test, just as though the test were a <a href="http://download.oracle.com/javaee/6/api/javax/annotation/ManagedBean.html">managed bean</a>.</dd>
              	<dt>@Inject UserTransaction</dt>
              	<dd>Injects a JTA transaction directly into the test, a service provided to the managed bean by CDI (JSR-299).<br />
              Let&#8217;s add a helper method that enters the sample records into the database:</dd>
              </dl>
              <pre class="prettify"><code class="prettify">public void insertSampleRecords() throws Exception {&#x000A;    // clear database&#x000A;    utx.begin();&#x000A;    em.joinTransaction();</code>&#x000A; &#x000A;<code class="prettify">    System.out.println("Clearing the database...");&#x000A;    em.createQuery("delete from Game").executeUpdate();</code>&#x000A; &#x000A;<code class="prettify">    // insert records&#x000A;    System.out.println("Inserting records...");&#x000A;    for (String title : GAME_TITLES) {&#x000A;        Game game = new Game(title);&#x000A;        em.persist(game);&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    utx.commit();&#x000A;}</code></pre>
              <p>We have to explicitly enlist the <code>EntityManager</code> in the JTA transaction since we are using these two resources independently. Normally enlistment happens automatically within an EJB.</p>
              <p>Here&#8217;s the test that verifies we can select the sample records using JPQL.  We&#8217;ll print some logging statements so you can watch what&#8217;s going on.</p>
              <pre class="prettify"><code class="prettify">@Test&#x000A;public void should_be_able_to_select_games_using_jpql() throws Exception {&#x000A;    insertSampleRecords();</code>&#x000A; &#x000A;<code class="prettify">    utx.begin();&#x000A;    em.joinTransaction();</code>&#x000A; &#x000A;<code class="prettify">    System.out.println("Selecting (using JPQL)...");&#x000A;    List&lt;Game&gt; games = em.createQuery("select g from Game g order by g.id",&#x000A;       Game.class).getResultList();&#x000A;    System.out.println("Found " + games.size() + " games (using JPQL)");&#x000A;    assertEquals(GAME_TITLES.length, games.size());</code>&#x000A; &#x000A;<code class="prettify">    for (int i = 0; i &lt; GAME_TITLES.length; i++) {&#x000A;        assertEquals(GAME_TITLES[i], games.get(i).getTitle());&#x000A;        System.out.println(games.get(i));&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    utx.commit();&#x000A;}</code></pre>
              <p>Now for the new stuff! Here&#8217;s the same test that uses the Criteria API. Note that this test depends on the JPA 2 annotation processor generating the <code>Game_</code> metamodel class during the build compilation step.</p>
              <pre class="prettify"><code class="prettify">@Test&#x000A;public void should_be_able_to_select_games_using_criteria_api() throws Exception {&#x000A;    insertSampleRecords();</code>&#x000A; &#x000A;<code class="prettify">    utx.begin();&#x000A;    em.joinTransaction();</code>&#x000A; &#x000A;<code class="prettify">    CriteriaBuilder builder = em.getCriteriaBuilder();&#x000A;    CriteriaQuery&lt;Game&gt; criteria = builder.createQuery(Game.class);&#x000A;    // FROM clause&#x000A;    Root&lt;Game&gt; game = criteria.from(Game.class);&#x000A;    // SELECT clause&#x000A;    criteria.select(game);&#x000A;    // ORDER BY clause&#x000A;    criteria.orderBy(builder.asc(game.get(Game_.id)));&#x000A;    // No WHERE clause, select all</code>&#x000A; &#x000A;<code class="prettify">    System.out.println("Selecting (using Criteria)...");&#x000A;    List&lt;Game&gt; games = em.createQuery(criteria).getResultList();&#x000A;    System.out.println("Found " + games.size() + " games (using Criteria)");&#x000A;    assertEquals(GAME_TITLES.length, games.size());</code>&#x000A; &#x000A;<code class="prettify">    for (int i = 0; i &lt; GAME_TITLES.length; i++) {&#x000A;        assertEquals(GAME_TITLES[i], games.get(i).getTitle());&#x000A;        System.out.println(games.get(i));&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    utx.commit();&#x000A;}</code></pre>
              <p>In order for JPA to work, it needs a Persistence Unit. We define the Persistence Unit in the test-persistence.xml that&#8217;s associated with the target container.</p>
              <p>ShrinkWrap takes this file from the classpath and puts it into its standard location within the archive.</p>
              <pre class="prettify"><code class="prettify">.addManifestResource("test-persistence.xml", "persistence.xml")</code></pre>
              <p>Here&#8217;s the entire structure of the archive ShrinkWrap will assemble for this test case (minus the Arquillian infrastructure):</p>
              <pre>WEB-INF/&#x000A;|-- beans.xml&#x000A;|-- classes&#x000A;|   |-- META-INF&#x000A;|   |   `-- persistence.xml&#x000A;|   `-- com&#x000A;|       `-- acme&#x000A;|           `-- jpa&#x000A;|               |-- Game.class&#x000A;|               |-- GamePersistenceTestCase.class&#x000A;|               `-- Game_.class&#x000A;`-- lib&#x000A;    |-- ...</pre>
              <p>Let&#8217;s look at the Persistence Unit descriptor for Embedded GlassFish:</p>
              <div class="filename">src/test/resources-glassfish-embedded/test-persistence.xml</div>
              <pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://java.sun.com/xml/ns/persistence&#x000A;        http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"&gt;&#x000A;    &lt;persistence-unit name="test"&gt;&#x000A;        &lt;jta-data-source&gt;jdbc/arquillian&lt;/jta-data-source&gt;&#x000A;        &lt;properties&gt;&#x000A;            &lt;property name="eclipselink.ddl-generation"&#x000A;                value="drop-and-create-tables"/&gt;&#x000A;            &lt;property name="eclipselink.logging.level" value="FINE"/&gt;&#x000A;        &lt;/properties&gt;&#x000A;    &lt;/persistence-unit&gt;&#x000A;&lt;/persistence&gt;</code></pre>
              <p>We set two vendor-specific properties to activate features of the built-in provider, EclipseLink. The first property tells EclipseLink to generate the database to match the JPA entities. The second property enables logging of SQL statements so we can monitor the activity.</p>
              <p>The Persistence Unit is referring to the JTA DataSource named jdbc/arquillian.  Where&#8217;s that defined? Ah, that&#8217;s something the Arquillian container adapter needs to setup. As in Arun&#8217;s recipe, we want to use the GlassFish APIs to create a JDBC Connection Pool and associated Resource. But we don&#8217;t want to have to code it. We just want to declare it.</p>
              <p>First, we create a sun-resources.xml file containing the resource definitions, which GlassFish knows how to consume.</p>
              <div class="filename">src/test/resources-glassfish-embedded/sun-resources.xml</div>
              <pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;!DOCTYPE resources PUBLIC&#x000A;   -//Sun Microsystems, Inc.//DTD Application Server 9.0 Resource Definitions //EN&#x000A;   http://www.sun.com/software/appserver/dtds/sun-resources_1_4.dtd&gt;&#x000A;&lt;resources&gt;&#x000A;    &lt;jdbc-resource pool-name="ArquillianEmbeddedDerbyPool"&#x000A;        jndi-name="jdbc/arquillian"/&gt;&#x000A;    &lt;jdbc-connection-pool name="ArquillianEmbeddedDerbyPool"&#x000A;        res-type="javax.sql.DataSource"&#x000A;        datasource-classname="org.apache.derby.jdbc.EmbeddedDataSource"&#x000A;        is-isolation-level-guaranteed="false"&gt;&#x000A;        &lt;property name="databaseName" value="target/databases/derby"/&gt;&#x000A;        &lt;property name="createDatabase" value="create"/&gt;&#x000A;    &lt;/jdbc-connection-pool&gt;&#x000A;&lt;/resources&gt;</code></pre>
              <p>We&#8217;ve now isolated the DataSource definition from the test in the same way we do in the main application. The further benefit is that we can define any resources we might need for our test. Imagine the possibilities.</p>
              <p>Now we need to tell Arquillian to use this file. We open up the Arquillian configuration and configure the Embedded GlassFish container adapter to pick up this file, which it will feed to the asadmin add-resources command.</p>
              <div class="filename">src/test/resources/arquillian.xml</div>
              <pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;arquillian xmlns="http://jboss.com/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xmlns:gfembed="urn:arq:org.jboss.arquillian.container.glassfish.embedded_3"&gt;&#x000A;    &lt;gfembed:container&gt;&#x000A;        &lt;gfembed:sunResourcesXml&gt;&#x000A;            src/test/resources-glassfish-embedded/sun-resources.xml&#x000A;        &lt;/gfembed:sunResourcesXml&gt;&#x000A;    &lt;/gfembed:container&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
              <p>All that&#8217;s left is to setup the Maven build to execute the test. To get this code to actually compile, we have to tell Maven it&#8217;s okay to use JDK 6 (it&#8217;s stubborn like that).</p>
              <pre class="prettify"><code class="prettify">&lt;build&gt;&#x000A;    &lt;plugins&gt;&#x000A;        &lt;plugin&gt;&#x000A;            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#x000A;            &lt;version&gt;2.3.1&lt;/version&gt;&#x000A;            &lt;configuration&gt;&#x000A;                &lt;source&gt;1.6&lt;/source&gt;&#x000A;                &lt;target&gt;1.6&lt;/target&gt;&#x000A;            &lt;/configuration&gt;&#x000A;        &lt;/plugin&gt;&#x000A;    &lt;/plugins&gt;&#x000A;&lt;/build&gt;</code></pre>
              <p>You also need to configure Maven to run the JPA 2 annotation processor, which I describe in <a href="http://in.relation.to/Bloggers/AMoreConciseWayToGenerateTheJPA2MetamodelInMaven">another blog entry</a>.</p>
              <p>We&#8217;re going to separate out the target containers using Maven profiles. All of the profiles will share a common set of dependencies:</p>
              <pre class="prettify"><code class="prettify">&lt;dependencies&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;        &lt;version&gt;4.8.1&lt;/version&gt;&#x000A;    &lt;/dependency&gt;</code>&#x000A;&#x000A;<code class="prettify">    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.arquillian&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;arquillian-junit&lt;/artifactId&gt;&#x000A;        &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;&#x000A;    &lt;/dependency&gt;&#x000A;&lt;/dependencies&gt;</code></pre>
              <p>Here&#8217;s the profile for Embedded GlassFish. If you don&#8217;t want to target multiple containers, you can simply make this part of the top-level configuration.</p>
              <pre class="prettify"><code class="prettify">&lt;profile&gt;&#x000A;    &lt;id&gt;arq-glassfish-embedded&lt;/id&gt;&#x000A;    &lt;activation&gt;&#x000A;        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;&#x000A;    &lt;/activation&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-glassfish-embedded-3&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.glassfish.extras&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;glassfish-embedded-all&lt;/artifactId&gt;&#x000A;            &lt;version&gt;3.0.1&lt;/version&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;    &lt;build&gt;&#x000A;        &lt;testResources&gt;&#x000A;            &lt;testResource&gt;&#x000A;                &lt;directory&gt;src/test/resources&lt;/directory&gt;&#x000A;            &lt;/testResource&gt;&#x000A;            &lt;testResource&gt;&#x000A;                &lt;directory&gt;src/test/resources-glassfish-embedded&lt;/directory&gt;&#x000A;            &lt;/testResource&gt;&#x000A;        &lt;/testResources&gt;&#x000A;    &lt;/build&gt;&#x000A;&lt;/profile&gt;</code></pre>
              <p>We are explicitly adding the src/test/resources-glassfish-embedded directory as a test resource directory so that test-persistence.xml is placed into the classpath. Again, if you only intend on using Embedded GlassFish, this file can be moved into the standard Maven location and you can skip this configuration.</p>
              <p>When you are done setting everything up, you can run the test with the following command:</p>
              <pre class="command"><code class="command">$ mvn clean test</code></pre>
              <p>The profile for Embedded GlassFish is activated by default. Snippets of the test output is show below.</p>
              <pre class="output"><code class="output">...&#x000A;INFO: GlassFish Server Open Source Edition 3.0.1 (java_re-private)&#x000A;...&#x000A;Oct 4, 2010 1:01:56 PM org.jboss.arquillian.container.glassfish.embedded_3.GlassFishEmbeddedContainer executeCommand&#x000A;INFO: add-resources command result (1): JDBC connection pool ArquillianEmbeddedDerbyPool created successfully.&#x000A;Oct 4, 2010 1:01:56 PM org.jboss.arquillian.container.glassfish.embedded_3.GlassFishEmbeddedContainer executeCommand&#x000A;INFO: add-resources command result (2): JDBC resource jdbc/arquillian created successfully.&#x000A;Oct 4, 2010 1:01:56 PM com.sun.enterprise.v3.services.impl.GrizzlyProxy$2$1 onReady&#x000A;INFO: Grizzly Framework 1.9.18-o started in: 226ms listening on port 8181&#x000A;...&#x000A;Oct 4, 2010 1:07:14 PM com.sun.enterprise.web.WebApplication start&#x000A;INFO: Loading application test at /test&#x000A;...&#x000A;Inserting records...&#x000A;Selecting (using JPQL)...&#x000A;Found 3 games (using JPQL)&#x000A;Game@22609264[id = 1; title = Super Mario Brothers]&#x000A;Game@3655662[id = 2; title = Mario Kart]&#x000A;Game@20289248[id = 3; title = F-Zero]&#x000A;Selecting (using Criteria)...&#x000A;Found 3 games (using Criteria)&#x000A;Game@25589884[id = 1; title = Super Mario Brothers]&#x000A;Game@18616220[id = 2; title = Mario Kart]&#x000A;Game@29940830[id = 3; title = F-Zero]&#x000A;...&#x000A;Oct 4, 2010 1:07:16 PM com.sun.enterprise.v3.server.AppServerStartup stop&#x000A;INFO: Shutdown procedure finished</code></pre>
              <p><strong>That&#8217;s a real integration test!</strong></p>
              <p>What&#8217;s more, we can run the exact same test on JBoss AS. We&#8217;ll need a different Persistence Unit definition that specifies a JDBC Resource available on JBoss AS and sets some Hibernate configuration settings. (Arquillian doesn&#8217;t yet support deploying a DataSource to JBoss AS&#8212;though it&#8217;s in the pipeline&#8212;so for now we use the built-in DataSource, java:/DefaultDS.).</p>
              <div class="filename">src/test/resources-jbossas-remote/test-persistence.xml</div>
              <pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://java.sun.com/xml/ns/persistence&#x000A;        http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"&gt;&#x000A;    &lt;persistence-unit name="test"&gt;&#x000A;        &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;&#x000A;        &lt;properties&gt;&#x000A;            &lt;property name="hibernate.hbm2ddl.auto" value="create-drop"/&gt;&#x000A;            &lt;property name="hibernate.show_sql" value="true"/&gt;&#x000A;        &lt;/properties&gt;&#x000A;    &lt;/persistence-unit&gt;&#x000A;&lt;/persistence&gt;</code></pre>
              <p>Then we need a Maven profile that adds the JBoss AS container adapter and client API libraries and the JBoss AS resources:</p>
              <pre class="prettify"><code class="prettify">&lt;profile&gt;&#x000A;    &lt;id&gt;arq-jbossas-managed&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-jbossas-managed-6&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.jbossas&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-as-client&lt;/artifactId&gt;&#x000A;            &lt;version&gt;6.0.0.20100721-M4&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Beta7&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.jbossas&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-server-manager&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.3.GA&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;    &lt;build&gt;&#x000A;        &lt;testResources&gt;&#x000A;            &lt;testResource&gt;&#x000A;                &lt;directory&gt;src/test/resources&lt;/directory&gt;&#x000A;            &lt;/testResource&gt;&#x000A;            &lt;testResource&gt;&#x000A;                &lt;directory&gt;src/test/resources-jbossas-remote&lt;/directory&gt;&#x000A;            &lt;/testResource&gt;&#x000A;        &lt;/testResources&gt;&#x000A;    &lt;/build&gt;&#x000A;&lt;/profile&gt;</code></pre>
              <p>Now we run the test again using Maven, but this time activate the JBoss AS managed profile. (You need to set the JBOSS_HOME environment variable to point to a JBoss AS installation)</p>
              <pre class="command"><code class="command">$ mvn clean test -Parq-jbossas-managed</code></pre>
              <p>Here&#8217;s the kicker. You can run this test into your IDE! Just import the project, open the test case and select &#8220;Run As &gt; JUnit Test&#8221;. Voila! It works just like any other JUnit test.</p>
              <p><strong>Enjoy the perfect recipe for testing JPA!</strong></p>
              <p><em>While it may have seemed like a lot of preparation, recognize that we left no stone unturned. To remind you of the benefits, just look back at how simple the test case is. And remind yourself it&#8217;s not bound to any particular Java EE 6 container or JPA 2 implementation.</em></p>
              <p><em>Stay tuned for other combinations, such as OpenEJB 3.2 Embedded with OpenJPA 2. So far I&#8217;ve figured out <a href="http://community.jboss.org/message/564696#564696">how to test JPA 1.x applications</a> using OpenEJB 3.1 with OpenJPA, Hibernate and EclipseLink.</em></p>
            </div>
            <div class="footer">
              <a href="/blog/2010/10/04/the-perfect-recipe-for-testing-jpa-2-revisited/">permalink</a>
              |
              <i class="icon-tags"></i>
              tagged as
              <a class="tag" href="/blog/tags/jpa/">jpa</a> <a class="tag" href="/blog/tags/jbossas/">jbossas</a> <a class="tag" href="/blog/tags/glassfish/">glassfish</a> <a class="tag" href="/blog/tags/examples/">examples</a> <a class="tag" href="/blog/tags/cdi/">cdi</a> <a class="tag" href="/blog/tags/2010/">2010</a> <a class="tag" href="/blog/tags/nonrelease/">nonrelease</a>
            </div>
          </article>
          <article class="post">
            <header class="header">
              <h2 class="title">
                <a href="/blog/2010/03/11/arquillian-1-alpha-1-released/">Arquillian 1.0.0 Alpha 1 Released!</a>
              </h2>
              <div class="byline">
                <img class="avatar" src="http://gravatar.com/avatar/3f27861ec08730fd02c91fe4129d2668?s=44" />
                <span class="author">Posted by
                <a href="https://community.jboss.org/people/aslak">Aslak Knutsen</a></span>
                <span class="dateinline">on Mar 11, 2010</span>
                <div class="date"><abbr>Mar</abbr> 11</div>
                <span class="comments">| <a href="/blog/2010/03/11/arquillian-1-alpha-1-released/#disqus_thread" data-disqus-identifier="e599fa039e3fa471960484fddd6d0b7a00c83b9f">Comments</a></span>
              </div>
            </header>
            <div class="body">
              <p>I&#8217;m happy to announce the first alpha release of <a href="http://arquillian.org">Arquillian</a>, an open source (<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL v2</a>) framework for running tests in the container. If you want to read more about Arquillian&#8217;s mission and how it fits into our vision for testing at JBoss, read Pete&#8217;s companion blog entry, <a href="/blog/2010/03/10/testing-javaee-the-jboss-way">Testing Java EE the JBoss way</a>.</p>
              <p>It&#8217;s one thing to unit test your code outside of the container, but what happens when you run it inside? Does it still behave the same? How about testing against container managed resources? This is where Arquillian comes into its own.</p>
              <p>With Arquillian it&#8217;s just as easy to write integration tests as it is to write unit tests. In fact, to minimize the burden on you, Arquillian integrates with familiar testing frameworks, allowing reuse of tools such as the JUnit/TestNG support in your favorite IDE, Maven Surefire, Ant &#8211; in fact any tool which supports TestNG or JUnit!</p>
              <p>To show you just how simple this is, here&#8217;s an example test case setup using JUnit (we&#8217;ll get to the actual test next):</p>
              <pre class="prettify"><code class="prettify">@RunWith(org.jboss.arquillian.junit.Arquillian.class)&#x000A;public class TemperatureConverterTestCase {</code>&#x000A; &#x000A;<code class="prettify">    @Deployment&#x000A;    public static JavaArchive createTestArchive() {&#x000A;        return Archives.create("test.jar", JavaArchive.class)&#x000A;            .addClasses(TemperatureConverter.class, TemperatureConverterBean.class);&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">}</code></pre>
              <p>By using JUnit&#8217;s <code>@RunWith</code> annotation, you tell JUnit to use Arquillian as the test controller. Arquillian will then look for a static method marked with the <code>@Deployment</code> annotation, which defines your micro-deployment. In the example above, the micro-deployment contains a session bean interface and implementation, which Arquillian will deploy to the container.</p>
              <p>Arquillian hooks into your testing frameworks lifecycle and reacts to events. On the before suite and after suite events the container is started/stopped, while on the before class and after class events your micro-deployment is deployed to/undeployed from the container.</p>
              <p>The test case is started in the local JVM. Arquillian then overrides the normal test execution and migrates the test so that it&#8217;s executed inside the container. By the time the test framework calls your <code>@Test</code> annotated method, the test is running inside the container, giving us the possibility to work with container managed resources. Here&#8217;s the complete test class with JUnit <code>@Test</code> methods.</p>
              <pre class="prettify"><code class="prettify">@RunWith(org.jboss.arquillian.junit.Arquillian.class)&#x000A;public class TemperatureConverterTestCase {</code>&#x000A; &#x000A;<code class="prettify">    @Deployment&#x000A;    public static JavaArchive createTestArchive() {&#x000A;        return Archives.create("test.jar", JavaArchive.class)&#x000A;            .addClasses(TemperatureConverter.class, TemperatureConverterBean.class);&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    @EJB&#x000A;    TemperatureConverter converter;</code>&#x000A; &#x000A;<code class="prettify">    @Test&#x000A;    public void shouldConvertToCelsius() {&#x000A;        Assert.assertEquals(converter.convertToCelsius(32d), 0d);&#x000A;        Assert.assertEquals(converter.convertToCelsius(212d), 100d);&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    @Test&#x000A;    public void shouldConvertToFarenheit() {&#x000A;        Assert.assertEquals(converter.convertToFarenheit(0d), 32d);&#x000A;        Assert.assertEquals(converter.convertToFarenheit(100d), 212d);&#x000A;    }&#x000A;}</code></pre>
              <p>Note how we can use <code>@EJB</code> to inject the session bean from our deployment into the test case for use in our test method &#8211; <em>neat!</em></p>
              <p>The Arquillian TestEnricher SPI supports all the injection annotations from Java EE 6:</p>
              <ul>
              	<li><code>@EJB</code></li>
              	<li><code>@Resource</code></li>
              	<li><code>@PersistenceContext</code></li>
              	<li><code>@Inject</code></li>
              </ul>
              <p>Since there are no container specific code/configuration in this example test case, it&#8217;s portable. That means it can be run in GlassFish, JBoss AS or OpenEJB, <em>or all three!</em> The choice is yours.</p>
              <h2>I want to learn more, where should I go from here?</h2>
              <p>You can follow up with some in depth usage scenarios and tests described in these articles:</p>
              <ul>
              	<li>Dan Allen &#8211; <a href="http://community.jboss.org/docs/DOC-14952">Using Arquillian to test a possible bug in Weld</a></li>
              	<li>Jordan Ganoff &#8211; <a href="http://community.jboss.org/docs/DOC-14845">Seam 3 JMS Module Testing with Arquillian</a></li>
              	<li>German Escobar &#8211; <a href="http://community.jboss.org/docs/DOC-14953">Testing a JMX Portable Extension for CDI</a></li>
              </ul>
              <p>We also have <a href="http://docs.jboss.org/arquillian/reference/1.0.0.Alpha1/en-US/html_single">reference documentation</a> which walks you through the examples from Arquillian, and shows you how to create your own Arquillian test suite. You might also find the Javadoc useful (<a href="http://docs.jboss.org/arquillian/api/1.0.0.Alpha1/">API</a>, <a href="http://docs.jboss.org/arquillian/spi/1.0.0.Alpha1/">SPI</a>), especially if you plan on adding support for another container. You can also check out the forums and more articles can be found on our <a href="http://community.jboss.org/en/arquillian/">community site</a>. If your interested in chatting to us, please drop by #jbosstesting on irc.freenode.net</p>
              <h2>So, what&#8217;s next?</h2>
              <p>Some of the things you can expect from Arquillian in the future are:</p>
              <ul>
              	<li><b>Local run mode</b> &#8212; Sometimes, you don&#8217;t want to run the test case inside the container itself. A local run mode will be added; a mode where your test controls the deployment but is not deployed as a part of it. This will give you the chance to run a test against, for example, JSF pages or RMI (testing for those nasty Non-Serializable / SessionClosed exceptions).</li>
              	<li><b>Multiple deployments controlled by same test</b> &#8212; Sometimes your micro-deployment is not enough to test on its own and you want to package other components as part of the same deployment. For example, you need to test the interaction between two Web applications.</li>
              	<li><b>Support for method argument injection</b> &#8212; In the first alpha we only support field injection. In alpha 2 we will be extending the <a href="http://docs.jboss.org/arquillian/spi/1.0.0.Alpha1/org/jboss/arquillian/spi/TestEnricher.html">TestEnricher SPI</a> to include support for method argument injection:</li>
              </ul>
              <pre class="prettify"><code class="prettify">@Test&#x000A;public void shouldWithdrawFromAccount(@EJB AccountManager manager)&#x000A;        throws Exception {&#x000A;    ...&#x000A;}</code></pre>
              <ul>
              	<li><b>Test method interceptors</b> &#8211; Another planned enricher SPI is a test method interceptor. With this we can add support for transactions:</li>
              </ul>
              <pre class="prettify"><code class="prettify">@Test&#x000A;@TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)&#x000A;public void shouldWithdrawFromAccount(@EJB AccountManager manager)&#x000A;        throws Exception {&#x000A;    ...&#x000A;}</code></pre>
              <ul>
              	<li><b>Convention over configuration</b> &#8211; The micro-deployments should be as easy as possible to create, so adding support for common conventions should help speed up the test development. For example we can automatically add all classes in the same package as the test class to the deployment</li>
              	<li><b>Arquillian controlled resources</b> &#8211; Sometimes the container requires container specific configuration e.g, <code>java.naming.*</code> parameters needed to create an <code>InitialContext</code>. If the test case has to explicitly deal with this, it places the burden for container portability back on the test case author. Arquillian will provide an extension point to add Arquillian created/managed resources:</li>
              </ul>
              <pre class="prettify"><code class="prettify">// auto creation of InitialContext based on running container, remote or local.&#x000A;@ArquillianResource&#x000A;InitialContext context;</code></pre>
              <pre class="prettify"><code class="prettify">// auto creation of URL to a deployed Servlet, including http port/ip etc.&#x000A;@ArquillianResource(MyServlet.class)&#x000A;URL myServletURL;</code></pre>
              <pre class="prettify"><code class="prettify">// the bundle context of a deployed osgi bundle&#x000A;@ArquillianResource&#x000A;BundleContext context;</code></pre>
              <ul>
              	<li><b>Support for more containers</b> &#8211; We will plan to support more containers! Currently we have planned: GlassFish 3 (as a remote container), Jetty, Tomcat, Resin, Felix OSGI. (Hey Spring guys, you&#8217;re welcome to join in too!)</li>
              	<li><b>Third party integrations</b> &#8211; In the spirit of ease of development, we integrate with existing test frameworks as much as possible, but we are always keen to learn of new frameworks we can integrate with. We already plan to support Selenium for example.</li>
              	<li><b>Support for other build tools</b> &#8211; Arquillian Alpha1 comes with Maven support. In upcoming releases, we will distribute builds targeted toward other build tools like Ant and Gradle (that shout out is for our resident Gradle expert, Jason Porter).</li>
              	<li><b>A project page, logo and artwork</b> &#8211; All good things must look good. That&#8217;s why the JBoss.org design team is hard at work putting together artwork for the Arquillian project page. Stay tuned!</li>
              </ul>
              <h2>Where can I see Arquillian in use?</h2>
              <p>Arquillian is a new framework, but it&#8217;s going to be put right to work as the workhorse to test all the Seam 3 modules. It will also be our recommended solution for testing your Seam application. (We&#8217;d love to see the community try it out for testing Seam 2 applications). We&#8217;ll also replace the current core of the JSR-299 CDI TCK with Arquillian, likely for the 1.1 version of the TCK. (To provide a little history, Arquillian originated from the <a href="http://docs.jboss.org/cdi/tck/reference/1.0.1-Final/html/test-harness-introduction.html">JBoss Test Harness</a> that was developed by Pete Muir as the foundation of the CDI TCK).</p>
              <p>If you have any thoughts on these ideas, or would like to suggest some new avenues we should explore, please contact us on the <a href="http://community.jboss.org/community/arquillian/dev">Arquillian Dev forum</a>.</p>
              <h2>And, what&#8217;s open source with out the community?!</h2>
              <p>A big thanks to the Arquillian and ShrinkWrap community for helping out on this release by being early adopters, joining in on <a href="http://community.jboss.org/docs/DOC-14808">community meetings</a>, general discussions and writing blogs, articles and patches. In alphabetical order: <a href="https://community.jboss.org/people/dan.j.allen">Dan Allen</a>, <a href="https://community.jboss.org/people/sboscarine">Steven Boscarine</a>, <a href="https://community.jboss.org/people/germanescobar">German Escobar</a>, <a href="https://community.jboss.org/people/jganoff">Jordan Ganoff</a>, <a href="https://community.jboss.org/people/kenglxn">Ken Gullaksen</a>, <a href="https://community.jboss.org/people/petemuir">Pete Muir</a>, <a href="https://community.jboss.org/people/lightguard">Jason Porter</a> and <a href="https://community.jboss.org/people/alrubinger">Andrew Lee Rubinger</a>. You guys rock!</p>
              <p>[ <a href="https://issues.jboss.org/browse/ARQ">Issues</a> | Javadoc: <a href="http://docs.jboss.org/arquillian/api/1.0.0.Alpha1/">API</a>, <a href="http://docs.jboss.org/arquillian/spi/1.0.0.Alpha1/">SPI</a> | <a href="http://docs.jboss.org/arquillian/reference/1.0.0.Alpha1/en-US/html_single">Reference Guide</a> | <a href="https://jira.jboss.org/jira/secure/ReleaseNote.jspa?projectId=12310885&amp;styleName=Html&amp;version=12313950">Release Notes</a> | <a href="https://repository.jboss.org/nexus/content/groups/public/org/jboss/arquillian/">Maven artifacts</a> ]</p>
              <p><em>This post was syndicated from in.relation.to. See the <a href="http://in.relation.to/Bloggers/Arquillian100Alpha1Released">original blog entry</a> to view older comments.</em></p>
            </div>
            <div class="footer">
              <a href="/blog/2010/03/11/arquillian-1-alpha-1-released/">permalink</a>
              |
              <i class="icon-tags"></i>
              tagged as
              <a class="tag" href="/blog/tags/testing/">testing</a> <a class="tag" href="/blog/tags/roadmap/">roadmap</a> <a class="tag" href="/blog/tags/examples/">examples</a> <a class="tag" href="/blog/tags/announcement/">announcement</a> <a class="tag" href="/blog/tags/2010/">2010</a> <a class="tag" href="/blog/tags/nonrelease/">nonrelease</a>
            </div>
            
                        <script type="text/javascript">
                        var disqus_shortname = 'arquillian';
                        (function () {
                          var s = document.createElement('script'); s.async = true;
                          s.src = "http://disqus.com/forums/arquillian/count.js";
                          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
                        }());
                        </script>
          </article>
          <ul class="pager">
            <li class="disabled previous">
              <a href="#">&laquo; Older</a>
            </li>
            <li class="pages">Page 1 of 1</li>
            <li class="disabled next">
              <a href="#">Newer &raquo;</a>
            </li>
          </ul>
        </div>
        <aside id="sidebar" role="complementary">
          <div class="subscribe">
            <h2 class="icon news">
              <a href="/blog/atom.xml">Subscribe to the Arquillian Blog</a>
            </h2>
            <p><em>Get the latest information on features, releases and events.</em></p>
          </div>
          <nav class="latest">
            <h2>Latest Posts</h2>
            <ul>
              <li>
                <div class="title">
                  <a href="/blog/2012/04/24/arquillian-extension-jacoco-1-0-0-Alpha3/">Arquillian Extension Jacoco 1.0.0.Alpha3 Released</a>
                </div>
                <div class="meta">
                  Apr 24, 2012
                </div>
              </li>
              <li>
                <div class="title">
                  <a href="/blog/2012/04/23/bug-killing-proposals-accepted-for-gsoc2012/">Bug killing proposals accepted for 2012 Google Summer of Code!</a>
                </div>
                <div class="meta">
                  Apr 23, 2012
                </div>
              </li>
              <li>
                <div class="title">
                  <a href="/blog/2012/04/13/the-danger-of-embedded-containers/">The Danger of Embedded Containers</a>
                </div>
                <div class="meta">
                  Apr 13, 2012
                </div>
              </li>
              <li>
                <div class="title">
                  <a href="/blog/2012/04/12/arquillian-extension-persistence-1-0-0-Alpha4/">Arquillian Persistence Extension 1.0.0.Alpha4 Released</a>
                </div>
                <div class="meta">
                  Apr 12, 2012
                </div>
              </li>
              <li>
                <div class="title">
                  <a href="/blog/2012/04/11/arquillian-graphene-1-0-0-Final/">Graphene 1.0.0.Final Released</a>
                </div>
                <div class="meta">
                  Apr 11, 2012
                </div>
              </li>
            </ul>
            
                        <div id="popularposts" class="dsq-widget">
                          <h2 class="dsq-widget-title">Popular Posts</h2>
                          <script src="http://arquillian.disqus.com/popular_threads_widget.js?num_items=5"></script>
                          <script>
                            var ppw = document.getElementById("popularposts");
                            if (ppw.getElementsByTagName('li').length == 0) {
                              var p = document.createElement('p');
                              p.className = 'noresults';
                              p.appendChild(document.createTextNode('No popular posts reported.')); 
                              ppw.appendChild(p);
                            }
                          </script>
                          <noscript>
                            <p>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">popular posts powered by Disqus</a>.</p>
                          </noscript>
                        </div>
          </nav>
          <nav class="tags">
            <h2>Tags</h2>
            <div class="tag-cloud">
              <span class="tag tag-1">
                <a href="/blog/tags/2010/">2010</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/2011/">2011</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/2012/">2012</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/ajocado/">ajocado</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/android/">android</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/announcement/">announcement</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/as7/">as7</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/awards/">awards</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/best-practice/">best-practice</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/byteman/">byteman</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/cdi/">cdi</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/community/">community</a>
              </span>
              <span class="tag tag-3">
                <a href="/blog/tags/container-adapter/">container-adapter</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/contributors/">contributors</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/core/">core</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/dependencies/">dependencies</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/docs/">docs</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/drone/">drone</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/event/">event</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/examples/">examples</a>
              </span>
              <span class="tag tag-3">
                <a href="/blog/tags/extension/">extension</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/forge/">forge</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/glassfish/">glassfish</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/graphene/">graphene</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/gsoc/">gsoc</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/guides/">guides</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/hackfest/">hackfest</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/jacoco/">jacoco</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/javaone/">javaone</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/jboss/">jboss</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/jbossas/">jbossas</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/jbosscentral/">jbosscentral</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/jbossworld/">jbossworld</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/jetty/">jetty</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/jpa/">jpa</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/judcon/">judcon</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/maven/">maven</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/migration/">migration</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/mission/">mission</a>
              </span>
              <span class="tag tag-2">
                <a href="/blog/tags/nonrelease/">nonrelease</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/openejb/">openejb</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/openshift/">openshift</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/openwebbeans/">openwebbeans</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/osgi/">osgi</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/performance/">performance</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/persistence/">persistence</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/photos/">photos</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/platform/">platform</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/plugin/">plugin</a>
              </span>
              <span class="tag tag-6">
                <a href="/blog/tags/release/">release</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/roadmap/">roadmap</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/seam2/">seam2</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/spock/">spock</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/stats/">stats</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/test-runner/">test-runner</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/testing/">testing</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/tip/">tip</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/tomcat/">tomcat</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/tool-plugin/">tool-plugin</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/video/">video</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/website/">website</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/weld/">weld</a>
              </span>
              <span class="tag tag-1">
                <a href="/blog/tags/wls/">wls</a>
              </span>
              <span class="tag tag-0">
                <a href="/blog/tags/wrapup/">wrapup</a>
              </span>
            </div>
          </nav>
        </aside>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2012 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! You can also <a href="http://www.seethestats.com/site/arquillian.org">see the stats</a>. If you want to help, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a> and hack on it.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js?4c52ec076c01fb86281d08146616aec64ec1e569"></script>
    <script>
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-18727998-3']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
