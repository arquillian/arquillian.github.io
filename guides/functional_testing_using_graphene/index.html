<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Functional Testing using Drone and Graphene &#183; Arquillian Guides</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Discover how Arquillian Graphene simplifies testing the web UI of your application." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css?e0e71a3a85916364d66959de2468e50cc63bbf50" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="guide">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="g-plusone-slot">
            <div class="g-plusone" data-annotation="none"></div>
          </div>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li class="active"><a href="/guides/">Guides</a></li>
              <li><a href="/docs/">Docs</a></li>
              <li><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/modules/">Modules</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
      <div id="content-header">
        <div class="container">
          <div class="headline">
            <h1>
              <a href="/guides/">Arquillian Guides</a>
              <small>Designed exclusively to teach you how to use Arquillian to write real tests.</small>
            </h1>
            <div class="directory">
              <a class="guides_menu" href="./" id="guides_menu">
                Guides Index
                <i class="icon-menu-closed"></i>
              </a>
              <div id="guides" style="display: none">
                <a class="guides_menu" href="./">
                  Guides Index
                  <i class="icon-menu-open"></i>
                </a>
                <hr class="clear" />
                <dl class="beg">
                  <dt>First Steps</dt>
                  <dd><a href="/guides/getting_started/">Getting Started</a>
                  <br />
                  <a href="/guides/getting_started/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_el_gr/"><img class="flag" rel="tooltip" src="/images/flags/el_gr.png" title="Ελληνικά (el_gr)" /></a>
                  <a href="/guides/getting_started_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_nl/"><img class="flag" rel="tooltip" src="/images/flags/nl.png" title="Nederlands (nl)" /></a>
                  <a href="/guides/getting_started_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_sk/"><img class="flag" rel="tooltip" src="/images/flags/sk.png" title="Slovenčina (sk)" /></a>
                  <a href="/guides/getting_started_sv_se/"><img class="flag" rel="tooltip" src="/images/flags/sv_se.png" title="Svenska (sv_se)" /></a>
                  <a href="/guides/getting_started_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/getting_started_rinse_and_repeat/">Getting Started: Rinse and Repeat</a>
                  <br />
                  <a href="/guides/getting_started_rinse_and_repeat/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/get_started_faster_with_forge/">Get Started Faster with Forge</a></dd>
                  <dd><a href="/guides/shrinkwrap_introduction/">Creating Deployable Archives with ShrinkWrap</a>
                  <br />
                  <a href="/guides/shrinkwrap_introduction/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/shrinkwrap_introduction_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/shrinkwrap_introduction_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/shrinkwrap_introduction_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/shrinkwrap_introduction_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/shrinkwrap_introduction_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                </dl>
                <dl class="int">
                  <dt>More Coverage</dt>
                  <dd><a href="/guides/testing_java_persistence/">Testing Java Persistence</a>
                  <br />
                  <a href="/guides/testing_java_persistence/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/testing_java_persistence_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/testing_java_persistence_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/testing_java_persistence_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/testing_java_persistence_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/testing_java_persistence_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/functional_testing_using_graphene/">Functional Testing using Drone and Graphene</a></dd>
                  <dd><a href="/guides/testing_in_the_cloud/">Testing in the Cloud</a></dd>
                </dl>
                <dl class="adv">
                  <dt>Enhance</dt>
                  <dd><a href="/guides/developing_a_container_adapter/">Developing a Container Adapter</a></dd>
                </dl>
                <dl class="ref">
                  <dt>Reference</dt>
                  <dd><a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Reference Guide</a></dd>
                  <dd><a href="http://docs.jboss.org/arquillian/aggregate/latest">API &amp; SPI Docs</a></dd>
                  <dd><a href="http://community.jboss.org/wiki/ArquillianMigrationGuides">Migration Guides</a></dd>
                  <dd><a href="http://community.jboss.org/en/arquillian/faq">FAQs</a></dd>
                </dl>
              </div>
            </div>
            <script>$(function() { activateGuideMenuControl() })</script>
          </div>
        </div>
      </div>
      <div class="container" id="guide">
        <div id="content">
            <div class="header">
            <div class="titlebar">
            <h2>Functional Testing using Drone and Graphene</h2>
            <div class="btn-group">
              <a class="btn" href="https://github.com/arquillian/arquillian.github.io/edit/develop/guides/functional_testing_using_graphene.textile">Edit this file</a>
            </div>
          </div>
            <div class="authors"><strong>Authors:</strong>
          <a href="/community/mojavelinux">Dan Allen</a>, <a href="/community/kpiwko">Karel Piwko</a>, <a href="/community/jhuska">Juraj Huska</a>, <a href="/community/lfryc">Lukas Fryc</a>, <a href="/community/bleathem">Brian Leathem</a>, <a href="/community/matousjobanek">Matous Jobanek</a>  <br />
          <strong>Level:</strong>
          More Coverage  <strong style="padding-left: 10px;">Tags:</strong>
          graphene, drone, selenium, as7  <strong style="padding-left: 10px;">Last Update:</strong>Jun 27, 2017</div>
            <p>This guide introduces you to functional testing using the Arquillian Graphene extension. After reading this guide, you&#8217;ll be able to:</p>
            <ul>
          	<li>Add required Arquillian extensions to your Arquillian-based test suite</li>
          	<li>Package portions of your web application to test the web user interface (UI)</li>
          	<li>Inject WebDriver API to your test case</li>
          	<li>Control the browser using Graphene to validate the behavior of your web application</li>
          </ul>
            <p>You&#8217;ll appreciate how much heavy lifting Graphene is doing to perform automated functional testing!</p>
            </div>
            <h3 id="assumptions">Assumptions</h3>
          <p>We&#8217;ll assume that you&#8217;ve read the Arquillian <a href="/guides/getting_started">Getting Started</a> guide and have an Arquillian test suite setup in your project. We&#8217;ll be adding a simple <acronym title="JavaServer Faces">JSF</acronym> login form to the project as an example web UI to test. From there, you can apply these instructions to web pages written in any web framework you would like to test.</p>
          <p>The instructions in this guide are specific to a Maven project, though remember that Arquillian is not tied to Maven in any way. We&#8217;ll be running the tests on a JBoss AS 7 instance, though you can use any web container supported by Arquillian.</p>
          <p>In this guide, we&#8217;ll be using the following technologies:</p>
          <ul>
          	<li>Arquillian</li>
          	<li>Arquillian Drone</li>
          	<li>Arquillian Graphene</li>
          	<li>Selenium WebDriver</li>
          </ul>
          <p>All these listed technologies are part of the Arquillian test platform. Both Arquillian Drone and Graphene are working with <a href="http://seleniumhq.org">Selenium WebDriver</a>, which is, in short, <a href="https://dvcs.w3.org/hg/webdriver/raw-file/default/webdriver-spec.html">a standard technology</a> for browser automation. Arquillian Drone integrates the Selenium framework with Arquillian and facilitates some of the tedious processes needed to test the frontend of any web application. Arquillian Graphene is built on top of the <a href="http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.html">Selenium WebDriver API</a> and adds a lot of features for writing reusable and maintainable functional tests. You will see them in a minute!</p>
          <p>If you&#8217;re already familiar with Selenium, you&#8217;ll discover that Arquillian manages the Selenium life cycle in much the same way it manages the container life cycle. If Selenium is new to you, this is a great opportunity to begin using its enhanced version Graphene to test the web UI of your application.</p>
          <h3 id="introducing_client_mode">Introducing Client Mode</h3>
          <p>If you&#8217;ve ever written an Arquillian based test, you know that it looks almost the same as a unit test in your unit testing framework of choice. Let&#8217;s look at an example of an Arquillian test that uses JUnit:</p>
          <pre class="prettify"><code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasicInContainerTest {&#x000A;    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class)&#x000A;            .addClass(MyBean.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Inject&#x000A;    MyBean bean;</code>&#x000A; &#x000A;<code class="prettify">    @Test&#x000A;    public void should_inject_bean_instance() {&#x000A;        Assert.assertNotNull(bean);&#x000A;    }&#x000A;}</code></pre>
          <p>Here we have deployed a CDI bean to the server inside a bean archive. In the test, we&#8217;ve injected the instance of the bean, then asserted that the injection has occurred. Arquillian first enriches the archive with the test infrastructure. It then connects to the server to deploy the archive and execute the test method inside of the container by launching the JUnit test runner a second time inside that environment. Finally, Arquillian retrieves the results from that remote execution. This example demonstrates the default run mode of Arquillian: in-container. In a sense, the local JUnit runner is a client of the container, being driven by Arquillian.</p>
          <p>The other run mode in Arquillian is the client run mode. In this mode, Arquillian deploys the test archive &#8216;as is&#8217; to the container. It then allows the tests to run in the same JVM as the test runner. Now your test case is a client of the container. The test no longer runs inside the container, yet Arquillian still handles the life cycle of the container as well as deployment of the test archive. It&#8217;s the ideal mode for web UI testing.</p>
          <h3 id="enabling_client_mode">Enabling Client Mode</h3>
          <p>How do you activate client mode? Quite simply. You either mark a deployment as non-testable, meaning Arquillian will not enrich the archive, or you can mark a specified method with the annotation <code>@RunAsClient</code>. Here&#8217;s an example:</p>
          <pre class="prettify"><code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasicClientTest {&#x000A;    @Deployment(testable = false)&#x000A;    public static WebArchive createDeployment() {&#x000A;        return ShrinkWrap.create(WebArchive.class)&#x000A;            .addClasses(MyBean.class)&#x000A;            .setWebXML("WEB-INF/web.xml");&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Test&#x000A;    public void should_login_successfully() {&#x000A;    }&#x000A;}</code></pre>
          <p>It&#8217;s also possible to mix in-container and client modes in the same test! Just leave off the <code>testable</code> attribute. Any method annotated with <code>@RunAsClient</code> will execute from the client, the remainder will execute inside the container, giving you the best of both worlds!</p>
          <pre class="prettify"><code class="prettify">@RunWith(Arquillian.class)&#x000A;public class MixedRunModeTest {&#x000A;    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class)&#x000A;            .addClass(MyBean.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Inject&#x000A;    MyBean bean;</code>&#x000A; &#x000A;<code class="prettify">    @Test&#x000A;    public void should_run_in_container() {&#x000A;        // executed from the server JVM&#x000A;        Assert.assertNotNull(bean);&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Test&#x000A;    @RunAsClient&#x000A;    public void should_run_as_client() {&#x000A;        // executed from the client JVM&#x000A;    }&#x000A;}</code></pre>
          <p>Now that you understand how to run a test in client mode, let&#8217;s check out how to test a web UI by using Arquillian Graphene to drive your browser.</p>
          <h3 id="graphene_overview">Graphene Overview</h3>
          <p>Arquillian Graphene is a set of extensions for the <a href="http://docs.seleniumhq.org">WebDriver API</a>, focused on rapid development and usability in a Java environment. Its API encourages people to write tests for AJAX-based web applications in a concise and maintainable way. Graphene strives for reusable tests by simplifying the use of web page abstractions (<a href="https://docs.jboss.org/author/display/ARQGRA2/Page+Objects">Page Objects</a> and <a href="https://docs.jboss.org/author/display/ARQGRA2/Page+Fragments">Page Fragments</a>). You will get a taste of the Graphene API in just a minute!</p>
          <p>Arquillian Graphene depends on Arquillian Drone, which is an extension that manages the life cycle of the tested browsers. Drone simplifies the initial test setup and prepares tests for continuous integration in variety of web browsers.</p>
          <p>Currently the list of supported browsers is pretty large, a bounded set of those provided by the Selenium project: e.g. Chrome, Firefox, Internet Explorer, Safari, Opera. It also supports the <a href="http://blog.arhg.net/2009/10/what-is-headless-browser.html">headless browsers</a> PhantomJS and HTMLUnit. Like Arquillian Core; Arquillian Graphene and  Arquillian Drone extensions are, well, pretty extensible.</p>
          <p>Let&#8217;s get Arquillian Graphene configured so that we can start writing some tests.</p>
          <p class="info"><span>Even though you don&#8217;t have to learn Graphene in order to use WebDriver in Arquillian tests, it is highly recommended. When using Graphene, the most tedious parts of using WebDriver will be brought under control and you&#8217;ll seamlessly leverage best practices.</span></p>
          <p class="info"><span>For more information about how Drone can enable you with Selenium 1 testing, or testing in a mobile environment, check out the <a href="https://docs.jboss.org/author/display/ARQ/Drone">Drone reference documentation</a>.</span></p>
          <h3 id="set_up_graphene">Set Up Graphene</h3>
          <p>Let&#8217;s start by setting up the libraries in the Maven pom.xml file needed to use the Graphene extension. As with the previous tutorials, we need to instruct Maven which versions of the artifacts to use by importing a <acronym title="Bill of Materials">BOM</acronym>, or version matrix. If you followed the getting started guide, you should already have a BOM defined for Arquillian in the <code>&lt;dependencyManagement&gt;</code> section.</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencyManagement&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-bom&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.1.11.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;import&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/dependencyManagement&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>Below that <code>&lt;dependency&gt;</code>, add another entry for defining the version matrix for Drone and Selenium transitive dependencies, leaving you with the following result:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencyManagement&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-bom&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.1.11.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;import&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;                                      &lt;!-- Selenium bom is optional - see note below --&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.selenium&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;selenium-bom&lt;/artifactId&gt;&#x000A;            &lt;version&gt;2.53.1&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;import&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.extension&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-drone-bom&lt;/artifactId&gt;&#x000A;            &lt;version&gt;2.0.1.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;import&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/dependencyManagement&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p class="info"><span>Theoretically, you don&#8217;t need to specify the selenium-bom because the Selenium versions are managed by <code>arquillian-drone-bom</code>. However, the Selenium release cadence is much higher then the Drone one, so it can happen that in some cases you need to use newer Selenium version than that one managed by Drone. In this case is using <code>selenium-bom</code> reasonable.<br />
          <strong>IMPORTANT</strong> If you use <code>selenium-bom</code> make sure that it is specified before the <code>arquillian-drone-bom</code> (or also before other BOMs that manage Selenium version) to make te change effective.</span></p>
          <p>If you&#8217;ve set up Arquillian previously, you should already have the JUnit and Arquillian JUnit integration dependencies under the <code>dependencies</code> element.</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencies&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;version&gt;4.11&lt;/version&gt;&#x000A;    &lt;/dependency&gt;&#x000A;&lt;/dependencies&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>Next, add the Graphene dependency, which brings you all the other required dependencies:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.arquillian.graphene&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;graphene-webdriver&lt;/artifactId&gt;&#x000A;    &lt;version&gt;2.1.0.Final&lt;/version&gt;&#x000A;    &lt;type&gt;pom&lt;/type&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>You have to specify the dependency on a container adapter. We will use the <a href="http://wildfly.org/">WildFly</a> 10 remote container, because it is an effective way to develop tests. You can read more about that in the blog <a href="http://lukas.fryc.eu/blog/2013/06/testing-jsf-richfaces-arquillian-2-rapid-test-development.html">rapid test development turnaround</a> (the section &#8220;Remote Servers&#8221;).</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.wildfly.arquillian&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;wildfly-arquillian-container-remote&lt;/artifactId&gt;&#x000A;    &lt;version&gt;2.0.0.Final&lt;/version&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p class="important"><span>If you are testing against multiple containers, then the container adapter should be included in a dedicated profile, as described in the Arquillian <a href="/guides/getting_started">Getting Started</a> guide.</span></p>
          <p>You typically need to test your web application across different browsers. Let&#8217;s add a unified way to choose which browser we want to test in our <code>pom.xml</code>. First, create a profile for each desired browser.</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;properties&gt;&#x000A;    &lt;browser&gt;phantomjs&lt;/browser&gt; &lt;!-- PhantomJS will be our default browser if no profile is specified--&gt;&#x000A;&lt;/properties&gt;&#x000A;&lt;!-- clip --&gt;</code>&#x000A;&#x000A;<code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profiles&gt;&#x000A;    &lt;profile&gt;&#x000A;       &lt;id&gt;firefox&lt;/id&gt;&#x000A;       &lt;properties&gt;&#x000A;          &lt;browser&gt;firefox&lt;/browser&gt;&#x000A;       &lt;/properties&gt;&#x000A;    &lt;/profile&gt;&#x000A;    &lt;profile&gt;&#x000A;       &lt;id&gt;chrome&lt;/id&gt;&#x000A;       &lt;properties&gt;&#x000A;           &lt;browser&gt;chrome&lt;/browser&gt;&#x000A;       &lt;/properties&gt;&#x000A;    &lt;/profile&gt;</code>&#x000A;&#x000A;<code class="prettify">    &lt;!-- feel free to add any other browser you like --&gt;&#x000A;&lt;/profiles&gt;&#x000A;&lt;!-- clip --&gt;&#x000A;&lt;build&gt;&#x000A;    &lt;!-- clip --&gt;&#x000A;    &lt;!-- test resource filtering evaluates ${browser} expression in arquillian.xml --&gt;&#x000A;    &lt;testResources&gt;&#x000A;        &lt;testResource&gt;&#x000A;            &lt;directory&gt;src/test/resources&lt;/directory&gt;&#x000A;            &lt;filtering&gt;true&lt;/filtering&gt;&#x000A;        &lt;/testResource&gt;&#x000A;    &lt;/testResources&gt;&#x000A;    &lt;!-- clip --&gt;&#x000A;&lt;/build&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>Next you need to setup <code>arquillian.xml</code> in order to change the Arquillian settings for browser selection. Add the following to the <code>arquillian.xml</code>:</p>
          <div class="filename">arquillian.xml</div>
          <pre class="prettify"><code class="prettify">&lt;arquillian&gt;</code>&#x000A;&#x000A;<code class="prettify">    &lt;!-- clip --&gt;&#x000A;    &lt;extension qualifier="webdriver"&gt;&#x000A;        &lt;property name="browser"&gt;${browser}&lt;/property&gt;&#x000A;    &lt;/extension&gt;&#x000A;    &lt;!-- clip --&gt;</code>&#x000A;&#x000A;<code class="prettify">&lt;/arquillian&gt;</code></pre>
          <p class="info"><span><a href="http://phantomjs.org/">PhantomJS</a> can be used as the default browser; thanks to its ability to operate in resource-limited environments such as continuous integration servers, while closely simulating the behavior of the Chrome browser.</span></p>
          <p class="important"><span>If you&#8217;re using Maven prior to version 3.0.5 and you can&#8217;t upgrade, you&#8217;ll need to use <code>maven-resource-plugin</code> version 2.5 or higher in order for the filtering of test resources to work correctly. You can do that by specifying the plugin version in <pluginmanagement> of your <code>pom.xml</code> file.</pluginmanagement></span></p>
          <h3 id="create_a_login_screen">Create a Login Screen</h3>
          <p>When writing a web UI test, you have to make sure you deploy a complete web application, even if it&#8217;s only a fraction of your full application (e.g., a micro application). Therefore, the <code>@Deployment</code> method for these types of tests is going to be a bit more complex, but don&#8217;t let it turn you off. Over time, you&#8217;ll divide up the deployment into reusable parts to trim down the configuration on a per-test basis.</p>
          <p>To create the login screen of the application, we need the following files and resources:</p>
          <ol>
          	<li>Credentials bean to capture the username and password</li>
          	<li>User bean to represent the current user</li>
          	<li>Login controller to authenticate the user and produce the current user</li>
          	<li>Login page</li>
          	<li>Home page (landing page after successful login)</li>
          </ol>
          <p>If you haven&#8217;t done so already, open the project in your IDE. Next, create a <code>Credentials</code> class in the <code>org.arquillian.example</code> package.</p>
          <div class="filename">src/main/java/org/arquillian/example/Credentials.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import javax.enterprise.inject.Model;</code>&#x000A;&#x000A;<code class="prettify">@Model&#x000A;public class Credentials {&#x000A;    private String username;&#x000A;    private String password;</code>&#x000A;&#x000A;<code class="prettify">    public String getUsername() {&#x000A;        return username;&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public void setUsername(String username) {&#x000A;        this.username = username;&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public String getPassword() {&#x000A;        return password;&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public void setPassword(String password) {&#x000A;        this.password = password;&#x000A;    }&#x000A;}</code></pre>
          <p><code>Credentials</code> is a request-scoped, named bean (as indicated by the <code>@Model</code> stereotype annotation) to make it capable of capturing data from the JSF login form we are going to create.</p>
          <p>Next, create the <code>User</code> class in the same package. In a more advanced example this class would likely serve as a JPA entity and we would retrieve the user&#8217;s information from a database. For now, we&#8217;ll stick with a more basic use case.</p>
          <div class="filename">src/main/java/org/arquillian/example/User.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">public class User {&#x000A;    private String username;</code>&#x000A;&#x000A;<code class="prettify">    public User() {}</code>&#x000A;    &#x000A;<code class="prettify">    public User(String username) {&#x000A;        this.username = username;&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public String getUsername() {&#x000A;        return username;&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public void setUsername(String username) {&#x000A;        this.username = username;&#x000A;    }&#x000A;}</code></pre>
          <p>Next up, create the <code>LoginController</code> class, again in the same package. For the purpose of this example, this implementation only accepts a user name and password of &#8220;demo&#8221; and issues a welcome message when the login is successful.</p>
          <div class="filename">src/main/java/org/arquillian/example/LoginController.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.Serializable;</code>&#x000A;&#x000A;<code class="prettify">import javax.enterprise.context.SessionScoped;&#x000A;import javax.enterprise.inject.Produces;&#x000A;import javax.faces.application.FacesMessage;&#x000A;import javax.faces.context.FacesContext;&#x000A;import javax.inject.Inject;&#x000A;import javax.inject.Named;</code>&#x000A;&#x000A;<code class="prettify">@Named&#x000A;@SessionScoped&#x000A;public class LoginController implements Serializable {&#x000A;    private static final long serialVersionUID = 1L;</code>&#x000A;&#x000A;<code class="prettify">    private static final String SUCCESS_MESSAGE = "Welcome";&#x000A;    private static final String FAILURE_MESSAGE =&#x000A;        "Incorrect username and password combination";</code>&#x000A;&#x000A;<code class="prettify">    private User currentUser;&#x000A;    private boolean renderedLoggedIn = false;</code>&#x000A;    &#x000A;<code class="prettify">    @Inject&#x000A;    private Credentials credentials;</code>&#x000A;    &#x000A;<code class="prettify">    public String login() {&#x000A;        if ("demo".equals(credentials.getUsername()) &amp;&amp;&#x000A;            "demo".equals(credentials.getPassword())) {&#x000A;            currentUser = new User("demo");&#x000A;            FacesContext.getCurrentInstance().addMessage(null,&#x000A;                new FacesMessage(SUCCESS_MESSAGE));&#x000A;            return "home.xhtml";&#x000A;        }</code>&#x000A;&#x000A;<code class="prettify">        FacesContext.getCurrentInstance().addMessage(null,&#x000A;            new FacesMessage(FacesMessage.SEVERITY_WARN,&#x000A;                FAILURE_MESSAGE, FAILURE_MESSAGE));&#x000A;        return null;&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public boolean isRenderedLoggedIn() {&#x000A;        if(currentUser != null) {&#x000A;            return renderedLoggedIn;&#x000A;        } else {&#x000A;            return false;&#x000A;        }&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public void renderLoggedIn() {&#x000A;        this.renderedLoggedIn = true;&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Produces&#x000A;    @Named&#x000A;    public User getCurrentUser() {&#x000A;        return currentUser;&#x000A;    }&#x000A;}</code></pre>
          <p>The <code>LoginController</code> is <code>@SessionScoped</code> so that it can store the current user for the duration of the user&#8217;s session, and <code>@Named</code> so that it can be accessed by the action button on the login form.</p>
          <p>Finally we need to create the UI screens. In the <code>src/main/webapp</code> directory create a login page:</p>
          <div class="filename">src/main/webapp/login.xhtml</div>
          <pre class="prettify"><code class="prettify">&lt;!DOCTYPE html&gt;&#x000A;&lt;html xmlns="http://www.w3.org/1999/xhtml"&#x000A;    xmlns:ui="http://java.sun.com/jsf/facelets"&#x000A;    xmlns:h="http://java.sun.com/jsf/html"&#x000A;    xmlns:f="http://java.sun.com/jsf/core"&gt;&#x000A;    &lt;head&gt;&#x000A;        &lt;title&gt;Log in&lt;/title&gt;&#x000A;    &lt;/head&gt;&#x000A;    &lt;body&gt;&#x000A;        &lt;h:messages/&gt;&#x000A;        &lt;h:form id="loginForm" prependId="false"&gt;&#x000A;            &lt;h:panelGrid columns="2"&gt;&#x000A;                &lt;h:outputLabel for="userName"&gt;Username:&lt;/h:outputLabel&gt;&#x000A;                &lt;h:inputText id="userName" value="#{credentials.username}"/&gt;&#x000A;                &lt;h:outputLabel for="password"&gt;Password:&lt;/h:outputLabel&gt;&#x000A;                &lt;h:inputSecret id="password" value="#{credentials.password}"/&gt;&#x000A;                &lt;h:commandButton id="login" value="Log in"&#x000A;                    action="#{loginController.login}"/&gt;&#x000A;            &lt;/h:panelGrid&gt;&#x000A;        &lt;/h:form&gt;&#x000A;    &lt;/body&gt;&#x000A;&lt;/html&gt;</code></pre>
          <p>and a home page:</p>
          <div class="filename">src/main/webapp/home.xhtml</div>
          <pre class="prettify"><code class="prettify">&lt;!DOCTYPE html&gt;&#x000A;&lt;html xmlns="http://www.w3.org/1999/xhtml"&#x000A; xmlns:ui="http://java.sun.com/jsf/facelets"&#x000A;	xmlns:h="http://java.sun.com/jsf/html"&#x000A;	xmlns:f="http://java.sun.com/jsf/core"&gt;&#x000A;&lt;h:head&gt;&#x000A;	&lt;title&gt;Home&lt;/title&gt;&#x000A;&lt;/h:head&gt;&#x000A;&lt;h:body&gt;&#x000A;	&lt;h:messages /&gt;&#x000A;	&lt;h:form prependId="false"&gt;&#x000A;		&lt;h:commandButton value="Who Am I ?" action="#{loginController.renderLoggedIn}"&gt;&#x000A;			&lt;f:ajax render="whoami" /&gt;&#x000A;		&lt;/h:commandButton&gt;&#x000A;		&lt;h:panelGroup id="whoami"&gt;&#x000A;			&lt;h:panelGroup rendered="#{loginController.renderedLoggedIn}"&gt;&#x000A;				&lt;p&gt;You are signed in as #{currentUser.username}.&lt;/p&gt;&#x000A;			&lt;/h:panelGroup&gt;&#x000A;		&lt;/h:panelGroup&gt;&#x000A;	&lt;/h:form&gt;&#x000A;&lt;/h:body&gt;&#x000A;&lt;/html&gt;</code></pre>
          <p>Now we need to write a test to see if these components come together to produce a functioning login screen.</p>
          <h3 id="create_a_test_archive">Create a Test Archive</h3>
          <p>Here&#8217;s the shell of a test case for testing the login screen with just the <code>@Deployment</code> method in place. All the files all listed explicitly to illustrate what&#8217;s being included.</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginScreenGrapheneTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.File;&#x000A;import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.asset.StringAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.WebArchive;&#x000A;import org.junit.Assert;&#x000A;import org.junit.Test;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class LoginScreenGrapheneTest {&#x000A;    private static final String WEBAPP_SRC = "src/main/webapp";</code>&#x000A;    &#x000A;<code class="prettify">    @Deployment(testable = false)&#x000A;    public static WebArchive createDeployment() {&#x000A;        return ShrinkWrap.create(WebArchive.class, "login.war")&#x000A;            .addClasses(Credentials.class, User.class, LoginController.class)&#x000A;            .addAsWebResource(new File(WEBAPP_SRC, "login.xhtml"))&#x000A;            .addAsWebResource(new File(WEBAPP_SRC, "home.xhtml"))&#x000A;            .addAsWebInfResource(EmptyAsset.INSTANCE, "beans.xml")&#x000A;            .addAsWebInfResource(&#x000A;                new StringAsset("&lt;faces-config version=\"2.0\"/&gt;"),&#x000A;                "faces-config.xml");&#x000A;    }&#x000A;}</code></pre>
          <p class="important"><span>Don&#8217;t forget to set the <code>testable = false</code> attribute on the <code>@Deployment</code> annotation to enable client mode.</span></p>
          <p class="warning"><span>The Java EE 6 specification requires a <code>faces-config.xml</code> descriptor to be present in WEB-INF to activate JSF. Unlike <code>beans.xml</code>, however, the <code>faces-config.xml</code> descriptor cannot be an empty file. It must contain at least the root node and the version attribute to specify the JSF version in use.</span></p>
          <p>If you have a lot of web pages that are part of the test, having to add them to the archive individually is tedious. Instead, you can import them in bulk using the <code>ExplodedImporter</code> from ShrinkWrap. Here&#8217;s an example of how to add all the web sources that end in <code>.xhtml</code> to the archive:</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginScreenGrapheneTest.java</div>
          <pre class="prettify"><code class="prettify">// clip&#x000A;import org.jboss.shrinkwrap.api.Filters;&#x000A;import org.jboss.shrinkwrap.api.GenericArchive;&#x000A;import org.jboss.shrinkwrap.api.importer.ExplodedImporter;&#x000A;// clip</code>&#x000A;&#x000A;<code class="prettify">return ShrinkWrap.create(WebArchive.class, "login.war")&#x000A;    .addClasses(Credentials.class, User.class, LoginController.class)&#x000A;    .merge(ShrinkWrap.create(GenericArchive.class).as(ExplodedImporter.class)&#x000A;        .importDirectory(WEBAPP_SRC).as(GenericArchive.class),&#x000A;        "/", Filters.include(".*\\.xhtml$"))&#x000A;    .addAsWebInfResource(EmptyAsset.INSTANCE, "beans.xml")&#x000A;    .addAsWebInfResource(&#x000A;        new StringAsset("&lt;faces-config version=\"2.0\"/&gt;"),&#x000A;        "faces-config.xml");</code>&#x000A;&#x000A;<code class="prettify">// clip</code></pre>
          <p>For more information about how to use <code>ExplodedImporter</code> for this task, and alternative strategies, see <a href="https://community.jboss.org/wiki/HowDoIAddAllWebResourcesToTheShrinkWrapArchive">this FAQ</a>.</p>
          <p>One way to trim this down is to move the creation of the archive to a utility class and refer to it whenever you need this particular micro application. That leaves you with a much simpler <code>@Deployment</code> method:</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginScreenGrapheneTest.java</div>
          <pre class="prettify"><code class="prettify">// clip&#x000A;@RunWith(Arquillian.class)&#x000A;public class LoginScreenGrapheneTest {&#x000A;    @Deployment(testable = false)&#x000A;    public static WebArchive createDeployment() {&#x000A;        return Deployments.createLoginScreenDeployment();&#x000A;    }&#x000A;}</code></pre>
          <p>Now let&#8217;s get a handle to Drone and Graphene.</p>
          <h3 id="inject_the_webdriver_api">Inject the WebDriver API</h3>
          <p>Let&#8217;s start with injecting the well known <code>WebDriver</code> object, which represents a handle to the browser:</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginScreenGrapheneTest.java</div>
          <pre class="prettify"><code class="prettify">// clip&#x000A;import org.jboss.arquillian.drone.api.annotation.Drone;&#x000A;import org.openqa.selenium.WebDriver;&#x000A;// clip</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class LoginScreenGrapheneTest {&#x000A;    @Deployment(testable = false)&#x000A;    public static WebArchive createDeployment() {&#x000A;        return Deployments.createLoginScreenDeployment();&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Drone&#x000A;    private WebDriver browser;&#x000A;}</code></pre>
          <p><strong>That&#8217;s it!</strong> The <code>@Drone</code> injection point tells Drone to create an instance of the browser controller, <a href="http://selenium.googlecode.com/git/docs/api/java/index.html">WebDriver</a>, before the first client test is run, then inject that object into the test case.</p>
          <p><strong>Oh wait!</strong> Where is Graphene? In fact, Graphene wraps the instance of the browser you have just injected. It instruments the WebDriver API in order to enable more advanced features. Where possible, it doesn&#8217;t persuade any of it&#8217;s own syntax.</p>
          <p>There&#8217;s one more thing. We&#8217;re testing web UI, but how do we know the URL of the deployed application? Well, Arquillian already has a solution. Just use <code>@ArquillianResource</code> to inject the URL.</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginScreenGrapheneTest.java</div>
          <pre class="prettify"><code class="prettify">// clip&#x000A;import java.net.URL;&#x000A;import org.jboss.arquillian.test.api.ArquillianResource;&#x000A;// clip</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class LoginScreenGrapheneTest {&#x000A;    @Deployment(testable = false)&#x000A;    public static WebArchive createDeployment() {&#x000A;        return Deployments.createLoginScreenDeployment();&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Drone&#x000A;    private WebDriver browser;</code>&#x000A;&#x000A;<code class="prettify">    @ArquillianResource&#x000A;    private URL deploymentUrl;&#x000A;}</code></pre>
          <p>Now even the URL of your deployed archive is injected in the test. It&#8217;s now time to drive the browser to verify the functionality of the web application.</p>
          <h3 id="drive_the_browser">Drive the Browser</h3>
          <p>Here&#8217;s the test method that pokes at the login screen to make sure it works. We use Graphene to verify that the welcome message appears after a successful login.</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginScreenGrapheneTest.java</div>
          <pre class="prettify"><code class="prettify">// clip&#x000A;import static org.jboss.arquillian.graphene.Graphene.guardHttp;&#x000A;import static org.jboss.arquillian.graphene.Graphene.waitAjax;&#x000A;import static org.junit.Assert.assertEquals;&#x000A;import static org.junit.Assert.assertTrue;</code>&#x000A;&#x000A;<code class="prettify">import org.openqa.selenium.WebElement;&#x000A;import org.openqa.selenium.support.FindBy;</code>&#x000A;&#x000A;&#x000A;<code class="prettify">@FindBy(id = "loginForm:userName")                                  // 2. injects an element&#x000A;private WebElement userName;</code>&#x000A;&#x000A;<code class="prettify">@FindBy(id = "loginForm:password")&#x000A;private WebElement password;</code>&#x000A;&#x000A;<code class="prettify">@FindBy(id = "loginForm:login")&#x000A;private WebElement loginButton;</code>&#x000A;&#x000A;<code class="prettify">@Test&#x000A;public void should_login_successfully() {&#x000A;    browser.get(deploymentUrl.toExternalForm() + "login.jsf");      // 1. open the tested page</code>&#x000A;&#x000A;<code class="prettify">    userName.sendKeys("demo");                                      // 3. control the page&#x000A;    password.sendKeys("demo");</code>&#x000A;&#x000A;<code class="prettify">    guardHttp(loginButton).click();</code>&#x000A;&#x000A;<code class="prettify">    assertEquals("Welcome", facesMessage.getText().trim());&#x000A;    whoAmI.click();&#x000A;    waitAjax().until().element(signedAs).is().present();&#x000A;    assertTrue(signedAs.getText().contains("demo"));&#x000A;}&#x000A;// clip</code></pre>
          <p>Once the browser is started and Drone injects the <code>WebDriver</code> handle to the test instance, we need to open the tested page (<strong>step 1</strong>). Notice how we are using the URL of an application deployed into a container.</p>
          <p>We can finally start to control the page to test its behavior.</p>
          <p>But before you can dive into controlling the page, you need to describe the page you are going to test &#8211; you need to locate elements on the page.</p>
          <p>In <strong>step 2</strong>, we have injected a handle for element using the <code>FindBy</code> annotation. This annotation is known as being the basis for page logic encapsulation.</p>
          <p>In <strong>step 3</strong>, we are just controlling the page using the <code>WebElement</code> API &#8211; the entry point for operations on DOM elements.</p>
          <p class="info"><span>Do you like how HTML and CSS help you to split page logic and its associated presentation? In the same sense, the <code>FindBy</code> annotation splits the page into structure and test-logic. You will get to know more advanced usages of page abstraction later in this guide.</span></p>
          <p>Finally you are able to run the test! Choose the <code>firefox</code> profile of your project in your IDE (CTRL + P hotkey in Eclipse).<br />
          Right click on the test in your IDE and select Run As &gt; JUnit test. Don&#8217;t forget to start your JBoss AS 7.1.1.Final instance before running the test. Arquillian will then connect to JBoss AS in order to magically flip through the pages. The result of the test will appear as normal in your JUnit view.</p>
          <p><img src="/images/guides/arquillian_drone_tutorial_junit_green_bar.png" alt="" /></p>
          <p><strong>Congratulations!</strong> You&#8217;ve just tested that your application login page work correctly in Firefox! <strong class="greenbar">Green bar</strong>!</p>
          <p>You can also run the test on the command line using Maven:</p>
          <pre class="command"><code class="command">$ mvn test -Pfirefox</code></pre>
          <p>You don&#8217;t get a pretty green bar, but you should have seen Maven wrap up with no test failures or errors.</p>
          <p class="info"><span>The test works in Firefox, but what about other browsers? Switching browsers is easy with the current setup, you just need to select the right maven profile. To test with Chrome you also need to point Arquillian to the chrome driver, which can be downloaded from this <a href="https://code.google.com/p/chromedriver/downloads/list">site</a>. You will also need to specify the <code>chromeDriverBinary</code> property in the <code>webdriver</code> extension configuration in your <code>arquillian.xml</code>.</span></p>
          <p>In order to test your page without executing any real browsers, let&#8217;s disable all profiles. Your test will run against the headless PhantomJS browser, which we specified earlier as the default browser.%</p>
          <p><strong>Oh, wait!</strong> But we haven&#8217;t tested anything yet, we have just opened the page and have written text into the text inputs.</p>
          <h3 id="defining_the_test_logic">Defining the Test Logic</h3>
          <p>Let&#8217;s define what we will actually test: when a user logs into the application, he can use an AJAX widget which prints his name.</p>
          <p>For that, we will need to describe all the elements that we will find on our test page:</p>
          <pre class="prettify"><code class="prettify">// clip&#x000A;import org.jboss.arquillian.graphene.findby.FindByJQuery;&#x000A;// clip</code>&#x000A;&#x000A;<code class="prettify">@FindBy(id = "loginForm:userName")          // 1. injects an element by default location strategy ("idOrName")&#x000A;private WebElement userName;</code>&#x000A;&#x000A;<code class="prettify">@FindBy(id = "loginForm:password")&#x000A;private WebElement password;</code>&#x000A;&#x000A;<code class="prettify">@FindBy(id = "login")&#x000A;private WebElement loginButton;</code>&#x000A;&#x000A;<code class="prettify">@FindBy(tagName = "li")                     // 2. injects a first element with given tag name&#x000A;private WebElement facesMessage;</code>&#x000A;&#x000A;<code class="prettify">@FindByJQuery("p:visible")                  // 3. injects an element using jQuery selector&#x000A;private WebElement signedAs;</code>&#x000A;&#x000A;<code class="prettify">@FindBy(css = "input[type=submit]")&#x000A;private WebElement whoAmI;&#x000A;// clip</code></pre>
          <p>As you can see, we use the <code>@FindBy</code> annotation again to inject more elements. However, now we&#8217;re specify how to locate the elements in more detail.</p>
          <p>There are a number of strategies for how to locate an element on the tested page; and you should always prefer the most effective way:</p>
          <ul>
          	<li><code>@FindBy(id = "id")</code> &#8211; fastest strategy</li>
          	<li><code>@FindBy(css = "selector")</code> &#8211; CSS selectors (uses DOM method <code>querySelectorAll()</code>), familiar to web developers</li>
          	<li><code>@FindByJQuery("selector")</code> &#8211; jQuery selectors are CSS selectors syntax with powerful extensions</li>
          </ul>
          <p class="info"><span>If you don&#8217;t specify the location strategy, you&#8217;ll use the default one; finding elements by their ID or name. In this case you don&#8217;t have to specify a String as the <code>@FindBy</code> parameter, the Field name is used.</span></p>
          <p>Once you have described the page structure, you can use the DOM elements to manipulate the page:</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginScreenGrapheneTest.java</div>
          <pre class="prettify"><code class="prettify">// clip&#x000A;@Test&#x000A;public void should_login_successfully() {&#x000A;    browser.get(deploymentUrl.toExternalForm() + "login.jsf");</code>&#x000A;&#x000A;<code class="prettify">    userName.sendKeys("demo");&#x000A;    password.sendKeys("demo");</code>&#x000A;&#x000A;<code class="prettify">    loginButton.click();&#x000A;    assertEquals("Welcome", facesMessage.getText().trim());</code>&#x000A;&#x000A;<code class="prettify">    whoAmI.click();&#x000A;    assertTrue(signedAs.getText().contains("demo"));&#x000A;}&#x000A;// clip</code></pre>
          <p>You can now run the test again: <strong class="redbar">Red bar</strong></p>
          <p><strong>Ah, what happened?!</strong> If you weren&#8217;t lucky (as I wasn&#8217;t), you got a failure.</p>
          <p>The problem you might run into is one of the tedious issues of with Selenium testing: every action you instruct the browser to do might lead to an update of the page state.</p>
          <p class="info"><span>As you will experience, most of the actions on AJAX-enabled pages don&#8217;t block the Selenium execution. In the end, you will need to synchronize almost all the page interactions. In fact, in order to be sure the tests won&#8217;t fail intermitently no matter where they are run, you should synchronize each manipulation with the page. Only that way will you ensure reproducibility.</span></p>
          <p class="important"><span>You should forget about using delays as a method of synchronization in your tests. A poorly written test can run on your development machine but it can simply fail in more problematic environments.</span></p>
          <p>Graphene takes this challenge seriously, and allows you to cope with it as simple as possible.</p>
          <p>This is Graphene&#8217;s way to concisely synchronize the page state:</p>
          <pre class="prettify"><code class="prettify">// clip&#x000A;import static org.jboss.arquillian.graphene.Graphene.guardAjax;&#x000A;// clip</code>&#x000A;&#x000A;<code class="prettify">browser.get(deploymentUrl.toExternalForm() + "login.jsf"); // first page load doesn't have to be synchronized</code>&#x000A;&#x000A;<code class="prettify">userName.sendKeys("demo");&#x000A;password.sendKeys("demo");</code>&#x000A;&#x000A;<code class="prettify">guardHttp(loginButton).click();                            // 1. synchronize full-page request&#x000A;assertEquals("Welcome", facesMessage.getText().trim());</code>&#x000A;&#x000A;<code class="prettify">guardAjax(whoAmI).click();                                 // 2. synchronize AJAX request&#x000A;assertTrue(signedAs.getText().contains("demo"));&#x000A;// clip</code></pre>
          <p><strong>That&#8217;s it!</strong> All you need is to wrap the two page instructions!</p>
          <p>When we click on the login button (<strong>step 1</strong>), we are re-locating to another page, so we are using <a href="https://docs.jboss.org/author/display/ARQGRA2/Request+Guards">Request Guards</a> to wait until the full-page update ends.</p>
          <p>Then we click on the button to discovered the user&#8217;s name, and we guard the AJAX request &#8211; the test won&#8217;t continue until the page is fully updated as a result of the AJAX request.</p>
          <p>Let&#8217;s run the test again: <strong class="greenbar">Green bar</strong></p>
          <p>We were able to improve the test, so that no matter how slow or resource-limited your machine is, your test will run.  It will deterministically verify the web page logic.</p>
          <p class="info"><span>Sometimes you will run into situations where Request Guards can&#8217;t help you. In these cases you can always use the precise Waiting API &#8211; it allows you to describe the conditions on which the test should wait.</span></p>
          <p>The situations where the Request Guards API or implicit waiting won&#8217;t help you:</p>
          <ul>
          	<li>the page is updated without any prior server interaction</li>
          	<li>JavaScript updates the pages once the request ends</li>
          	<li>HTTP redirects</li>
          </ul>
          <p>For the sake of completeness, let&#8217;s look at how you could refactor the test when Request Guards don&#8217;t help:</p>
          <pre class="prettify"><code class="prettify">// clip&#x000A;import static org.jboss.arquillian.graphene.Graphene.waitModel;&#x000A;// clip</code>&#x000A;&#x000A;<code class="prettify">browser.get(deploymentUrl.toExternalForm() + "login.jsf");</code>&#x000A;&#x000A;<code class="prettify">userName.sendKeys("demo");&#x000A;password.sendKeys("demo");</code>&#x000A;&#x000A;<code class="prettify">waitModel().until().element(facesMessage).is().present();     // once the element is present, page is loaded&#x000A;assertEquals("Welcome", facesMessage.getText().trim());</code>&#x000A;&#x000A;<code class="prettify">guardAjax(whoAmI).click();&#x000A;waitAjax().until().element(signedAs).text().contains("demo"); // use condition as an assertion&#x000A;// clip</code></pre>
          <p>Use Request Guards whereever you can, as they are the simplest form of synchronization API. Use the Waiting API everywhere else.</p>
          <h3 id="abstract_pages_and_their_fragments">Abstract Pages and their Fragments</h3>
          <p>As your application grows, you will continue to author new tests.  It will quickly become apparent that you need to tame the size of your growing functional test suite.</p>
          <p class="important"><span>A huge functional test suite without a proper structure can become a maintainance nightmare.</span></p>
          <p>It is possible that a bell in your head already started to ring when you read the test logic defined above:</p>
          <ul>
          	<li>it&#8217;s mixing elements of two pages into a single test class</li>
          	<li>as each action in an application needs to be authorized, tests will need to go through the login action repeatedly</li>
          </ul>
          <p>These are exactly the cases where Graphene will help you achieve proper test structure.</p>
          <p>Let&#8217;s start with separating the test into two pages: a login page and a home page:</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginPage.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import static org.jboss.arquillian.graphene.Graphene.guardHttp;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.graphene.enricher.findby.FindBy;&#x000A;import org.jboss.arquillian.graphene.spi.annotations.Location;&#x000A;import org.openqa.selenium.WebElement;</code>&#x000A;&#x000A;<code class="prettify">@Location("login.jsf")&#x000A;public class LoginPage {</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(id = "loginForm:userName")&#x000A;    private WebElement userName;</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(id = "loginForm:password")&#x000A;    private WebElement password;</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(id = "login")&#x000A;    private WebElement loginButton;</code>&#x000A;    &#x000A;<code class="prettify">    public void login(String userName, String password) {&#x000A;        this.userName.sendKeys(userName);&#x000A;        this.password.sendKeys(password);&#x000A;        guardHttp(loginButton).click();&#x000A;    }&#x000A;}</code></pre>
          <p>Notice how the page encapsulates the location of the home page using the <code>@Location</code> annotation. It is like a bookmark for the tests.</p>
          <p>Now a class for the home page:</p>
          <div class="filename">src/test/java/org/arquillian/example/HomePage.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import static org.jboss.arquillian.graphene.Graphene.guardAjax;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.graphene.GrapheneElement;&#x000A;import org.jboss.arquillian.graphene.enricher.findby.FindBy;&#x000A;import org.openqa.selenium.WebElement;</code>&#x000A;&#x000A;<code class="prettify">public class HomePage {</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(tagName = "li")&#x000A;    private WebElement facesMessage;</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(jquery = "#whoami p:visible")&#x000A;    private GrapheneElement signedAs;</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(css = "input[type=submit]")&#x000A;    private GrapheneElement whoAmI;</code>&#x000A;&#x000A;<code class="prettify">    public void assertOnHomePage() {&#x000A;        assertEquals("We should be on home page", "Welcome", getMessage());&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public String getMessage() {&#x000A;        return facesMessage.getText().trim();&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public String getUserName() {&#x000A;        if (!signedAs.isPresent()) {&#x000A;          whoAmI();&#x000A;        }&#x000A;        return signedAs.getText();&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    private void whoAmI() {&#x000A;        guardAjax(whoAmI).click();&#x000A;    }&#x000A;}</code></pre>
          <p>Since we have abstracted the pages into separate classes, we are now able to thoroughly simplify the test:</p>
          <div class="filename">src/test/java/org/arquillian/example/HomePage.java</div>
          <pre class="prettify"><code class="prettify">//clip&#x000A;import org.jboss.arquillian.graphene.spi.annotations.Page;</code>&#x000A;&#x000A;<code class="prettify">@Page&#x000A;private HomePage homePage;</code>&#x000A;&#x000A;<code class="prettify">@Test&#x000A;public void should_login_successfully( @InitialPage LoginPage loginPage ) {</code>&#x000A;&#x000A;<code class="prettify">   loginPage.login(USER_NAME, USER_PASSWORD);&#x000A;   homePage.assertOnHomePage();</code>&#x000A;&#x000A;<code class="prettify">   assertTrue(homePage.getUserName(), USER_NAME);&#x000A;}&#x000A;//clip</code></pre>
          <p>Run the tests and again&#8230; <strong class="greenbar">Green Bar</strong></p>
          <p>Awesome! The Page Objects pattern has been applied.</p>
          <p>Graphene initializes the page objects wherever it sees a <code>@Page</code> annotation. In special cases it injects an <code>@InitialPage</code> which looks at the page object class for the <code>@Location</code> annotation and loads it in the browser automatically.</p>
          <p class="info"><span>What is the added value of this refactoring? Tests are decoupled from the HTML code, so they are more readable. The introduction of change to the application would be less error prone as the tests are more robust.</span></p>
          <p>But that&#8217;s not where our refactoring ends.</p>
          <p>In our use case, we have just one login form. But some applications provide the same login form on multiple pages, so they can navigate visitors to authenticated areas. They could also define more than one form on one page! How can we avoid duplications?</p>
          <p>Fortunately Graphene provides you with the <a href="https://docs.jboss.org/author/display/ARQGRA2/Page+Fragments">Page Fragments</a> pattern &#8211; Page Fragments allow you to encapsulate small reocurring pieces of pages into reusable abstractions.</p>
          <p class="info"><span>The canonical example of page fragments is widgets: styled and driven by scripts, they usually give our pages interactivity that our users needs for fluent use of an application.</span></p>
          <p>Let&#8217;s create a new class <code>LoginForm</code>. Populate it with the same code which was in the <code>LoginPage</code>:</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginForm.java</div>
          <pre class="prettify"><code class="prettify">//clip&#x000A;public class LoginForm {</code>&#x000A;&#x000A;<code class="prettify">    @Root&#x000A;    private WebElement form;</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(css = "input[type=text]")&#x000A;    private WebElement userName;</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(css = "input[type=password]")&#x000A;    private WebElement password;</code>&#x000A;&#x000A;<code class="prettify">    @FindBy(css = "input[type=submit]")&#x000A;    private WebElement loginButton;</code>&#x000A;    &#x000A;<code class="prettify">    public void login(String userName, String password) {&#x000A;        this.userName.sendKeys(userName);&#x000A;        this.password.sendKeys(password);&#x000A;        guardHttp(loginButton).click();&#x000A;    }&#x000A;}</code></pre>
          <p>We have a general enough implementation of LoginForm, just a few differences here:</p>
          <p>Notice that we have changed the locators to use CSS selectors &#8211; we can&#8217;t use ID locators since there can&#8217;t be two login forms which contain input elements with the same IDs.</p>
          <p>Additionally we have defined the <code>@Root</code> element, which serves as a root of the page fragment (or widget) on a page. Let&#8217;s use the fragment in a page so we can understand the case better:</p>
          <div class="filename">src/test/java/org/arquillian/example/LoginPage.java</div>
          <pre class="prettify"><code class="prettify">//clip&#x000A;@Location("login.jsf")&#x000A;public class LoginPage {</code>&#x000A;&#x000A;<code class="prettify">    @FindBy&#x000A;    private LoginForm loginForm;        // locates the root of a page fragment on a particular page</code>&#x000A;    &#x000A;<code class="prettify">    public LoginForm getLoginForm() {   // we can either manipulate with the login form or just expose it&#x000A;       return loginForm;&#x000A;    }&#x000A;}&#x000A;//clip</code></pre>
          <p>We&#8217;re using the same mechanism for locating Page Fragments as we used for <code>WebElement</code> fields. The usage of the page fragment in the test is pretty straightforward.</p>
          <p><em>Arquillian makes integration testing a breeze. Arquillian Graphene adds great support for functional tests. Together, they make developing tests fun again.</em></p>
          <h3 id="documentation_and_other_useful_resources">Documentation and other useful resources</h3>
          <p>If you are looking for more Graphene goodness, be sure to check the <a href="https://docs.jboss.org/author/display/ARQGRA2/Home">Graphene Reference Documentation</a>.</p>
          <p class="info"><span>This guide really isn&#8217;t the fastest way to develop functional tests, but the goal of this guide is just to teach you the basics. You can refer to tips &amp; tricks on how to achieve <a href="http://lukas.fryc.eu/blog/2013/06/testing-jsf-richfaces-arquillian-2-rapid-test-development.html">rapid test development turnaround</a>.</span></p>
          <p class="info"><span>Even though this guide follows the best practices on how to manage Graphene, including a few extra tricks allowing you to do continuous integration, you should follow up by reading <a href="http://lukas.fryc.eu/blog/2013/06/testing-jsf-richfaces-arquillian-4-continous-integration.html">how to achieving good coverage</a> to guard your test against regressions across multiple browsers.</span></p>
          <h3 id="share">Share the Knowledge</h3>
          <p>Find this guide useful?</p>
          <p class="post_to_twitter"><a href="http://twitter.com/home/?status=Just%20read%20the%20%23Arquillian%20Functional%20Testing%20using%20Drone%20and%20Graphene%20guide%20and%20got%20a%20%23greenbar!%20Get%20yours.%20http://arquillian.org/guides/functional_testing_using_graphene/"><img src="/images/post_to_twitter.png" alt="" /></a></p>
          <div class="g-plusone" data-size="tall"></div>
          <p>There&#8217;s a lot more about Arquillian to cover. If you&#8217;re ready to learn more, check out the <a href="/guides">other available guides</a>.</p>
          <h4>Feedback</h4>
          <p>Find a bug in the guide? Something missing? You can fix it by <a href="http://github.com/arquillian/arquillian.github.com">forking this website</a>, making the correction and <a href="http://help.github.com/send-pull-requests">sending a pull request</a>. If you&#8217;re just plain stuck, feel free to ask a question in the <a href="http://community.jboss.org/en/arquillian?view=discussions">user discussion forum</a>.</p>
          <h4>Recent Changelog</h4>
          <ul>
            <li>
              Jun 27, 2017:
              Fix(scripts) changed ui tests project url to hemani's one
              <em>by Matous Jobanek</em>
            </li>
          </ul>
          <p>
            <a href="https://github.com/arquillian/arquillian.github.io/commits/develop/guides/functional_testing_using_graphene.textile">See full history &raquo;</a>
          </p>
        </div>
        <div id="sidebar">
          <div id="toc">
            <h3 class="chapter_header">Chapters</h3>
            <ol class="chapters">
              <li>
                <a href="#assumptions" id="assumptions_link">Assumptions</a>
              </li>
              <li>
                <a href="#introducing_client_mode" id="introducing_client_mode_link">Introducing Client Mode</a>
              </li>
              <li>
                <a href="#enabling_client_mode" id="enabling_client_mode_link">Enabling Client Mode</a>
              </li>
              <li>
                <a href="#graphene_overview" id="graphene_overview_link">Graphene Overview</a>
              </li>
              <li>
                <a href="#set_up_graphene" id="set_up_graphene_link">Set Up Graphene</a>
              </li>
              <li>
                <a href="#create_a_login_screen" id="create_a_login_screen_link">Create a Login Screen</a>
              </li>
              <li>
                <a href="#create_a_test_archive" id="create_a_test_archive_link">Create a Test Archive</a>
              </li>
              <li>
                <a href="#inject_the_webdriver_api" id="inject_the_webdriver_api_link">Inject the WebDriver API</a>
              </li>
              <li>
                <a href="#drive_the_browser" id="drive_the_browser_link">Drive the Browser</a>
              </li>
              <li>
                <a href="#defining_the_test_logic" id="defining_the_test_logic_link">Defining the Test Logic</a>
              </li>
              <li>
                <a href="#abstract_pages_and_their_fragments" id="abstract_pages_and_their_fragments_link">Abstract Pages and their Fragments</a>
              </li>
              <li>
                <a href="#documentation_and_other_useful_resources" id="documentation_and_other_useful_resources_link">Documentation and other useful resources</a>
              </li>
              <li>
                <a href="#share" id="share_link">Share the Knowledge</a>
              </li>
            </ol>
          </div>
        </div>
        <script>
          $(window).load(function() { activateScrollingToc(['assumptions', 'introducing_client_mode', 'enabling_client_mode', 'graphene_overview', 'set_up_graphene', 'create_a_login_screen', 'create_a_test_archive', 'inject_the_webdriver_api', 'drive_the_browser', 'defining_the_test_logic', 'abstract_pages_and_their_fragments', 'documentation_and_other_useful_resources', 'share']) })
        </script>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2017 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/docs">Documentation</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031?rel=author"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! If you want to improve it, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a>, hack on it, then send a <a href="https://help.github.com/articles/using-pull-requests">pull request</a>. You can also view the <a href="http://www.seethestats.com/site/arquillian.org">visitor stats</a>.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js?38ad98b6c7f4a5c1dc915d6d6befd9336d5663d3"></script>
    <script src="/javascripts/jquery-scroll.js"></script>
    <script src="http://apis.google.com/js/plusone.js"></script>
    <script>
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-18727998-3']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
