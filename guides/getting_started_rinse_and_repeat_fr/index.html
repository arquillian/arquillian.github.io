<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Démarrage Rapide : Reculer pour mieux sauter &#183; Arquillian Guides</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Seconde partie du guide de Démarrage Rapide. Evaluez votre progression en découvrant un exemple légèrement plus complexe et en apprenant comment utiliser des conteneurs distants." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="guide">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li class="active"><a href="/guides/">Guides</a></li>
              <li><a href="/docs/">Docs</a></li>
              <li><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/modules/">Modules</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
      <div id="content-header">
        <div class="container">
          <div class="headline">
            <h1>
              <a href="/guides/">Arquillian Guides</a>
              <small>Designed exclusively to teach you how to use Arquillian to write real tests.</small>
            </h1>
            <div class="directory">
              <a class="guides_menu" href="./" id="guides_menu">
                Guides Index
                <i class="icon-menu-closed"></i>
              </a>
              <div id="guides" style="display: none">
                <a class="guides_menu" href="./">
                  Guides Index
                  <i class="icon-menu-open"></i>
                </a>
                <hr class="clear" />
                <dl class="beg">
                  <dt>First Steps</dt>
                  <dd><a href="/guides/getting_started/">Getting Started</a>
                  <br />
                  <a href="/guides/getting_started/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_el_gr/"><img class="flag" rel="tooltip" src="/images/flags/el_gr.png" title="Ελληνικά (el_gr)" /></a>
                  <a href="/guides/getting_started_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_nl/"><img class="flag" rel="tooltip" src="/images/flags/nl.png" title="Nederlands (nl)" /></a>
                  <a href="/guides/getting_started_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_sk/"><img class="flag" rel="tooltip" src="/images/flags/sk.png" title="Slovenčina (sk)" /></a>
                  <a href="/guides/getting_started_sv_se/"><img class="flag" rel="tooltip" src="/images/flags/sv_se.png" title="Svenska (sv_se)" /></a>
                  <a href="/guides/getting_started_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/getting_started_rinse_and_repeat/">Getting Started: Rinse and Repeat</a>
                  <br />
                  <a href="/guides/getting_started_rinse_and_repeat/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/get_started_faster_with_forge/">Get Started Faster with Forge</a>
                  <br />
                  <a href="/guides/get_started_faster_with_forge/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/get_started_faster_with_forge_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/get_started_faster_with_forge_el_gr/"><img class="flag" rel="tooltip" src="/images/flags/el_gr.png" title="Ελληνικά (el_gr)" /></a>
                  <a href="/guides/get_started_faster_with_forge_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/get_started_faster_with_forge_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/get_started_faster_with_forge_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/get_started_faster_with_forge_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/get_started_faster_with_forge_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/shrinkwrap_introduction/">Creating Deployable Archives with ShrinkWrap</a>
                  <br />
                  <a href="/guides/shrinkwrap_introduction/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/shrinkwrap_introduction_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/shrinkwrap_introduction_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/shrinkwrap_introduction_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/shrinkwrap_introduction_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/shrinkwrap_introduction_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                </dl>
                <dl class="int">
                  <dt>More Coverage</dt>
                  <dd><a href="/guides/testing_java_persistence/">Testing Java Persistence</a>
                  <br />
                  <a href="/guides/testing_java_persistence/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/testing_java_persistence_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/testing_java_persistence_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/testing_java_persistence_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/testing_java_persistence_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/testing_java_persistence_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/functional_testing_using_graphene/">Functional Testing using Drone and Graphene</a></dd>
                  <dd><a href="/guides/testing_in_the_cloud/">Testing in the Cloud</a></dd>
                </dl>
                <dl class="adv">
                  <dt>Enhance</dt>
                  <dd><a href="/guides/developing_a_container_adapter/">Developing a Container Adapter</a></dd>
                </dl>
                <dl class="ref">
                  <dt>Reference</dt>
                  <dd><a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Reference Guide</a></dd>
                  <dd><a href="http://docs.jboss.org/arquillian/aggregate/latest">API &amp; SPI Docs</a></dd>
                  <dd><a href="http://community.jboss.org/wiki/ArquillianMigrationGuides">Migration Guides</a></dd>
                  <dd><a href="http://community.jboss.org/en/arquillian/faq">FAQs</a></dd>
                </dl>
              </div>
            </div>
            <script>$(function() { activateGuideMenuControl() })</script>
          </div>
        </div>
      </div>
      <div class="container" id="guide">
        <div id="content" lang="fr">
            <div class="header">
            <div class="titlebar">
            <h2>Démarrage Rapide : Reculer pour mieux sauter</h2>
            <div class="btn-group">
              <a class="btn" href="https://github.com/arquillian/arquillian.github.io/edit/develop/guides/getting_started_rinse_and_repeat_fr.textile">Edit this file</a>
            </div>
          </div>
            <div class="authors"><strong>Author:</strong>
          <a href="/community/mojavelinux">Dan Allen</a>  <strong style="padding-left: 10px;">Translator:</strong>
          <a href="/community/pauldijou">Paul Dijou</a>  <strong style="padding-left: 10px;">Language:</strong>
          <img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" />
          <br />
          <strong style="padding-left: 0px;">Last Update:</strong>Apr 30, 2012</div>
            <p>Dans ce guide, qui se situe dans la continuité directe de <a href="/guides/getting_started_fr">Démarrage Rapide</a>, vous allez avoir la possibilité de revoir tout ce que vous avez appris au sujet d&#8217;Arquillan en découvrant un exemple légèrement plus complexe. Après avoir lu ce guide, vous serez capable de :</p>
            <ul>
          	<li>Ecrire un test Arquillian qui permettra de faire intéragir <acronym title="Contexts and Dependency Injection">CDI</acronym> et <acronym title="Enterprise JavaBeans">EJB</acronym></li>
          	<li>Exécuter un test Arquillian dans un conteneur distant (i.e., un serveur)</li>
          	<li>Déboguer un test Arquillian s&#8217;exécutant dans un conteneur distant</li>
          </ul>
            <p>Vous allez apprendre tout cela en ajoutant des profils supplémentaires à votre build qui, lorsque activés, permettront à Arquillan de lancer vos tests dans un conteneur distant (i.e., un serveur). Cela signifie que vous testerez le <em>vrai produit</em>. Pas de bouchon ni de rustine. Pas de runtime embarqué ! Comme vous avez fait le plus dur du travail dans le premier guide, celui-ci ne vous prendra pas trop longtemps.</p>
            </div>
            <h3 id="hypoth&#232;ses">Hypothèses</h3>
          <p>Ce guide suppose que vous avez déjà ajouté Arquillian à votre suite de tests et avez écrit et exécuté au moins un test Arquillian. Si ce n&#8217;est pas le cas, merci de lire le guide <a href="/guides/getting_started_fr">Démarrage Rapide</a> pour vous familliariser avec les bases d&#8217;Arquillian. Vous aurez également besoin des logiciels mentionnés dans ce guide.</p>
          <h3 id="cr&#233;er_les_composants">Créer les composants</h3>
          <p>Dans ce guide, nous allons créer des services basiques pour une application commerciale. Nous utiliserons un composant panier <code>Basket</code> pour mémoriser les articles retenus par le visiteur et un composant <code>OrderRepository</code> pour ajouter et récupérer des commandes. Nous implémenterons ces composants en utilisant respectivement CDI et EJB. Nous pouvons directement utiliser ces technologies puisque nous avons déjà l&#8217;API Java EE 6 dans notre classpath. (Référez-vous au guide <a href="/guides/getting_started_fr">Démarrage Rapide</a> pour plus d&#8217;instructions sur comment ajouter cette API à votre projet)</p>
          <p>Commençons avec le composant qui va ajouter et supprimer des commandes de notre espace persistant. Conformément aux bonnes pratiques de programmation, et pour simplifier les tests, nous allons commencer par créer une interface qui définira le contrat de notre composant. Dans votre IDE, créez une nouvelle interface EJB locale nommée <code>OderRepository</code> et remplissez la avec le code suivant :</p>
          <div class="filename">src/main/java/org/arquillian/example/OrderRepository.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.util.List;&#x000A;import javax.ejb.Local;</code>&#x000A;&#x000A;<code class="prettify">@Local&#x000A;public interface OrderRepository {&#x000A;    void addOrder(List&lt;String&gt; order);&#x000A;    List&lt;List&lt;String&gt;&gt; getOrders();&#x000A;    int getOrderCount();&#x000A;}</code></pre>
          <p>Nous nous occuperons de l&#8217;implémentation plus tard. Pour le moment, concentrons-nous sur comment utiliser ce contrat.</p>
          <p>Lorsque des visiteurs naviguent sur le site, ils ont la possibilité de stocker des articles dans leur panier en vue de les acheter. Pour modéliser ce scénario, nous allons utiliser un bean CDI associé à la session HTTP du visiteur. Ce composant délèguera le travail à notre EJB <code>OrderRepository</code> lorsque le visiteur voudra procéder à l&#8217;achat des articles qu&#8217;il aura sélectionné.</p>
          <p>Dans votre IDE, créez une classe nommée <code>Basket</code> et assignez la au contexte de la session en l&#8217;annotant avec <code>@SessionScoped</code>, comme fait ci-dessous :</p>
          <div class="filename">src/main/java/org/arquillian/example/Basket.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.Serializable;&#x000A;import java.util.ArrayList;&#x000A;import java.util.Collections;&#x000A;import java.util.List;</code>&#x000A;&#x000A;<code class="prettify">import javax.annotation.PostConstruct;&#x000A;import javax.ejb.EJB;&#x000A;import javax.enterprise.context.SessionScoped;</code>&#x000A;&#x000A;<code class="prettify">@SessionScoped&#x000A;public class Basket implements Serializable {&#x000A;    private static final long serialVersionUID = 1L;&#x000A;    private List&lt;String&gt; items;</code>&#x000A;    &#x000A;<code class="prettify">    @EJB&#x000A;    private OrderRepository repo;</code>&#x000A;    &#x000A;<code class="prettify">    public void addItem(String item) {&#x000A;        items.add(item);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public List&lt;String&gt; getItems() {&#x000A;        return Collections.unmodifiableList(items);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public int getItemCount() {&#x000A;        return items.size();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public void placeOrder() {&#x000A;        repo.addOrder(items);&#x000A;        items.clear();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @PostConstruct&#x000A;    void initialize() {&#x000A;        items = new ArrayList&lt;String&gt;();&#x000A;    }&#x000A;}</code></pre>
          <p>Comme vous pouvez le voir, nous injectons un EJB dans un bean CDI, exactement ce que nous souhaitons tester !</p>
          <h3 id="impl&#233;menter_par_&#233;tapes">Implémenter par étapes</h3>
          <p>Nous ne sommes pas encore prêts pour écrire notre test car nous n&#8217;avons pas réalisé l&#8217;implémentation de <code>OrderRepository</code>. Dans le cadre de cet exemple, supposons que <code>OrderRepository</code> a été implémenté par une autre équipe (ou durant une autre itération). C&#8217;est ici qu&#8217;entre en jeu la fonctionnalité de micro-déploiement d&#8217;Arquillian. Nous avons la possibilité de créer une implémentation de l&#8217;EJB avec un fonctionnement en singleton et un stockage en mémoire avant de l&#8217;ajouter dans notre archive de test pour avoir une application fonctionnelle rapidement. (Nous pourrons même garder cette implémentation à des fins de test par la suite).</p>
          <p>Créez la classe <code>SingletonOrderRepository</code> dans le classpath de votre test et remplissez la avec le code ci-dessous :</p>
          <div class="filename">src/test/java/org/arquillian/example/SingletonOrderRepository.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.util.ArrayList;&#x000A;import java.util.Collections;&#x000A;import java.util.List;</code>&#x000A;&#x000A;<code class="prettify">import javax.annotation.PostConstruct;&#x000A;import javax.ejb.Lock;&#x000A;import javax.ejb.LockType;&#x000A;import javax.ejb.Singleton;</code>&#x000A;&#x000A;<code class="prettify">@Singleton&#x000A;@Lock(LockType.READ)&#x000A;public class SingletonOrderRepository implements OrderRepository {&#x000A;    private List&lt;List&lt;String&gt;&gt; orders;</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    @Lock(LockType.WRITE)&#x000A;    public void addOrder(List&lt;String&gt; order) {&#x000A;        orders.add(order);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    public List&lt;List&lt;String&gt;&gt; getOrders() {&#x000A;        return Collections.unmodifiableList(orders);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    public int getOrderCount() {&#x000A;        return orders.size();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @PostConstruct&#x000A;    void initialize() {&#x000A;        orders = new ArrayList&lt;List&lt;String&gt;&gt;();&#x000A;    }&#x000A;}</code></pre>
          <p>En bonus, grâce à cette implémentation, nous avons la possibilité de découvrir la nouvelle fonctionnalité de singleton des EJB 3.1 au sein d&#8217;un bac à sable Arquillian. C&#8217;est dans cette optique que nous aimons comparer Arquillian à un environnement d&#8217;apprentissage en plus d&#8217;être un outil de test.</p>
          <p>Nous sommes maintenant prêts à écrire notre test Arquillian.</p>
          <h3 id="ecrire_un_test">Ecrire un test</h3>
          <p>Nous allons maintenant écrire un test qui simule l&#8217;ajout d&#8217;articles dans une instance de <code>Basket</code> avant de passer une commande sur ces articles. Le test devra valider que la commande est bien enregistrée dans l&#8217;instance de <code>OrderRepository</code>.</p>
          <p class="info"><span>Bien entendu, nous ne testerons que l&#8217;implémentation en mémoire. Vous apprendrez comment écrire des tests utilisant une base de données dans le guide <a href="/guides/testing_java_persistence_fr">Tester la persistance Java</a>.</span></p>
          <p>Créez la classe <code>BasketTest</code> et initialisez la en tant que test Arquillian :</p>
          <div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.junit.Arquillian;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;}</code></pre>
          <p>Nous devons ensuite définir une archive de test qui inclut le panier, l&#8217;interface <code>OrderRepository</code> et son implémentation singleton. Nous aurons également besoin d&#8217;un fichier <code>beans.xml</code> vide afin d&#8217;activer CDI (les EJB sont automatiquement activés). Notez que nous maîtrisons complètement le classpath en spécifiant explicitement ce qui doit se trouver dans l&#8217;archive.</p>
          <div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class, "test.jar")&#x000A;            .addClasses(Basket.class, OrderRepository.class, SingletonOrderRepository.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }&#x000A;}</code></pre>
          <p>Tout ce qu&#8217;il reste à faire, c&#8217;est injecter le panier et <code>OrderRepository</code> dans le test afin de tester leurs interactions. Nous injecterons directement l&#8217;interface EJB. Le conteneur EJB trouvera automatiquement l&#8217;implémentation à utiliser.</p>
          <div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import javax.ejb.EJB;&#x000A;import javax.inject.Inject;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.Assert;&#x000A;import org.junit.Test;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class, "test.jar")&#x000A;            .addClasses(Basket.class, OrderRepository.class, SingletonOrderRepository.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Inject&#x000A;    Basket basket;</code>&#x000A;    &#x000A;<code class="prettify">    @EJB&#x000A;    OrderRepository repo;</code>&#x000A;    &#x000A;<code class="prettify">    @Test&#x000A;    public void place_order_should_add_order() {&#x000A;        basket.addItem("sunglasses");&#x000A;        basket.addItem("suit");&#x000A;        basket.placeOrder();&#x000A;        Assert.assertEquals(1, repo.getOrderCount());&#x000A;        Assert.assertEquals(0, basket.getItemCount());</code>&#x000A;        &#x000A;<code class="prettify">        basket.addItem("raygun");&#x000A;        basket.addItem("spaceship");&#x000A;        basket.placeOrder();&#x000A;        Assert.assertEquals(2, repo.getOrderCount());&#x000A;        Assert.assertEquals(0, basket.getItemCount());&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Test&#x000A;    public void order_should_be_persistent() {&#x000A;        Assert.assertEquals(2, repo.getOrderCount());&#x000A;    }&#x000A;}</code></pre>
          <p>Le test est terminé. Nous devons maintenant configurer son exécution.</p>
          <h3 id="ajouter_les_conteneurs_distants">Ajouter les conteneurs distants</h3>
          <p>Le test que nous venons d&#8217;écrire utilise à la fois CDI et les EJB. Cette combinaison repousse les frontières de ce que peut fournir un runtime embarqué (comme Weld Embedded ou OpenEJB Embedded). Lorsque c&#8217;est possible, il est plus aisé d&#8217;utiliser un conteneur compatible Java EE. De plus, cela nous donne des résultats plus précis, plus proche de la réalité. Nous allons donc laisser de côté Weld Embedded pour le moment.</p>
          <p>Dans le guide précédent, nous avons utilisé des conteneurs embarqués et des conteneurs managés. Dans les deux cas, Arquillian doit démarrer le conteneur en même temps qu&#8217;il commence les tests et l&#8217;arrêter une fois ces derniers terminés. Qu&#8217;en est-il si vous avez déjà un conteneur démarré (ou que vous souhaitez en démarrer un dans le but d&#8217;effectuer les tests) ? Il est évident que les tests vont se dérouler plus rapidement. Même si le temps de démarrage de votre conteneur est très faible, rien ne peut aller plus vite que pas de démarrage du tout. C&#8217;est tout l&#8217;intérêt d&#8217;utiliser un conteneur distant.</p>
          <p>Les conteneurs distants offrent un environnement idéal pour les tests d&#8217;intégration. Vous vous rendrez également compte qu&#8217;ils rendent le débogage des tests extrêmement simple. Et compte tenu du fait qu&#8217;il n&#8217;y a aucune référence au conteneur dans les tests, utiliser un conteneur distant pendant la phase de développement ne vous empêchera pas d&#8217;utiliser ensuite un conteneur managé pour l&#8217;intégration continue.</p>
          <p class="warning"><span>Le terme distant fait référence à un processus séparé et pas nécessairement à une autre machine, en admettant que vous puissiez supporter une telle configuration.</span></p>
          <p>Un conteneur distant est un processus indépendant au sein duquel Arquillan va déployer ses tests en utilisant l&#8217;API cliente du conteneur. Pour cela, vous aurez besoin des librairies suivantes :</p>
          <ul>
          	<li>Les APIs du modèle de programmation (uniquement si elles ne sont pas déjà fournies par le conteneur distant)</li>
          	<li>L&#8217;adaptateur Arquillan correspondant au conteneur distant</li>
          	<li>Les APIs de déploiement clientes pour s&#8217;intégrer dans le processus du conteneur</li>
          </ul>
          <p>Dans votre fichier Maven <code>pom.xml</code>, ajoutez deux nouveaux profils au sein de la balise <code>&lt;profiles&gt;</code>. Le premier utilisera un conteneur distant JBoss AS 7 :</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-jbossas-remote&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-as-arquillian-container-remote&lt;/artifactId&gt;&#x000A;            &lt;version&gt;7.1.1.Final&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>Tandis que le second utilisera un conteneur distant GlassFish 3.1 :</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-glassfish-remote&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;weld-api&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0-SP1&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;exclusions&gt;&#x000A;                &lt;exclusion&gt;&#x000A;                    &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;&#x000A;                    &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;&#x000A;                &lt;/exclusion&gt;&#x000A;            &lt;/exclusions&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.6&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;exclusions&gt;&#x000A;                &lt;exclusion&gt;&#x000A;                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;&#x000A;                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;&#x000A;                &lt;/exclusion&gt;&#x000A;            &lt;/exclusions&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.6&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-glassfish-remote-3.1&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.CR2&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p class="info"><span>L&#8217;adaptateur GlassFish utilise Jersey pour communiquer avec le conteneur au travers de JAX-RS (REST) et a donc besoin de ces librairies additionnelles. L&#8217;API Weld est nécessaire pour désérialiser les exceptions retournées par le conteneur.</span></p>
          <p>Une fois les profils ajoutés au <code>pom.xml</code>, effectuez un clic-droit sur le projet au sein d&#8217;Eclipse et sélectionnez Maven &gt; Update Project Configuration. Si des erreurs de compilation s&#8217;affichent, vous devrez activer un des profils.</p>
          <p>Pour rappel, il y a deux façons d&#8217;activer un profil Maven dans Eclipse :</p>
          <ol>
          	<li>Configuration manuelle (approche classique)</li>
          	<li>Sélecteur de profil Maven (via JBoss Tools)</li>
          </ol>
          <p>Référez-vous au guide <a href="/guides/getting_started_fr">Démarrage Rapide</a> pour des instructions plus détaillées sur comment activer un profil. Une fois le profil activé, le projet devrait compiler sans soucis.</p>
          <p>Arquillian suppose que le conteneur distant est démarré. Pour ce faire, nous allons ajouter ces conteneurs dans Eclipse afin de pouvoir les piloter directement depuis l&#8217;IDE lorsque nous réaliserons nos tests.</p>
          <h3 id="contr&#244;ler_les_serveurs">Contrôler les serveurs</h3>
          <p>Le moyen le plus simple de gérer un conteneur distant est de le configurer au sein de votre IDE. Si vous vous sentez plus proche d&#8217;un fan des lignes de commande, vous pouvez sauter cette section et démarrer vos serveurs en utilisant les scripts de démarrage appropriés.</p>
          <p>Nous allons vous montrer comment ajouter le contrôle d&#8217;un serveur (notre conteneur) au sein d&#8217;Eclipse. Le processus est similaire sur les autres IDE. Pour Eclipse, vous aurez besoin des plugins <a href="http://jboss.org/tools">JBoss Tools</a> et GlassFish Java EE Application Server Plugin, tous deux disponibles sur le MarketPlace Eclipse.</p>
          <p>Dans Eclipse, sélectionnez Window &gt; Show View &gt; Servers dans le menu supérieur. Une fois la vue ouverte, clic-droit et choisissez New &gt; Server. Vous devrez alors définir un serveur JBoss AS 7 et un serveur GlassFish 3.1. Pour JBoss AS 7, la procédure nécessite que vous ayez déjà téléchargé et extrait le runtime JBoss AS 7. Dans le cas de GlassFish 3.1, vous aurez la possibilité de télécharger automatiquement la distribution du serveur.</p>
          <p><img src="/images/guides/arquillian_tutorial_2_new_jbossas_server.png" alt="" /></p>
          <p><img src="/images/guides/arquillian_tutorial_2_new_glassfish_server.png" alt="" /></p>
          <p>Une fois les installations complétées pour chaque conteneur, vous devriez les voir apparaître dans la vue Servers.</p>
          <p><img src="/images/guides/arquillian_tutorial_2_servers_view.png" alt="" /></p>
          <p>Pour démarrer un serveur, sélectionnez le (comme affiché ci-dessus) et cliquez sur l&#8217;icône vert &#8220;play&#8221;.</p>
          <p class="info"><span>Arquillian suppose que les conteneurs fonctionnent sur leurs ports par défaut. Si vous avez changé ces ports, vous pouvez éditer le fichier arquillian.xml pour spécifier les ports que vous utilisez pour chaque conteneur.</span></p>
          <p>Maintenant que vos conteneurs sont correctement configurés, il est temps de leur envoyer un premier test.</p>
          <h3 id="ex&#233;cuter_le_test_arquillian">Exécuter le test Arquillian</h3>
          <p>Pour exécuter le test Arquillian, vous allez devoir procéder en trois étapes :</p>
          <ol>
          	<li>Démarrer le conteneur distant</li>
          	<li>Activer le profil Maven qui permettra d&#8217;ajouter l&#8217;adaptateur correspondant au classpath</li>
          	<li>Exécuter le test</li>
          </ol>
          <p>Commençons avec JBoss AS 7.</p>
          <h4>Exécuter le Test sur JBoss AS</h4>
          <p>Pour exécuter le test sur JBoss AS, commencez par démarrer le conteneur JBoss AS. Pour cela, ouvrez la vue Servers, sélectionnez JBoss AS 7 et cliquez sur l&#8217;icône vert &#8220;play&#8221;. Attendez que le serveur ait fini de démarrer (cela ne devrait pas être trop long).</p>
          <p>Une fois démarré, activez le profil Maven <code>arquillian-jbossas-remote</code> en utilisant, au choix, l&#8217;onglet des propriétés de Maven ou le sélecteur de profil Maven de JBoss Tools. La capture d&#8217;écran ci-dessous montre une sélection correcte.</p>
          <p><img src="/images/guides/arquillian_tutorial_2_jbossas_profile_selection.png" alt="" /></p>
          <p>Pour terminer, clic-droit sur la classe <code>BasketTest</code> et sélectionnez Run As &gt; JUnit Test.  Vous devriez voir un peu d&#8217;agitation dans la vue Console et un résultat couronné de succès dans la vue JUnit.</p>
          <p>Vous pouvez également exécuter le test en utilisant une ligne de commande Maven :</p>
          <pre class="command"><code class="command">$ mvn test -Parquillian-jbossas-remote -Dtest=BasketTest</code></pre>
          <p>Vous devriez voir les lignes suivantes affichées dans la console :</p>
          <pre class="output"><code class="output">-------------------------------------------------------&#x000A;T E S T S&#x000A;-------------------------------------------------------&#x000A;Running org.arquillian.example.BasketTest&#x000A;...&#x000A;Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.464 sec</code></pre>
          <p><strong>Félicications !</strong> Vous venez de remporter votre première <strong class="greenbar">barre verte</strong> avec Arquillian en utilisant un conteneur distant.</p>
          <p class="info"><span>Vous auriez aussi pu injecter l&#8217;EJB en utilisant l&#8217;annotation <code>@Inject</code> plutôt que <code>@EJB</code>. N&#8217;hésitez pas à essayer !</span></p>
          <p>Si vous voulez vérifier que le singleton rempli bien son rôle, vous pouvez retirer l&#8217;annotation <code>@Singleton</code> de la classe <code>SingletonOrderRepository</code>. En exécutant à nouveau votre test, vous devriez avoir une assertion en erreur. Remettez l&#8217;annotation et elle redeviendra verte.</p>
          <p>Testons maintenant exactement la même chose mais sur GlassFish 3.1. Comme nous en avons fini avec JBoss AS pour le moment, vous pouvez utiliser la vue Servers pour arrêter ce serveur.</p>
          <h4>Exécuter le test sur GlassFish</h4>
          <p>Pour exécuter le test sur GlassFish, commencez par démarrer le conteneur GlassFish. Ouvrez la vue Servers, sélectionnez GlassFish 3.1 et cliquez sur le bouton vert &#8220;play&#8221;. Attendez ensuite qu&#8217;il ait fini de démarrer.</p>
          <p>Une fois qu&#8217;il sera opérationnel, activez le profil Maven <code>arquillian-glassfish-remote</code> en utilisant soit l&#8217;onglet des propriétés Maven soit le sélecteur Maven de JBoss Tools. N&#8217;oubliez pas de désactiver le profil <code>arquillian-jbossas-remote</code>. L&#8217;éditeur de profil ci-dessous vous montre la sélection à avoir :</p>
          <p><img src="/images/guides/arquillian_tutorial_2_glassfish_profile_selection.png" alt="" /></p>
          <p>Pour terminer, clic-droit sur la classe <code>BasketTest</code> et sélectionnez Run as &gt; JUnit Test. Vous devriez voir une avalanche d&#8217;activité dans la vue Console et un résultat réussi dans la vue JUnit.</p>
          <p><strong>Félicitations !</strong> Vous venez de remporter une nouvelle <strong class="greenbar">barre verte</strong>.</p>
          <h3 id="d&#233;boguer_le_test_arquillian">Déboguer le test Arquillian</h3>
          <p>Déboguer un test dans un conteneur distant ? Cela peut paraître difficile. Surprise ! Il n&#8217;en est rien. Vous n&#8217;avez qu&#8217;à modifier une étape et en ajouter une autre au processus que nous venons de suivre :</p>
          <ol>
          	<li><strong>Déboguer</strong> le conteneur distant (le lancer en mode &#8220;debug&#8221;)</li>
          	<li>Activer le profil Maven afin d&#8217;ajouter l&#8217;adapateur correspondant au classpath</li>
          	<li><strong>Positionner un point d&#8217;arrêt</strong></li>
          	<li>Exécuter le test</li>
          </ol>
          <p>Dans la vue Servers, vous devriez avoir un icône en forme d&#8217;insecte juste à côté de l&#8217;icône vert &#8220;play&#8221;. Cliquez sur ce bouton pour démarrer votre serveur en mode &#8220;debug&#8221;. Eclipse connectera automatiquement son débogueur au conteneur.</p>
          <p>Positionnez un point d&#8217;arrêt dans la méthode <code>addOrder()</code> de la classe <code>SingletonOrderRepository</code>. Une fois cela fait, exécutez le test de nouveau en effectuant un clic-droit puis en sélectionnant Run As &gt; JUnit Test.</p>
          <p class="warning"><span>Vous n&#8217;avez pas besoin de sélectionner Debug AS &gt; JUnit Test car le code du test va être exécuté à l&#8217;intérieur d&#8217;un conteneur qui est déjà en mode &#8220;debug&#8221;.</span></p>
          <p>Le test devrait se bloquer au niveau du point d&#8217;arrêt. Si vous utilisez JBoss AS, vous pouvez ouvrir la consôle d&#8217;administration et vérifier que l&#8217;application de test est bien déployée sur le serveur. Si vous parcourez la pile dans la perspective Debug d&#8217;Eclipse, vous pourrez remarquer que le serveur est contrôlé via un protocole distant (soit JMX soit Servlet) et que JUnit est lancé à l&#8217;intérieur même du conteneur.</p>
          <p><img src="/images/guides/arquillian_tutorial_2_debug_remote_test.png" alt="" /></p>
          <p>Vous pouvez maintenant vous amuser avec votre serveur depuis le confort de votre IDE.</p>
          <h3 id="d&#233;boguer_sur_un_serveur_manag&#233;">Déboguer sur un serveur managé</h3>
          <p>Est-ce qu&#8217;il est possible de déboguer en utilisant un conteneur managé ? Bien sur que oui ! Nous aurons juste besoin d&#8217;un petit surplus de configuration.</p>
          <p>Comme Arquillian s&#8217;occupe de démarrer et d&#8217;arrêter le conteneur, nous devons configurer Arquillian pour effectuer le démarrage en mode &#8220;debug&#8221;. Il s&#8217;agit d&#8217;attributs JVM qu&#8217;Arquillian devra envoyer au serveur. Nous les placerons dans une propriété du fichier de configuration.</p>
          <p>Avant d&#8217;en arriver là, il faut réfléchir à comment nous allons connecter le débogueur. A moins d&#8217;être super rapide de la souris, vous allez avoir du mal à connecter le débogueur avant qu&#8217;Arquallin ne commence ses tests. Heureusement, nous pouvons demander à la JVM d&#8217;attendre que le débogueur soit connecté avant d&#8217;exécuter l&#8217;application, dans notre cas JBoss AS. Cela nous donnera le temps de presser le bouton de déboguage dans notre IDE pour le connecter à l&#8217;application.</p>
          <p>Ci-dessous la configuration qu&#8217;il faudra ajouter au fichier de configuration d&#8217;Arquillian pour lui indiquer de démarrer le serveur en mode &#8220;debug&#8221; (pas d&#8217;espaces autorisés immédiatement après la balise <code>&lt;property&gt;</code>) :</p>
          <div class="filename">src/test/resources/arquillian.xml</div>
          <pre class="prettify"><code class="prettify">&lt;arquillian xmlns="http://jboss.org/schema/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://jboss.org/schema/arquillian&#x000A;        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;&#x000A;    &lt;container qualifier="jbossas-managed" default="true"&gt;&#x000A;        &lt;configuration&gt;&#x000A;            &lt;property name="jbossHome"&gt;target/jboss-as-7.1.1.Final&lt;/property&gt;&#x000A;            &lt;property name="javaVmArguments"&gt;-Xmx512m -XX:MaxPermSize=128m&#x000A;                -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=y&#x000A;            &lt;/property&gt;&#x000A;        &lt;/configuration&gt;&#x000A;    &lt;/container&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
          <p>Remarquez le <code>suspend=y</code>. Ceci indique au processus d&#8217;attendre que le débogueur soit connecté. Nous avons positionné le port de débogue sur 8787. Il s&#8217;agit du port sur lequel vous devrez configurer le débogueur. Nous y viendrons dans un instant. Dans un premier temps, démarrons le test.</p>
          <ol>
          	<li>Activez le profil Maven <code>arquillian-jbossas-managed</code> (si besoin, référez vous au guide <a href="/guides/getting_started_fr">Démarrage Rapide</a>)</li>
          	<li>Exécutez le test</li>
          </ol>
          <p>Dans la vue Console, vous devriez voir qu&#8217;Arquillian a démarrée une instance de JBoss AS et est en attente de la connexion du débogueur :</p>
          <pre class="output"><code class="output">Listening for transport dt_socket at address: 8787</code></pre>
          <p>Tout ce qu&#8217;il nous reste à faire est donc de connecter le débogueur. Ci-dessous, les étapes pour configurer et lancer le débogueur depuis Eclipse :</p>
          <ol>
          	<li>Sélectionnez <code>Run &gt; Debug Configurations...</code> depuis le menu principal</li>
          	<li>Clic-droit sur Remote Java Application et choisissez <code>New</code></li>
          	<li>Dans le champ &#8220;Name&#8221;, entrez &#8220;Debug JBoss AS&#8221;</li>
          	<li>Dans le champ &#8220;Port&#8221;, entrez &#8220;8787&#8221;</li>
          	<li>Cliquez sur le bouton &#8220;Debug&#8221;</li>
          </ol>
          <p>Voici une copie d&#8217;écran vous montrant le profil de débogue que nous venons de créer :</p>
          <p><img src="/images/guides/arquillian_tutorial_2_eclipse_debug_configuration.png" alt="" /></p>
          <p>JBoss AS devrait reprendre son cours et s&#8217;arrêter de nouveau au niveau du point d&#8217;arrêt de votre test. Vous êtes en train de déboguer un conteneur managé.</p>
          <p>Et voilà, vous venez d&#8217;apprendre comment exécuter et déboguer vos tests dans des conteneurs embarqués, distants et managés. Rien ne peut plus vous arrêter désormais !</p>
          <h3 id="share">Share the Knowledge</h3>
          <p>Find this guide useful?</p>
          <p class="post_to_twitter"><a href="http://twitter.com/home/?status=Just%20read%20the%20%23Arquillian%20D%C3%A9marrage%20Rapide%20:%20Reculer%20pour%20mieux%20sauter%20guide%20and%20got%20a%20%23greenbar!%20Get%20yours.%20http://localhost:4242/guides/getting_started_rinse_and_repeat_fr/"><img src="/images/post_to_twitter.png" alt="" /></a></p>
          <div class="g-plusone" data-size="tall"></div>
          <p>There&#8217;s a lot more about Arquillian to cover. If you&#8217;re ready to learn more, check out the <a href="/guides">other available guides</a>.</p>
          <h4>Feedback</h4>
          <p>Find a bug in the guide? Something missing? You can fix it by <a href="http://github.com/arquillian/arquillian.github.com">forking this website</a>, making the correction and <a href="http://help.github.com/send-pull-requests">sending a pull request</a>. If you&#8217;re just plain stuck, feel free to ask a question in the <a href="http://community.jboss.org/en/arquillian?view=discussions">user discussion forum</a>.</p>
          <h4>Recent Changelog</h4>
          <ul>
            <li>
              Apr 30, 2012:
              Upgrade to jboss as 7.1.1.final
              <em>by Dan Allen</em>
            </li>
            <li>
              Apr 19, 2012:
              Remove redundant metadata (internal change)
              <em>by Dan Allen</em>
            </li>
            <li>
              Apr 17, 2012:
              Set paul dijou as translator
              <em>by Dan Allen</em>
            </li>
            <li>
              Apr 16, 2012:
              Initial french translation of getting started: rinse and repeat guide
              <em>by Paul Dijou</em>
            </li>
          </ul>
          <p>
            <a href="https://github.com/arquillian/arquillian.github.io/commits/develop/guides/getting_started_rinse_and_repeat_fr.textile">See full history &raquo;</a>
          </p>
        </div>
        <div id="sidebar">
          <div id="toc">
            <h3 class="chapter_header">Chapters</h3>
            <ol class="chapters">
              <li>
                <a href="#hypoth&#232;ses" id="hypothèses_link">Hypothèses</a>
              </li>
              <li>
                <a href="#cr&#233;er_les_composants" id="créer_les_composants_link">Créer les composants</a>
              </li>
              <li>
                <a href="#impl&#233;menter_par_&#233;tapes" id="implémenter_par_étapes_link">Implémenter par étapes</a>
              </li>
              <li>
                <a href="#ecrire_un_test" id="ecrire_un_test_link">Ecrire un test</a>
              </li>
              <li>
                <a href="#ajouter_les_conteneurs_distants" id="ajouter_les_conteneurs_distants_link">Ajouter les conteneurs distants</a>
              </li>
              <li>
                <a href="#contr&#244;ler_les_serveurs" id="contrôler_les_serveurs_link">Contrôler les serveurs</a>
              </li>
              <li>
                <a href="#ex&#233;cuter_le_test_arquillian" id="exécuter_le_test_arquillian_link">Exécuter le test Arquillian</a>
              </li>
              <li>
                <a href="#d&#233;boguer_le_test_arquillian" id="déboguer_le_test_arquillian_link">Déboguer le test Arquillian</a>
              </li>
              <li>
                <a href="#d&#233;boguer_sur_un_serveur_manag&#233;" id="déboguer_sur_un_serveur_managé_link">Déboguer sur un serveur managé</a>
              </li>
              <li>
                <a href="#share" id="share_link">Share the Knowledge</a>
              </li>
            </ol>
          </div>
        </div>
        <script>
          $(window).load(function() { activateScrollingToc(['hypothèses', 'créer_les_composants', 'implémenter_par_étapes', 'ecrire_un_test', 'ajouter_les_conteneurs_distants', 'contrôler_les_serveurs', 'exécuter_le_test_arquillian', 'déboguer_le_test_arquillian', 'déboguer_sur_un_serveur_managé', 'share']) })
        </script>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2017 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/docs">Documentation</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031?rel=author"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! If you want to improve it, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a>, hack on it, then send a <a href="https://help.github.com/articles/using-pull-requests">pull request</a>. You can also view the <a href="http://www.seethestats.com/site/arquillian.org">visitor stats</a>.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js"></script>
    <script src="/javascripts/jquery-scroll.js"></script>
    <script src="http://apis.google.com/js/plusone.js"></script>
  </body>
</html>
