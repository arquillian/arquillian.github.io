<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Creating Deployable Archives with ShrinkWrap &#183; Arquillian Guides</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Learn how to leverage ShrinkWrap to declare Arquillian deployments." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css?b52ff7178db0becf75d043579212b77c1f982da3" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="guide">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="g-plusone-slot">
            <div class="g-plusone" data-annotation="none"></div>
          </div>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li class="active"><a href="/guides/">Guides</a></li>
              <li><a href="/docs/">Docs</a></li>
              <li><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/modules/">Modules</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
      <div id="content-header">
        <div class="container">
          <div class="headline">
            <h1>
              <a href="/guides/">Arquillian Guides</a>
              <small>Designed exclusively to teach you how to use Arquillian to write real tests.</small>
            </h1>
            <div class="directory">
              <a class="guides_menu" href="./" id="guides_menu">
                Guides Index
                <i class="icon-menu-closed"></i>
              </a>
              <div id="guides" style="display: none">
                <a class="guides_menu" href="./">
                  Guides Index
                  <i class="icon-menu-open"></i>
                </a>
                <hr class="clear" />
                <dl class="beg">
                  <dt>First Steps</dt>
                  <dd><a href="/guides/getting_started/">Getting Started</a>
                  <br />
                  <a href="/guides/getting_started/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_el_gr/"><img class="flag" rel="tooltip" src="/images/flags/el_gr.png" title="Ελληνικά (el_gr)" /></a>
                  <a href="/guides/getting_started_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_nl/"><img class="flag" rel="tooltip" src="/images/flags/nl.png" title="Nederlands (nl)" /></a>
                  <a href="/guides/getting_started_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_sk/"><img class="flag" rel="tooltip" src="/images/flags/sk.png" title="Slovenčina (sk)" /></a>
                  <a href="/guides/getting_started_sv_se/"><img class="flag" rel="tooltip" src="/images/flags/sv_se.png" title="Svenska (sv_se)" /></a>
                  <a href="/guides/getting_started_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/getting_started_rinse_and_repeat/">Getting Started: Rinse and Repeat</a>
                  <br />
                  <a href="/guides/getting_started_rinse_and_repeat/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/get_started_faster_with_forge/">Get Started Faster with Forge</a></dd>
                  <dd><a href="/guides/shrinkwrap_introduction/">Creating Deployable Archives with ShrinkWrap</a>
                  <br />
                  <a href="/guides/shrinkwrap_introduction/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/shrinkwrap_introduction_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/shrinkwrap_introduction_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/shrinkwrap_introduction_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/shrinkwrap_introduction_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/shrinkwrap_introduction_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                </dl>
                <dl class="int">
                  <dt>More Coverage</dt>
                  <dd><a href="/guides/testing_java_persistence/">Testing Java Persistence</a>
                  <br />
                  <a href="/guides/testing_java_persistence/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/testing_java_persistence_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/testing_java_persistence_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/testing_java_persistence_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/testing_java_persistence_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/testing_java_persistence_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/functional_testing_using_graphene/">Functional Testing using Drone and Graphene</a></dd>
                  <dd><a href="/guides/testing_in_the_cloud/">Testing in the Cloud</a></dd>
                </dl>
                <dl class="adv">
                  <dt>Enhance</dt>
                  <dd><a href="/guides/developing_a_container_adapter/">Developing a Container Adapter</a></dd>
                </dl>
                <dl class="ref">
                  <dt>Reference</dt>
                  <dd><a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Reference Guide</a></dd>
                  <dd><a href="http://docs.jboss.org/arquillian/aggregate/latest">API &amp; SPI Docs</a></dd>
                  <dd><a href="http://community.jboss.org/wiki/ArquillianMigrationGuides">Migration Guides</a></dd>
                  <dd><a href="http://community.jboss.org/en/arquillian/faq">FAQs</a></dd>
                </dl>
              </div>
            </div>
            <script>$(function() { activateGuideMenuControl() })</script>
          </div>
        </div>
      </div>
      <div class="container" id="guide">
        <div id="content">
            <div class="header">
            <div class="titlebar">
            <h2>Creating Deployable Archives with ShrinkWrap</h2>
            <div class="btn-group">
              <a class="btn" href="https://github.com/arquillian/arquillian.github.io/edit/develop/guides/shrinkwrap_introduction.textile">Edit this file</a>
            </div>
          </div>
            <div class="authors"><strong>Author:</strong>
          <a href="/community/alrubinger">Andrew Lee Rubinger</a>  <strong style="padding-left: 10px;">Translations:</strong>
          <a href="/guides/shrinkwrap_introduction_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
          <a href="/guides/shrinkwrap_introduction_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
          <a href="/guides/shrinkwrap_introduction_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
          <a href="/guides/shrinkwrap_introduction_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
          <a href="/guides/shrinkwrap_introduction_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
          <a href="/guides/shrinkwrap_introduction_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
          <a href="/guides/shrinkwrap_introduction_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a>
          <br />
          <strong>Level:</strong>
          First Steps  <strong style="padding-left: 10px;">Tags:</strong>
          shrinkwrap, arquillian  <strong style="padding-left: 10px;">Last Update:</strong>Mar 22, 2017</div>
            <p>ShrinkWrap is the simplest way to create archives in Java, and it powers the Arquillian deployment mechanism.  This guide serves as a crash course in creating the objects which will come to represent your deployments.  We&#8217;ll cover:</p>
            <ul>
          	<li>The motivation behind and benefits of ShrinkWrap over traditional file-based archives</li>
          	<li>Creation of a new archive from scratch</li>
          	<li>Various mechanisms used to add content</li>
          	<li>Importing archives from existing File structures</li>
          </ul>
            </div>
            <h3 id="justification">Justification</h3>
          <p>From the onset, ShrinkWrap was born from a need to more easily test Java Enterprise deployments.  Traditionally defined as flat-file archives adhering to the ZIP standard, these have necessitated the introduction of some build step to package up all application resources.  And a build step takes time:</p>
          <pre class="output"><code class="output">$ mvn clean install&#x000A;... terrifying output trace ...&#x000A;[INFO] ------------------------------------------------------------------------&#x000A;[INFO] BUILD SUCCESS&#x000A;[INFO] ------------------------------------------------------------------------&#x000A;[INFO] Total time: 1:13.492s&#x000A;[INFO] ------------------------------------------------------------------------</code></pre>
          <p>But as developers, we live in our coding environments.  Switching out of that mindset to run a build is wasteful.</p>
          <p>So we asked: &#8220;What if we could declare, in Java, an object to represent that archive?&#8221;</p>
          <p>What resulted was a Java API analouge to the &#8220;jar&#8221; tool, a virtual filesystem with an intuitive syntax.</p>
          <div class="filename">Creating a ShrinkWrap Archive</div>
          <pre class="prettify"><code class="prettify">JavaArchive archive = ShrinkWrap.create(JavaArchive.class,"myarchive.jar") &#x000A;   .addClasses(MyClass.class, MyOtherClass.class)&#x000A;   .addResource("mystuff.properties");</code></pre>
          <p>What resulted was a way to take advantage of the IDE&#8217;s incremental compilation features, allowing us to skip the build.</p>
          <p><img src="/images/guides/shrinkwrap_incremental_compilation.png" alt="" /></p>
          <p>What resulted was a way to run tests straight from the IDE.</p>
          <p><img src="/images/guides/shrinkwrap_runas_junit.png" alt="" /></p>
          <p>What resulted was ShrinkWrap.</p>
          <h3 id="getting_started">Getting Started</h3>
          <p>The first step is getting your hands on the ShrinkWrap binaries.  The Core is composed of three pieces:</p>
          <table>
          	<tr>
          		<th>Name</th>
          		<th>Maven Coordinates</th>
          	</tr>
          	<tr>
          		<td>API</td>
          		<td>org.jboss.shrinkwrap:shrinkwrap-api</td>
          	</tr>
          	<tr>
          		<td>SPI</td>
          		<td>org.jboss.shrinkwrap:shrinkwrap-spi</td>
          	</tr>
          	<tr>
          		<td>Implementation</td>
          		<td>org.jboss.shrinkwrap:shrinkwrap-impl-base</td>
          	</tr>
          </table>
          <p>Only the API should be available upon your compilation ClassPath, while the SPI and the Implementation modules are both required for the runtime.  This is to enforce good separation between classes intended for direct use and the project&#8217;s internals.</p>
          <p>In Maven, these may be brought in under the proper scopes easily by using the ShrinkWrap Dependency Chain POM, available in Maven Central:</p>
          <div class="filename">Your Project&#8217;s pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;project xmlns="http://maven.apache.org/POM/4.0.0"&#x000A;  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;  xsi:schemaLocation="&#x000A;  http://maven.apache.org/POM/4.0.0&#x000A;  http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;&#x000A;  &lt;!-- snip --&gt;</code>&#x000A;  &#x000A;<code class="prettify">  &lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.shrinkwrap&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;shrinkwrap-depchain&lt;/artifactId&gt;&#x000A;    &lt;version&gt;${version.shrinkwrap}&lt;/version&gt;&#x000A;    &lt;type&gt;pom&lt;/type&gt;&#x000A;  &lt;/dependency&gt;</code>&#x000A;&#x000A;<code class="prettify">  &lt;!-- snip --&gt;&#x000A;&lt;/project&gt;</code></pre>
          <p>For projects outside use of the Maven repository system, the ShrinkWrap Distribution makes all modules available as a download, and you may set up the dependencies manually to suit your needs.</p>
          <h4>Prerequisites</h4>
          <ul>
          	<li>JRE5+ Runtime</li>
          	<li>No additional dependencies</li>
          </ul>
          <p>ShrinkWrap may run on any Java5 runtime or higher, but requires at least JDK6 for compilation.</p>
          <h4>API Documentation</h4>
          <p>JavaDoc for each release is located <a href="http://docs.jboss.org/shrinkwrap">here</a> .</p>
          <h4>Open Source Coding</h4>
          <p>Fork us and get involved with <a href="http://github.com/shrinkwrap/shrinkwrap">Development</a> .</p>
          <h3 id="archive_creation">Archive Creation</h3>
          <p>The primary entry point to the ShrinkWrap library is the <code>org.jboss.shrinkwrap.api.ShrinkWrap</code> class.  From here you may call the <code>create</code> method to make a new <code>Archive</code>, the a generic view of the virtual filesystem which allows the addition of content called <code>Asset</code> s into a location called an <code>ArchivePath</code>.  The following table more easily shows ShrinkWrap nomenclature next to more common terms:</p>
          <table>
          	<tr>
          		<th>Common Term</th>
          		<th>ShrinkWrap Class</th>
          		<th>Description</th>
          	</tr>
          	<tr>
          		<td>Archive</td>
          		<td><code>org.jboss.shrinkwrap.api.Archive</code></td>
          		<td>A collection of resources, essentially a virtual filesystem</td>
          	</tr>
          	<tr>
          		<td>File</td>
          		<td><code>org.jboss.shrinkwrap.api.Node</code></td>
          		<td>An entry in an <code>Archive</code>; may represent content or a directory</td>
          	</tr>
          	<tr>
          		<td>Path</td>
          		<td><code>org.jboss.shrinkwrap.api.ArchivePath</code></td>
          		<td>Location in an <code>Archive</code> under which a <code>Node</code> lives</td>
          	</tr>
          	<tr>
          		<td>Asset</td>
          		<td><code>org.jboss.shrinkwrap.api.Asset</code></td>
          		<td>Byte-based content within a <code>Node</code></td>
          	</tr>
          </table>
          <p>Additionally, <code>Archive</code> s have many views, and you won&#8217;t typically be dealing with the <code>Archive</code> class directly.  Instead, ShrinkWrap supplies a few <code>Archive</code> extensions which offer helpful ways of manipulating content relevant to their type.</p>
          <table>
          	<tr>
          		<th>Archive Type</th>
          		<th>Description</th>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.GenericArchive</code></td>
          		<td>Simplest type of concrete user-view of an <code>Archive</code>; supports generic operations</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.spec.JavaArchive</code></td>
          		<td>JAR type; allows addition of <code>Class</code> es, <code>Package</code> s, and Manifest operations</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.spec.EnterpriseArchive</code></td>
          		<td>Java EE EAR type; supports Manifest and related spec operations</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.spec.WebArchive</code></td>
          		<td>Java EE WAR type; supports operations common to web application deployments</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.spec.ResourceAdaptorArchive</code></td>
          		<td>Java EE RAR type; supports operations common to resource adaptor deployments</td>
          	</tr>
          </table>
          <p>To create an <code>Archive</code>, simply choose your desired archive type and optionally supply a name to the static <code>ShrinkWrap:create</code> method:</p>
          <pre class="prettify"><code class="prettify">GenericArchive myArchive = ShrinkWrap.create(GenericArchive.class,"myArchive.jar");</code></pre>
          <p>That&#8217;s it!  You&#8217;ve got your first ShrinkWrap archive!</p>
          <h3 id="adding_content">Adding Content</h3>
          <p>Of course, an object representing an empty archive is pretty useless.  So let&#8217;s have a look at adding in some content.  As we noted before, content is modeled by the <code>Asset</code> class, so let&#8217;s first take a look at some of the <code>Asset</code> implementations provided by ShrinkWrap:</p>
          <table>
          	<tr>
          		<th>Asset</th>
          		<th>Represents</th>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.asset.ArchiveAsset</code></td>
          		<td>Nested <code>Archive</code> content</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.asset.ByteArrayAsset</code></td>
          		<td><code>byte[]</code> or <code>InputStream</code> content </td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.asset.ClassAsset</code></td>
          		<td>Java <code>Class</code> content</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.asset.ClassLoaderAsset</code></td>
          		<td>A resource which can be loaded by an optionally-specified <code>ClassLoader</code></td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.asset.FileAsset</code></td>
          		<td><code>File</code> content</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.asset.StringAsset</code></td>
          		<td><code>String</code> content</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.asset.UrlAsset</code></td>
          		<td>Content located at a given <code>URL</code></td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.asset.EmptyAsset</code></td>
          		<td>Empty (0-byte) content</td>
          	</tr>
          </table>
          <p>Additionally, because <code>Asset</code> is an interface, you may provide your own implementation to supply any byte-based content that may be represented as an <code>InputStream</code> .  For instance, the snippet below shows how to present an Activation Framework <code>DataSource</code> as an <code>Asset</code> :</p>
          <pre class="prettify"><code class="prettify">final DataSource dataSource = null; // Assume you have this&#x000A;  Asset asset = new Asset() {&#x000A;  @Override&#x000A;  public InputStream openStream() {&#x000A;    try {&#x000A;      return dataSource.getInputStream();&#x000A;    } catch (final IOException e) {&#x000A;      throw new RuntimeException(e);&#x000A;    }&#x000A;  }&#x000A;};</code></pre>
          <p>The <code>Archive:add</code> method allows us to pass in some <code>Asset</code> content and add it under an <code>ArchivePath</code>.</p>
          <pre class="prettify"><code class="prettify">myArchive.add(myAsset,"path/to/content");&#x000A;System.out.println(myArchive.toString(true));</code></pre>
          <p>Passing a <code>true</code> verbosity flag into the <code>toString</code> method of <code>Archive</code> creates a recursive <code>"ls -l"</code> -style output:</p>
          <pre class="output"><code class="output">myArchive.jar:&#x000A;/path/&#x000A;/path/to/&#x000A;/path/to/content</code></pre>
          <p>The <code>Archive</code> views we covered before are also really helpful, depending upon the type of content you&#8217;re working with.  For instance, a standard JAR file typically contains <code>.class</code> files and other resources, so the <code>JavaArchive</code> type lets you add these.</p>
          <p>ShrinkWrap supports a simple mechanism allowing you to switch &#8220;views&#8221; of your archive, and it&#8217;s provided by the <code>as</code> method of the <code>org.jboss.shrinkwrap.api.Assignable</code> interface; each view in turn extends <code>Assignable</code>. So in order to get your archive to use the <code>JavaArchive</code> view in order to easily add <code>Class</code> resources, you could simply:</p>
          <pre class="prettify"><code class="prettify">myArchive.as(JavaArchive.class).addClasses(String.class, Integer.class);&#x000A;System.out.println(myArchive.toString(true));</code></pre>
          <pre class="output"><code class="output">archive.jar:&#x000A;/java/&#x000A;/java/lang/&#x000A;/java/lang/String.class&#x000A;/java/lang/Integer.class</code></pre>
          <p>Using this mechanism is central to keeping ShrinkWrap&#8217;s usage clean and intuitive, while providing for a versatility typically found in true multiple-inheritence languages.</p>
          <h3 id="working_with_file_content">Working with File Content</h3>
          <p>While ShrinkWrap has its roots in Java EE and close ties to the Arquillian Testing Platform, it&#8217;s certainly not limited to these domains.  In fact, ShrinkWrap on its own intentionally scoped to go no further than act as a virtual filesystem for archives.  As such, it provides a simple mechanism for playing nicely with flat-file structures.</p>
          <p>Borrowing from our example above, perhaps we&#8217;d like to use ShrinkWrap to packageup all of the <code>.class</code> files in the current package and output these as a standard JAR in ZIP format.  The code for that would actually be pretty simple:</p>
          <pre class="prettify"><code class="prettify">JavaArchive archive = ShrinkWrap.create(JavaArchive.class,&#x000A;  "myPackage.jar").addPackage(this.getClass().getPackage());&#x000A;  System.out.println(archive.toString(true));&#x000A;  archive.as(ZipExporter.class).exportTo(&#x000A;    new File("/home/alr/Desktop/myPackage.jar"), true);</code></pre>
          <pre class="output"><code class="output">javalang.jar:&#x000A;/org/&#x000A;/org/alr/&#x000A;/org/alr/test/&#x000A;/org/alr/test/TestClass.class</code></pre>
          <p>So let&#8217;s see what&#8217;s going on here.  First we create a <code>JavaArchive</code> and add all contents of the current <code>Class</code> &#8216;s <code>Package</code> . Then we dump the output to the console, just to see what&#8217;s included.  In the final line, we again use the <code>Assignable</code> facilities of the <code>JavaArchive</code> view to get us into a new view: one capable of exporting to ZIP format.  In this case we use the appropriately-named <code>ZipExporter</code>, allowing us to export to a <code>File</code>, <code>OutputStream</code>, or even get the contents as an <code>InputStream</code> so we can deal with the bytes ourselves.</p>
          <p>There are 3 types of exporters which ship with ShrinkWrap:</p>
          <table>
          	<tr>
          		<th>Exporter</th>
          		<th>Output Format</th>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.exporter.TarExporter</code></td>
          		<td>TAR</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.exporter.TarGzExporter</code></td>
          		<td>TAR.GZ</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.exporter.ZipExporter</code></td>
          		<td>ZIP</td>
          	</tr>
          </table>
          <p>Of course, we can also obtain a ShrinkWrap archive from a flat-file in a similar fashion by using one of the standard importers:</p>
          <table>
          	<tr>
          		<th>Importer</th>
          		<th>Output Format</th>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.importer.TarImporter</code></td>
          		<td>TAR</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.importer.TarGzImporter</code></td>
          		<td>TAR.GZ</td>
          	</tr>
          	<tr>
          		<td><code>org.jboss.shrinkwrap.api.importer.ZipImporter</code></td>
          		<td>ZIP</td>
          	</tr>
          </table>
          <p>The code for running an import to roundtrip the previous example might look like this:</p>
          <pre class="prettify"><code class="prettify">JavaArchive roundtrip = ShrinkWrap&#x000A;  .create(ZipImporter.class, "myPackageRoundtrip.jar")&#x000A;  .importFrom(new File("/home/alr/Desktop/myPackage.jar"))&#x000A;  .as(JavaArchive.class);</code></pre>
          <p>Note how we can pass <code>ZipImporter</code> into the <code>ShrinkWrap.create</code> method, as it&#8217;s <code>Assignable</code> as well!  Beginning to notice a theme here?</p>
          <p>This concludes our brief introduction into manipulating archive content with ShrinkWrap.  We hope you&#8217;ll find the API to be intuitive and consistent, and welcome you to our community.</p>
          <h3 id="share">Share the Knowledge</h3>
          <p>Find this guide useful?</p>
          <p class="post_to_twitter"><a href="http://twitter.com/home/?status=Just%20read%20the%20%23Arquillian%20Creating%20Deployable%20Archives%20with%20ShrinkWrap%20guide%20and%20got%20a%20%23greenbar!%20Get%20yours.%20http://arquillian.org/guides/shrinkwrap_introduction/"><img src="/images/post_to_twitter.png" alt="" /></a></p>
          <div class="g-plusone" data-size="tall"></div>
          <p>There&#8217;s a lot more about Arquillian to cover. If you&#8217;re ready to learn more, check out the <a href="/guides">other available guides</a>.</p>
          <h4>Feedback</h4>
          <p>Find a bug in the guide? Something missing? You can fix it by <a href="http://github.com/arquillian/arquillian.github.com">forking this website</a>, making the correction and <a href="http://help.github.com/send-pull-requests">sending a pull request</a>. If you&#8217;re just plain stuck, feel free to ask a question in the <a href="http://community.jboss.org/en/arquillian?view=discussions">user discussion forum</a>.</p>
          <h4>Recent Changelog</h4>
          <ul>
            <li>
              Mar 22, 2017:
              Resolves docs property for every component
              <em>by Bartosz Majsak</em>
            </li>
          </ul>
          <p>
            <a href="https://github.com/arquillian/arquillian.github.io/commits/develop/guides/shrinkwrap_introduction.textile">See full history &raquo;</a>
          </p>
        </div>
        <div id="sidebar">
          <div id="toc">
            <h3 class="chapter_header">Chapters</h3>
            <ol class="chapters">
              <li>
                <a href="#justification" id="justification_link">Justification</a>
              </li>
              <li>
                <a href="#getting_started" id="getting_started_link">Getting Started</a>
              </li>
              <li>
                <a href="#archive_creation" id="archive_creation_link">Archive Creation</a>
              </li>
              <li>
                <a href="#adding_content" id="adding_content_link">Adding Content</a>
              </li>
              <li>
                <a href="#working_with_file_content" id="working_with_file_content_link">Working with File Content</a>
              </li>
              <li>
                <a href="#share" id="share_link">Share the Knowledge</a>
              </li>
            </ol>
          </div>
        </div>
        <script>
          $(window).load(function() { activateScrollingToc(['justification', 'getting_started', 'archive_creation', 'adding_content', 'working_with_file_content', 'share']) })
        </script>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2017 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/docs">Documentation</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031?rel=author"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! If you want to improve it, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a>, hack on it, then send a <a href="https://help.github.com/articles/using-pull-requests">pull request</a>. You can also view the <a href="http://www.seethestats.com/site/arquillian.org">visitor stats</a>.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js?b52ff7178db0becf75d043579212b77c1f982da3"></script>
    <script src="/javascripts/jquery-scroll.js"></script>
    <script src="http://apis.google.com/js/plusone.js"></script>
    <script>
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-18727998-3']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
