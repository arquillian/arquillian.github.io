<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Guía de introducción &#183; Arquillian Guides</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Aprende como incluir a Arquillian en la suite de pruebas de tu proyecto y escribe tu primera prueba con Arquillian." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css?e0e71a3a85916364d66959de2468e50cc63bbf50" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="guide">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="g-plusone-slot">
            <div class="g-plusone" data-annotation="none"></div>
          </div>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li class="active"><a href="/guides/">Guides</a></li>
              <li><a href="/docs/">Docs</a></li>
              <li><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/modules/">Modules</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
      <div id="content-header">
        <div class="container">
          <div class="headline">
            <h1>
              <a href="/guides/">Arquillian Guides</a>
              <small>Designed exclusively to teach you how to use Arquillian to write real tests.</small>
            </h1>
            <div class="directory">
              <a class="guides_menu" href="./" id="guides_menu">
                Guides Index
                <i class="icon-menu-closed"></i>
              </a>
              <div id="guides" style="display: none">
                <a class="guides_menu" href="./">
                  Guides Index
                  <i class="icon-menu-open"></i>
                </a>
                <hr class="clear" />
                <dl class="beg">
                  <dt>First Steps</dt>
                  <dd><a href="/guides/getting_started/">Getting Started</a>
                  <br />
                  <a href="/guides/getting_started/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_el_gr/"><img class="flag" rel="tooltip" src="/images/flags/el_gr.png" title="Ελληνικά (el_gr)" /></a>
                  <a href="/guides/getting_started_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_nl/"><img class="flag" rel="tooltip" src="/images/flags/nl.png" title="Nederlands (nl)" /></a>
                  <a href="/guides/getting_started_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_sk/"><img class="flag" rel="tooltip" src="/images/flags/sk.png" title="Slovenčina (sk)" /></a>
                  <a href="/guides/getting_started_sv_se/"><img class="flag" rel="tooltip" src="/images/flags/sv_se.png" title="Svenska (sv_se)" /></a>
                  <a href="/guides/getting_started_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/getting_started_rinse_and_repeat/">Getting Started: Rinse and Repeat</a>
                  <br />
                  <a href="/guides/getting_started_rinse_and_repeat/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/get_started_faster_with_forge/">Get Started Faster with Forge</a></dd>
                  <dd><a href="/guides/shrinkwrap_introduction/">Creating Deployable Archives with ShrinkWrap</a>
                  <br />
                  <a href="/guides/shrinkwrap_introduction/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/shrinkwrap_introduction_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/shrinkwrap_introduction_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/shrinkwrap_introduction_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/shrinkwrap_introduction_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/shrinkwrap_introduction_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                </dl>
                <dl class="int">
                  <dt>More Coverage</dt>
                  <dd><a href="/guides/testing_java_persistence/">Testing Java Persistence</a>
                  <br />
                  <a href="/guides/testing_java_persistence/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/testing_java_persistence_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/testing_java_persistence_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/testing_java_persistence_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/testing_java_persistence_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/testing_java_persistence_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/functional_testing_using_graphene/">Functional Testing using Drone and Graphene</a></dd>
                  <dd><a href="/guides/testing_in_the_cloud/">Testing in the Cloud</a></dd>
                </dl>
                <dl class="adv">
                  <dt>Enhance</dt>
                  <dd><a href="/guides/developing_a_container_adapter/">Developing a Container Adapter</a></dd>
                </dl>
                <dl class="ref">
                  <dt>Reference</dt>
                  <dd><a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Reference Guide</a></dd>
                  <dd><a href="http://docs.jboss.org/arquillian/aggregate/latest">API &amp; SPI Docs</a></dd>
                  <dd><a href="http://community.jboss.org/wiki/ArquillianMigrationGuides">Migration Guides</a></dd>
                  <dd><a href="http://community.jboss.org/en/arquillian/faq">FAQs</a></dd>
                </dl>
              </div>
            </div>
            <script>$(function() { activateGuideMenuControl() })</script>
          </div>
        </div>
      </div>
      <div class="container" id="guide">
        <div id="content" lang="es">
            <div class="header">
            <div class="titlebar">
            <h2>Guía de introducción</h2>
            <div class="btn-group">
              <a class="btn" href="https://github.com/arquillian/arquillian.github.io/edit/develop/guides/getting_started_es.textile">Edit this file</a>
            </div>
          </div>
            <div class="authors"><strong>Author:</strong>
          <a href="/community/mojavelinux">Dan Allen</a>  <strong style="padding-left: 10px;">Translator:</strong>
          <a href="/community/iapazmino">Ivan Pazmino</a>  <strong style="padding-left: 10px;">Language:</strong>
          <img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" />
          <br />
          <strong style="padding-left: 0px;">Tags:</strong>
          cdi, weld, maven, forge, eclipse  <strong style="padding-left: 10px;">Last Update:</strong>Jun 26, 2017</div>
            <p>Esta guía es una introducción a Arquillian. Después de leer esta guía, estarás en la capacidad de:</p>
            <ul>
          	<li>Incluir a Arquillian en la infraestructura de un proyecto Java construido con Maven</li>
          	<li>Construir un caso de prueba con Arquillian y verificar el comportamiento de un bean <acronym title="Contexts and Dependency Injection, por sus siglas en inglés">CDI</acronym></li>
          	<li>Ejecutar el caso de prueba con Arquillian en varios contenedores compatibles</li>
          </ul>
            <p>Aprenderás estas habilidades al incorporar Arquillian en la suite de pruebas de una aplicación Java EE construida con Maven. Hemos diseñado esta guía de forma que sea una <em>lectura rápida</em> para dar los primeros pasos!</p>
            </div>
            <h3 id="supuestos">Supuestos</h3>
          <p>La manera más fácil de dar los primeros pasos con Arquillian es incorporarlo en la suite de pruebas de un proyecto cuya construcción ofrezca administración de dependencias. Hoy en día, la herramienta de construcción más utilizada en esta categoría es <a href="http://maven.apache.org">Apache Maven</a>. Esta guía te conducirá hacia tu primera <strong class="greenbar">barra verde</strong> utilizando un proyecto Maven como ejemplo.</p>
          <p class="info"><span>Arquillian no depende de Maven, o ninguna otra herramienta de construcción. Trabaja tan bien&#8212;o quizás mejor&#8212;cuando se la utiliza con proyectos construidos con Ant o Gradle. En un escenario ideal, la herramienta de construcción debe ofrecer administración de dependencias lo que simplifica la tarea de incluir las librerías de Arquillian ya que son distribuidas desde el <a href="http://search.maven.org">repositorio Maven Central</a></span></p>
          <p>Esta guía asume que dispones de Maven, como línea de comandos o en tu <acronym title="Integrated Development Environment, por sus siglas en inglés">IDE</acronym>. Si no lo tienes, por favor <a href="http://maven.apache.org/download.html">instala Maven ahora</a>. También vas a necesitar el <a href="http://www.oracle.com/technetwork/java/javase/downloads"><acronym title="Java Development Kit, por sus siglas en inglés">JDK</acronym> 1.5</a> o superior instalado en tu máquina.</p>
          <h3 id="crear_un_nuevo_proyecto">Crear un Nuevo Proyecto</h3>
          <p>Hay dos formas en las que recomendamos crear un nuevo proyecto Maven:</p>
          <ol>
          	<li><a href="#generate_project_from_archetype">Generar un proyecto a partir de un arquetipo Maven</a></li>
          	<li><a href="#create_project_using_forge">Crear y personalizar un proyecto utilizando JBoss Forge</a></li>
          </ol>
          <p>En gran medida, <a href="http://jboss.org/forge">JBoss Forge</a> constituye un efoque más simple, pero esta guía ofrece las dos opciones en caso de que no estés listo para adoptar JBoss Forge. Selecciona una de las dos opciones de arriba para ir hacia las instrucciones.</p>
          <p class="info"><span>Si ya tienes un proyecto Maven, puedes utilizar esta sección para revisar y asegurarte que tienes las dependencias correctas antes de continuar.</span></p>
          <h4 id="generate_project_from_archetype">Generar un Proyecto a partir de un Arquetipo Maven</h4>
          <p>Primero, crea un proyecto Java basado en Maven usando el comando a continuación.</p>
          <pre class="command"><code class="command">$ mvn archetype:generate -DarchetypeGroupId=net.avh4.mvn.archetype \&#x000A;-DarchetypeArtifactId=java-1.6-archetype</code></pre>
          <p><em>Copia el texto que aparece después de <code>$</code> y pégalo en la línea de comandos.</em> Responde a las preguntas ingresando el valor que se muestra después de cada doble dos puntos. Presiona la tecla Enter después de cada línea (señalado por <code>&lt;ENTER&gt;</code>).</p>
          <pre class="output"><code class="output">Define value for property 'groupId': : org.arquillian.example &lt;ENTER&gt;&#x000A;Define value for property 'artifactId': : arquillian-tutorial &lt;ENTER&gt;&#x000A;Define value for property 'version': : &lt;ENTER&gt;&#x000A;Define value for property 'package': : &lt;ENTER&gt;&#x000A;Confirm properties configuration:&#x000A;groupId: org.arquillian.example&#x000A;artifactId: arquillian-tutorial&#x000A;version: 1.0-SNAPSHOT&#x000A;package: org.arquillian.example&#x000A;Y: : &lt;ENTER&gt;</code></pre>
          <p>Este comando genera un proyecto Java basado en Maven dentro de una nueva carpeta llamada <code>arquillian-tutorial</code> bajo el directorio sobre el que se trabaja. La estructura del proyexto se muestra a continuación:</p>
          <ul class="filetree">
          	<li>src/
          	<ul>
          		<li>main/
          		<ul>
          			<li>java/ &#8211; Coloca todos los archivos de código Java de la aplicación aquí (dentro del paquete Java)</li>
          			<li>resources/ &#8211; Coloca todos los archivos de configuración de la aplicación aquí</li>
          		</ul></li>
          		<li>test/
          		<ul>
          			<li>java/ &#8211; Coloca todos los archivos de código Java para pruebas de la aplicación aquí (dentro del paquete Java)</li>
          			<li>resources/ &#8211; Coloca todos los archivos de configuración de las pruebas aquí (e.g., arquillian.xml)</li>
          		</ul></li>
          	</ul></li>
          	<li>pom.xml &#8211; El archivo de construcción de Maven. Le dice a Maven como se debe construir el proyecto.</li>
          </ul>
          <p class="info"><span>El proyecto está preconfigurado para utilizad Java 1.6 y JUnit 4.8, las versiones mínimas requeridas de Java y JUnit para utilizar Arquillian, respectivamente.</span></p>
          <p>Este generador crea también un paqute Java llamado <code>org.arquillian.example</code> por debajo de las dos carpetas <code>java</code>. Debes poner tus archivos de código Java en estos paquetes en lugar de ponerlos en la raíz de la carpeta <code>java</code>.</p>
          <p class="warning"><span>Arquillian también soportaTestNG 5. Sin embargo, vamos a utilizar JUnit a lo largo de esta guía.</span></p>
          <p>Ahora ve hacia el archivo <code>pom.xml</code> y ábrelo en tu editor.Deberías ver un archivo XML que contiene la información básica del proyecto, una sección donde se describe la construcción (build) y una sección para las dependencias (dependencies). <strong>Puedes eliminar todos los elementos <dependency> que se encuentran bajo la dependencia a JUnit ya que no son requeridos.</dependency></strong></p>
          <p>Después de hacer este cambio, deberías tener un contenido similar al que se presenta a continuación (recortados los saltos de línea para reducir espacio):</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;project xmlns="http://maven.apache.org/POM/4.0.0"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://maven.apache.org/POM/4.0.0&#x000A;        http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;&#x000A;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</code>&#x000A;&#x000A;<code class="prettify">    &lt;groupId&gt;org.arquillian.example&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;arquillian-tutorial&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&#x000A;    &lt;packaging&gt;jar&lt;/packaging&gt;</code>&#x000A;&#x000A;<code class="prettify">    &lt;name&gt;arquillian-tutorial&lt;/name&gt;&#x000A;    &lt;url&gt;http://arquillian.org&lt;/url&gt;</code>&#x000A;&#x000A;<code class="prettify">    &lt;properties&gt;&#x000A;        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&#x000A;    &lt;/properties&gt;</code>&#x000A;&#x000A;<code class="prettify">    &lt;build&gt;&#x000A;        &lt;plugins&gt;&#x000A;            &lt;plugin&gt;&#x000A;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#x000A;                &lt;version&gt;2.3.2&lt;/version&gt;&#x000A;                &lt;configuration&gt;&#x000A;                    &lt;source&gt;1.6&lt;/source&gt;&#x000A;                    &lt;target&gt;1.6&lt;/target&gt;&#x000A;                &lt;/configuration&gt;&#x000A;            &lt;/plugin&gt;&#x000A;        &lt;/plugins&gt;&#x000A;    &lt;/build&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;            &lt;version&gt;4.12&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/project&gt;</code></pre>
          <p>En esta guía, estaremos escribiendo componentes Java EE 7. Por lo tanto, también vamos a necesitar añadir el API de Java EE 7 a las dependencias para poder compilar estos componentes.</p>
          <p>Abre el archivo <code>pom.xml</code> nuevamente y agrega el siguiente pedazo de XML directamente dentro del elemento <code>&lt;dependencies&gt;</code>. Así es como debe lucir la sección una vez que hayas terminado:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencies&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;        &lt;version&gt;1.0.3.Final&lt;/version&gt;&#x000A;        &lt;type&gt;pom&lt;/type&gt;&#x000A;        &lt;scope&gt;provided&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;        &lt;version&gt;4.12&lt;/version&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;&lt;/dependencies&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>La base de tu proyecto está lista! Salta a la siguiente sección para <a href="#open_project_in_eclipse">abrir el proyecto en Eclipse</a> para poder empezar a escribir un poco de código!</p>
          <h4 id="create_project_using_forge">Crear un Proyecto utilizando Forge</h4>
          <p><a href="http://jboss.org/forge">JBoss Forge</a> es una terminal de comandos para desarrollo rápido de aplicaciones en una ambiente basado en estándares. Otra forma de verlo es como Arquetipos de Maven en steroides.</p>
          <p>La instalación de Forge es un proceso relativamente corto, y esta guía te va a mostrar las bases. Sigue los siguientes simples ejemplos para realizar la instalación:</p>
          <ol>
          	<li><a href="http://downloads.jboss.org/forge/releases/3.4.0.Final/forge-distribution-3.4.0.Final-offline.zip">Descarga Forge</a> y descomprímelo en una carpeta en tu disco duro, a la cual nos vamos a referir como <code>$FORGE_HOME</code><br />
            Asumiremos que la distribución fue extraida en una carpeta llamada <code>forge</code> en tu directorio raíz</li>
          	<li>Agregar la entrada <code>$FORGE_HOME/bin</code> en el path (Windows, Linux or Mac OSX)</li>
          </ol>
          <p>Para un sistema operativo basasdo en Unix, agregar Forge a tu path generalemente significa editar el archivo $HOME/.bashrc or $HOME/.profile; vas a necesitar configurar las siguientes variables de ambiente:</p>
          <pre class="command"><code class="command">$ export FORGE_HOME=$HOME/forge/&#x000A;$ export PATH=$PATH:$FORGE_HOME/bin</code></pre>
          <p class="info"><span>Para Windows, hacer click-derecho y abrir el &#8220;Panel de Control&#8221;, luego hacer click en &#8220;Propiedades del Sistema&#8221;, abrir la pestaña  &#8220;Avanzado&#8221;, luego hacer click en &#8220;Variables de ambiente&#8221; y añadir estas dos entradas. Remoendamos configurar las variables para Forge en el usuario, a menos que hayas colocado la distribución descomprimida en una carpeta que todos puedan acceder.</span></p>
          <p>Ahora que Forge está instalado (i.e., descomprimido), abrir una línea de comandos (una terminal) y ejecutar el comando <code>forge</code>:</p>
          <pre class="command"><code class="command">$ forge&#x000A;   _____&#x000A;  |  ___|__  _ __ __ _  ___&#x000A;  | |_ / _ \| `__/ _` |/ _ \  \\&#x000A;  |  _| (_) | | | (_| |  __/  //&#x000A;  |_|  \___/|_|  \__, |\___|&#x000A;                  |___/</code>&#x000A;&#x000A;<code class="command">[no project] ~ $</code></pre>
          <p>Eso es todo! Forge está arriba y corriendo. Ahora es tiempo de crear un proyecto.</p>
          <p>Dentro de la terminal de Forge, ejecutar el siguiente comando para crear un proyecto en blanco, muy parecido a como creamos un proyecto utilizando un Arquetipo Maven Archetype:</p>
          <pre class="command"><code class="command">$ project-new --named arquillian-tutorial --topLevelPackage org.arquillian.example</code></pre>
          <p>Este comando genera un proyecto Java basado en Maven dentro de una nueva carpeta llamada <code>arquillian-tutorial</code> dentro del directorio actual.</p>
          <p>La estructura de archivos que genera Forge para el proyecto se muestra a continuación:</p>
          <ul class="filetree">
          	<li>src/
          	<ul>
          		<li>main/
          		<ul>
          			<li>java/ &#8211; Coloca todos los archivos de código Java de la aplicación aquí (dentro del paquete Java)</li>
          			<li>resources/ &#8211; Coloca todos los archivos de configuración de la aplicación aquí
          			<ul>
          				<li>META-INF/
          				<ul>
          					<li>forge.xml &#8211; Un archivo de configuración para Forge vacío</li>
          				</ul></li>
          			</ul></li>
          		</ul></li>
          		<li>test/
          		<ul>
          			<li>java/ &#8211; Coloca todos los archivos de configuración de la aplicación aquí</li>
          			<li>resources/ &#8211; Coloca todos los archivos de configuración de las pruebas aquí (e.g., arquillian.xml)</li>
          		</ul></li>
          	</ul></li>
          	<li>pom.xml &#8211; El archivo de construcción de Maven. Le dice a Maven como se debe construir el proyecto.</li>
          </ul>
          <p>Forge también convierte a la carpeta del proyecto en tu directorio actual dentro de la terminal de Forge.</p>
          <pre class="command"><code class="command">[arquillian-tutorial] arquillian-tutorial $</code></pre>
          <p>Ahora necesitamos agregar los APIs Java EE. Esto se hace utilizando el comando <code>project add-dependency</code> como se muestra a continuación:</p>
          <pre class="command"><code class="command">$ project-add-dependencies org.jboss.spec:jboss-javaee-7.0:1.0.3.Final:pom:provided</code></pre>
          <p>Además vas a necesitar agregar JUnit 4.12, la versión mínima requerida de JUnit para utilizar Arquillian, como una dependencia con scope en test:</p>
          <pre class="command"><code class="command">$ project-add-dependencies junit:junit:4.12:test</code></pre>
          <p>El pom.xml resultante que genera Forge se muestra a continuación:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;&#x000A;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#x000A;    &lt;groupId&gt;org.arquillian.tutorial&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;arquillian-tutorial&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;&#x000A;    &lt;packaging&gt;war&lt;/packaging&gt;&#x000A;    &lt;properties&gt;&#x000A;    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;&#x000A;    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;&#x000A;    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&#x000A;    &lt;/properties&gt;&#x000A;    &lt;dependencyManagement&gt;&#x000A;      &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;          &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;          &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;&#x000A;          &lt;version&gt;1.0.3.Final&lt;/version&gt;&#x000A;          &lt;type&gt;pom&lt;/type&gt;&#x000A;          &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;          &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;          &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;          &lt;version&gt;4.12&lt;/version&gt;&#x000A;          &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;      &lt;/dependencies&gt;&#x000A;    &lt;/dependencyManagement&gt;&#x000A;    &lt;dependencies&gt;&#x000A;      &lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;&#x000A;        &lt;type&gt;pom&lt;/type&gt;&#x000A;        &lt;scope&gt;provided&lt;/scope&gt;&#x000A;      &lt;/dependency&gt;&#x000A;      &lt;dependency&gt;&#x000A;        &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;      &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;    &lt;build&gt;&#x000A;      &lt;finalName&gt;arquillian-tutorial&lt;/finalName&gt;&#x000A;      &lt;plugins&gt;&#x000A;        &lt;plugin&gt;&#x000A;          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;&#x000A;          &lt;version&gt;2.4&lt;/version&gt;&#x000A;          &lt;configuration&gt;&#x000A;            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;&#x000A;          &lt;/configuration&gt;&#x000A;        &lt;/plugin&gt;&#x000A;      &lt;/plugins&gt;&#x000A;    &lt;/build&gt;&#x000A;&lt;/project&gt;</code></pre>
          <p class="info"><span>Arquillian ahora se distribuye desde el repositorio Maven Central repository, de forma que la declaracion del repositorio JBoss Public en el pom.xml es innecesaria y puede ser removida. Recuerda, sin embargo, que puedes necesitar otro software de JBoss que no esté disponible en Maven Central.</span></p>
          <p class="warning"><span>Si te alineas con quienes consideran que agreagar de manera explícita un repositorio en el pom.xml de tu poryecto es un anti-patrón, entonces lee <a href="http://community.jboss.org/wiki/MavenGettingStarted-Users">estas instrucciones</a> para habilitar el repositorio de manera global en tu archivo de configuración settings.xml.</span></p>
          <p>La base del proyecto está lista! Ahora vamos a abri el proyecto en Eclipse y así podremos empezar a escribir un poco de código!</p>
          <h3 id="abrir_el_proyecto_en_eclipse">Abrir el proyecto en Eclipse</h3>
          <p>Cuando se desarrolla un proyecto Java, seguramente estarás utilizando un IDE, como por ejemplo Eclipse. Es por esto que Arquillian ha sido diseñado para se amigable con los IDE, lo que significa que las pruebas con Arquillian pueden ser ejecutadas desde el IDE sin necesidad de cambios poco convencionales. Así que comenecemos a aprovechar el IDE de inmediato.</p>
          <p>Comienza por lanzar Eclipse. Ahora, ya que este es un proyecto Maven, necesitas instalar el plugin (m2e) <a href="http://eclipse.org/m2e">Integración con Maven para Eclipse</a> para abrir el proyecto. Si no tienes instalado el plugin de integración, la manera más simple de obtenerlo es instalando <a href="http://jboss.org/tools">JBoss Tools</a>. Sigue los siguientes pasos para instalarlo desde el Eclipse Marketplace (es un tipo de tienda de aplicaciones para Eclipse).</p>
          <ol>
          	<li>Selecciona <code>Help &gt; Eclipse Marketplace...</code> del menú principal</li>
          	<li>Escribe &#8220;jboss tools&#8221; en el campo Buscar (sin las doble comillas) y presiona Enter</li>
          	<li>Click en el botón Instalar junto a JBoss Tools (Indigo)</li>
          	<li>Sigue el asistente de instalación, luego reinicia Eclipse si es requerido</li>
          </ol>
          <p>JBoss Tools provee un buen ambiente para desarrollar aplicaciones Java EE, incluyendo un excelente soporte para CDI support. No hay de que preocuparse, no es un plugin pesado.</p>
          <p>De todas formas, si solamente quieres la integración con Maven sin los extras que trae JBoss Tools, puedes seguir estos pasos en lugar de los anteriores:</p>
          <ol>
          	<li>Selecciona <code>Help &gt; Eclipse Marketplace...</code> del menú principal</li>
          	<li>Escribe &#8220;maven&#8221; en el campo Buscar (sin las doble comillas) y presiona Enter</li>
          	<li>Click en el botón Instalar junto a Maven Integration for Eclipse</li>
          	<li>Sigue el asistente de instalación, luego reinicia Eclipse si es requerido</li>
          	<li>Repite los pasos para instalar Maven Integration for Eclipse WTP</li>
          </ol>
          <p>Una vez instalado el plugin de Integración con Maven, sigue los siguientes pasos para abrir el proyecto:</p>
          <ol>
          	<li>Selecciona <code>File &gt; Import...</code> del menú principal</li>
          	<li>Escribe &#8220;existing maven&#8221; en el campo de entrada</li>
          	<li>Selecciona la opción Existing Maven Projects, luego presiona el botón Siguiente</li>
          	<li>Presiona el botón Explorar&#8230;</li>
          	<li>Navega hasta la carpeta del proyecto en tu sistema de archivos, entonces presiona el botón OK</li>
          	<li>Presional el botón Finalizar para abrir tu proyecto</li>
          </ol>
          <p>Eclipse reconocerá el proyecto Maven y lo abrirá en la vista Project Navigator. Si expandes el proyecto, debería verse similar a esta imagen:</p>
          <p><img src="/images/guides/arquillian_tutorial_eclipse_project.png" alt="" /></p>
          <p>Ahora estamos listos para entrar en el meollo del asunto!</p>
          <h3 id="crear_un_componente">Crear un Componente</h3>
          <p>Para escribir una prueba con Arquillian, necesitamos tener un componente para probar. Comencemos por crear un componente básico de manera que puedas aprender cómo ejecutar una prueba con Arquillian sin otras distracciones. Poco a poco nos moveremos hacia escenarios más complejos.</p>
          <p>En tu IDE, crea una nueva clase Java llamada <code>Greeter</code> dentro del paquete <code>org.arquillian.example</code>. Reemplaza el contenido del archivo con esta lógica para extender un saludo:</p>
          <div class="filename">src/main/java/org/arquillian/example/Greeter.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.PrintStream;</code>&#x000A;&#x000A;<code class="prettify">/**&#x000A; * A component for creating personal greetings.&#x000A; */&#x000A;public class Greeter {&#x000A;    public void greet(PrintStream to, String name) {&#x000A;        to.println(createGreeting(name));&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public String createGreeting(String name) {&#x000A;        return "Hello, " + name + "!";&#x000A;    }&#x000A;}</code></pre>
          <p>Queremos verificar que esta clase se comporta de manera correcta cuando invocada como un bean <acronym title="Contexts and Dependency Injection, por sus siglas en inglés">CDI</acronym> bean. Por supuesto, podríamos simplemente escribir una prueba unitaria. Pero vamos a pretender que este bean utiliza services empresariales como inyección de dependencias y mensajería y tiene que ser utilizado dentro del contenedor. (Además, de esta manera le damos espacio para crecer ~;))</p>
          <p>Para utilizar la clase como un bean CDI, vamos a inyectarla en la prueba utilizando la anotación <code>@Inject</code>. Esto requiere de una prueba con  Arquillian! Y esto significa que debemos agregar el API de Arquillian al proyecto!</p>
          <h3 id="agrega_los_apis_de_arquillian">Agrega los APIs de Arquillian</h3>
          <p>Una vez más abre el archivo <code>pom.xml</code>, ubicado en la carpeta raíz del proyecto, en tu editor. Necesitamos instruir a Maven acerca de cual de las versiones del artefacto debe utilizar. Inserta el siguiente fragmento de XML directamente sobre el elemento <code>&lt;build&gt;</code> para importar el  <acronym title="Bill of Materials, por sus siglas en inglés">BOM</acronym>, o matriz de versiones, con las dependencias transitivas de Arquillian.</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencyManagement&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-bom&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.1.15.Final&lt;/version&gt;&#x000A;            &lt;scope&gt;import&lt;/scope&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/dependencyManagement&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>A continuación, añadir el siguiente fragmento XML justo debajo del último elemento <code>&lt;dependency&gt;</code> para agregar la integración entre Arquillian y JUnit:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>El artefacto para la integración entre Arquillian y JUnit también agrega el API de Arquillian y de ShrinkWrap al classpath de pruebas. Todas estas librerías son necesarias para escribir y compilas tus pruebas JUnit y Arquillian.</p>
          <p class="info"><span>Para utilizar TestNG en lugar de JUnit, reemplazar la integración entre Arquillian y JUnit por la integración entre Arquillian y  TestNG.</span></p>
          <p>Si tienes algún problema con el pom.xml hasta este punto, puedes descargar el archivo desde <a href="https://gist.github.com/1263892">este gist</a>.</p>
          <p><strong>Ahora estás listo para escribir tu primera prueba con Arquillian!</strong></p>
          <h3 id="escribir_una_prueba_con_arquillian">Escribir una prueba con Arquillian</h3>
          <p>Una prueba con Arquillian se ve igual a una prueba unitaria, pero con un poco más de estilo. Vamos de regreso al IDE.</p>
          <p class="warning"><span>En el caso de que se presente el &#8220;La configuración del proyecto no está sincronizada con el pom.xml&#8221; haz click derecho y selecciona Proyecto &gt; Maven &gt; Actualizar Configuración del Proyecto para sincronizar el proyecto.</span></p>
          <p>Comienza por crear un nuevo caso de prueba con JUnit en src/test/java dentro del paquete <code>org.arquillian.example</code> con el nombre <code>GreeterTest</code>. No vas a necesitar los típicos métodos de configuración y desomentaje ya que Arquillian hará la mayoría del trabajo pesado. Aquí está lo que tenemos hasta ahora:</p>
          <div class="filename">src/test/java/org/arquillian/example/GreeterTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.junit.Assert;&#x000A;import org.junit.Test;</code>&#x000A;&#x000A;<code class="prettify">public class GreeterTest {&#x000A;    @Test&#x000A;    public void should_create_greeting() {&#x000A;        Assert.fail("Not yet implemented");&#x000A;    }&#x000A;}</code></pre>
          <p>Ahora, acerca de tener estilo. Un caso de prueba con Arquillian debe tener tres cosas:</p>
          <ol>
          	<li>Una anotación <code>@RunWith(Arquillian.class)</code> sobre la clase</li>
          	<li>Un método estático anotado con <code>@Deployment</code> que retorne un archivo ShrinkWrap</li>
          	<li>Al menos un método anotado con <code>@Test</code></li>
          </ol>
          <p>La anotación <code>@RunWith</code> le dice a JUnit que utilice Arquillian como el controlador de la prueba. Arquillian luego busca un método estático anotado con <code>@Deployment</code> para obtener el archivo de prueba (i.e., micro-deployment). Entonces con un poco de magia cada uno de los métodos anotados con <code>@Test</code> son ejecutados dentro del contenedor.</p>
          <h4>Qué es un archivo de pruebas?</h4>
          <p>El propósito de un archivo de pruebas es aislar las clases y recursos que son necesarios por la prueba del resto del classpath. A diferencia de una prueba unitaria normal, Arquillian no simplemente se sumerge dentro del classpath. En lugar de eso, incluye solamente lo que la prueba necesita (que puede ser todo el classpath, si así lo decides). El archivo se define utilizando <a href="http://jboss.org/shrinkwrap">ShrinkWrap</a>, que es un API en Java para la creación de archivos (e.g., jar, war, ear). La estrategia de micro-despliegues te permite enfocarte exactamente en las clases que quieres probar y, como resultado, la prueba permanece muy pequeña.</p>
          <p class="info"><span>ShrinkWrap además soporta la resolución de artefactos (librearías) y la creación de archivos de configuración de manera programática, los cuales pueden ser agregados al archivo de pruebas. Para una introducción más completa a ShrinkWrap, mira la <a href="/guides/shrinkwrap_introduction">Guía de introducción a ShrinkWrap</a>.</span></p>
          <p>Vamos a agregar ese estilo Arquillian a la prueba:</p>
          <div class="filename">src/test/java/org/arquillian/example/GreeterTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.Assert;&#x000A;import org.junit.Test;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class GreeterTest {</code>&#x000A;&#x000A;<code class="prettify">    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class)&#x000A;            .addClass(Greeter.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Test&#x000A;    public void should_create_greeting() {&#x000A;        Assert.fail("Not yet implemented");&#x000A;    }&#x000A;}</code></pre>
          <p>Utilizando ShrinkWrap, hemos definido un archivo Java (jar) como el desplegable que inclueye la clase <code>Greeter</code> que será invocada desde la prueba y un beans.xml vacío en la carpeta META-INF para activar el CDI en este archivo.</p>
          <p>Ahora todo lo que necesitamos hacer es inyectar la instancia de <code>Greeter</code> directamente en un campo sobre el método de prueba y remplazar el método de prueba sin implementar con otro que asegure el comportamiento del componente. Para hacer las cosas aun más interesantes, vamos a imprimir también el saludo en la consola.</p>
          <div class="filename">src/test/java/org/arquillian/example/GreeterTest.java</div>
          <pre class="prettify"><code class="prettify">// clip&#x000A;import javax.inject.Inject;&#x000A;// clip</code>&#x000A;&#x000A;<code class="prettify">@Inject&#x000A;Greeter greeter;</code>&#x000A;&#x000A;<code class="prettify">@Test&#x000A;public void should_create_greeting() {&#x000A;    Assert.assertEquals("Hello, Earthling!",&#x000A;        greeter.createGreeting("Earthling"));&#x000A;    greeter.greet(System.out, "Earthling");&#x000A;}</code></pre>
          <p>Así debería verse la prueba una vez que hayas terminado:</p>
          <div class="filename">src/test/java/org/arquillian/example/GreeterTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import javax.inject.Inject;&#x000A;import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.Test;&#x000A;import org.junit.Assert;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class GreeterTest {</code>&#x000A;&#x000A;<code class="prettify">    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class)&#x000A;            .addClass(Greeter.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Inject&#x000A;    Greeter greeter;</code>&#x000A;&#x000A;<code class="prettify">    @Test&#x000A;    public void should_create_greeting() {&#x000A;        Assert.assertEquals("Hello, Earthling!",&#x000A;            greeter.createGreeting("Earthling"));&#x000A;        greeter.greet(System.out, "Earthling");&#x000A;    }&#x000A;}</code></pre>
          <p>Has escrito tu primera prueba con Arquillian!</p>
          <p>Ah, pero probablemente te preguntarás como ejecutarla ~:S Si estás pensando, &#8220;igual que una prueba unitaria&#8221; estás en lo correcto! De todas formas, primero necesitamos agregar un adaptador para el contenedor en el classpath.</p>
          <h3 id="agregar_un_adaptador_para_el_contenedor">Agregar un Adaptador para el Contenedor</h3>
          <p>Hemos hablado mucho de probar en un contenedor, pero hasta aquí no hemos mencionado cual. Esto se debe a que es una decisión en tiempo de ejecución.</p>
          <p>Arquillian selecciona el contenedor basándose en el adaptador para contenedor que está disponible en el classpath. Eso significa que vamos a agregar algunas librerías más al proyecto.</p>
          <p>Una prueba con Arquillian debe ser ejecutada en cualquier contenedor que es compatible con el modelo de programación utilizado en la prueba (siempre y cuando exista un adaptador de Arquillian para dicho contenedor). Nuestra prueba utiliza CDI como modelo de programación, por tanto necesitamos utilizar un contenedor que soporte CDI. Queremos una solución rápida para el desarrollo, por tanto vamos a arrancar el contenedor Weld EE embebido.</p>
          <p>Abre el archivo <code>pom.xml</code> nuevamente y agrega el siguiente grupo de dependencias directamente abajo de los otros elementos <code>&lt;dependency&gt;</code>:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;arquillian-weld-ee-embedded-1.1&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.0.0.CR9&lt;/version&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;weld-core&lt;/artifactId&gt;&#x000A;    &lt;version&gt;2.3.5.Final&lt;/version&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;&#x000A;    &lt;version&gt;1.6.4&lt;/version&gt;&#x000A;    &lt;scope&gt;test&lt;/scope&gt;&#x000A;&lt;/dependency&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>Para resumir, aquí están las tres librerías que necesitas para utilizar Arquillian (con JUnit):</p>
          <ol>
          	<li>Integración Arquillian JUnit</li>
          	<li>Adaptador Arquillian para el contenedor</li>
          	<li>Ambiente de ejecución del contenedor (contenedor embebido) o cliente del contenedor (contenedor remoto)</li>
          </ol>
          <p>En este ejemplo estamos utilizando un contenedor embebido, por tanto necesitamos el ambiente de ejecución del contenedor, Weld.</p>
          <p>Ahora de regreso a la prueba.</p>
          <h3 id="ejecutar_la_prueba_con_arquillian">Ejecutar la prueba con Arquillian</h3>
          <p>Una vez que has agregado todas las librerías de Arquillian necesarias al classpath, puedes ejecutar una prueba Arquillian como cualquier prueba unitaria, ya sea que la estás ejecutando desde el IDE, el guión de ejecución o cualquier otro plugin para pruebas. Vamos a ejecutar la prueba en Eclipse.</p>
          <p>Desde la ventana del IDE, click derecho sobre el archivo GreeterTest.java en el Package Explorer (o en el editor) y selecciona Run As &gt; JUnit Test del menú contextual.</p>
          <p><img src="/images/guides/arquillian_tutorial_run_junit_test.png" alt="" /></p>
          <p>Cuando ejecutas la prueba, deberías ver las siguientes líneas impresas en la consola:</p>
          <pre class="output"><code class="output">21 [main] INFO org.jboss.weld.Version - WELD-000900 2.3.5 (Final)&#x000A;Hello, Earthling!</code></pre>
          <p>Luego deberías ver que aparece la vista JUnit, mostrando una <strong class="greenbar">barra verde</strong>!</p>
          <p><img src="/images/guides/arquillian_tutorial_junit_green_bar.png" alt="" /></p>
          <p>Puedes además ejecutar la prueba desde la línea de comandos utilizando Maven:</p>
          <pre class="command"><code class="command">$ mvn test</code></pre>
          <p>Deberías ver las siguientes líneas impresas en la consola:</p>
          <pre class="output"><code class="output">-------------------------------------------------------&#x000A;T E S T S&#x000A;-------------------------------------------------------&#x000A;Running org.arquillian.example.GreeterTest&#x000A;19 [main] INFO org.jboss.weld.Version - WELD-000900 2.3.5 (Final)&#x000A;Hello, Earthling!&#x000A;Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.907 sec</code></pre>
          <p><strong>Felicitaciones!</strong> Te has ganado tu primera <strong class="greenbar">barra verde</strong> con Arquillian!</p>
          <h3 id="una_mirada_m&#225;s_de_cerca">Una mirada más de cerca</h3>
          <p>Cómo sabes que el CDI realmente funcionó? Para ti, Arquillian creó una nueva instancia de la clase <code>Greeter</code> y la inyectó en la prueba sin que CDI se haya visto envuelto. Vamos a probar que está ahí.</p>
          <p>Crea un nuevo bean CDI llamado <code>PhraseBuilder</code> en el paquete <code>org.arquillian.example</code> que puede crear frases a partir de plantillas.</p>
          <div class="filename">src/main/java/org/arquillian/example/PhraseBuilder.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.text.MessageFormat;&#x000A;import java.util.HashMap;&#x000A;import java.util.Map;&#x000A;import javax.annotation.PostConstruct;</code>&#x000A;&#x000A;<code class="prettify">public class PhraseBuilder {&#x000A;    private Map&lt;String, String&gt; templates;</code>&#x000A;&#x000A;<code class="prettify">    public String buildPhrase(String id, Object... args) {&#x000A;        return MessageFormat.format(templates.get(id), args);&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @PostConstruct&#x000A;    public void initialize() {&#x000A;        templates = new HashMap&lt;String, String&gt;();&#x000A;        templates.put("hello", "Hello, {0}!");&#x000A;    }&#x000A;}</code></pre>
          <p>A continuación, abre la clase <code>Greeter</code> y crea un nuevo constructor que va a inyectar <code>PhraseBuilder</code> utilizando la inyección por constructor. Luego, delega la tarea de crear el saludo al bean inyectado.</p>
          <div class="filename">src/main/java/org/arquillian/example/Greeter.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.PrintStream;&#x000A;import javax.inject.Inject;</code>&#x000A;&#x000A;<code class="prettify">public class Greeter {</code>&#x000A;&#x000A;<code class="prettify">    private PhraseBuilder phraseBuilder;</code>&#x000A;&#x000A;<code class="prettify">    @Inject&#x000A;    public Greeter(PhraseBuilder phraseBuilder) {&#x000A;        this.phraseBuilder = phraseBuilder;&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public void greet(PrintStream to, String name) {&#x000A;        to.println(createGreeting(name));&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    public String createGreeting(String name) {&#x000A;        return phraseBuilder.buildPhrase("hello", name);&#x000A;    }&#x000A;}</code></pre>
          <p>Ahora, para que la prueba funcione, una instancia de <code>PhraseBuilder</code> debe ser creada, su método <code>@PostConstruct</code> invocado y debe ser inyectada en el constructor de <code>Greeter</code> cuando se cree una instancia de <code>Greeter</code>. Podemos estar seguros de que CDI está funcionando si todo esto trabaja de manera correcta.</p>
          <p>Un último paso.  Como creamos una clase nueva, debemos asegurarnos de que sea agregada al archivo que está siendo retornado por el método <code>@Deployment</code> en la prueba.  Simplemente cambia la línea:</p>
          <pre class="prettify"><code class="prettify">.addClass(Greeter.class)</code></pre>
          <p>&#8230;por:</p>
          <pre class="prettify"><code class="prettify">.addClasses(Greeter.class, PhraseBuilder.class)</code></pre>
          <p>Ejecuta la prueba nuevamente. Deberías obtener otra <strong class="greenbar">barra verde</strong>! Se siente bien, verdad?</p>
          <h3 id="depurar_la_prueba">Depurar la prueba</h3>
          <p>Este va a ser un capítulo corto. Porqué? Porque una prueba con Arquillian es tan sencillo depurar como es depurar una prueba unitaria. Simplemente agrega el punto de corte en cualquier lugar &#8212;ya sea en la prueba o en el código de la aplicación. Luego da un clic derecho sobre el archivo y selecciona Debug As &gt; JUnit Test. Ahora estás depurando en el contenedor! Diviertete!</p>
          <p><img src="/images/guides/arquillian_tutorial_debugging_test.png" alt="" /></p>
          <p class="warning"><span>Si utilizas un contenedor remoto, Debug As no activa los puntos de corte. En su lugar, necesitas iniciar el contenedor en modo de depuración y adjuntar el depurador. Eso se debe a que la prueba es ejecutada sobre una JVM diferente a la del ejecutor de la prueba.</span></p>
          <p>Como has podido ver, Arquillian es la herramienta ideal para probar aplicaciones CDI. Se ocupa de cargar el ambiente CDI y de inyectar los beans directamente en las prueba. Lo mejor de todo, cuando utilizas un contenedor embebido, las pruebas se ejecutan tan rápido como una prueba unitaria. Si eso es todo lo que necesitas, entonces puedes salir de la guía y empezar a escribir pruebas.</p>
          <p><strong>Pero!</strong> La historia que nos cuenta el servidor embebido está completa? En un contenedor completo se ejecutará el componente?</p>
          <p>Uno de los beneficios de Arquillian es que puedes correr la misma prueba desde diferentes contenedores compatibles, ya sea este otro contenedor embebido o un contenedor independiente. Si tu intención es utilizar múltiples contenedores, sigue leyendo.</p>
          <h3 id="agregar_m&#225;s_contenedores">Agregar Más Contenedores</h3>
          <p>Como aprendiste antes, Arquillian selecciona el contenedor basado en que adaptador está en el classpath. Para cambiar a otro contenedor, simplemente debes cambiar el adaptador que está en el classpath antes de ejecutar la prueba.</p>
          <p class="important"><span>Solo puede haber un adaptador para contenedor en el classpath a la vez.</span></p>
          <p>Una forma de cambiar las librerías en el classpath es editar manualmente las dependencias definidas en el <code>pom.xml</code> cada ejecución. Pero es simplemente una locura. Existe una mejor manera.</p>
          <p>Podemos utilizar perfiles de Maven para separar las dependencias en grupos, un grupo para cada adaptador y sus artefactos relacionados. Cuando ejecutas las pruebas, activas uno de esos grupos para seleccionar el contenedor utilizando la terminal de comandos con la bandera (-P) o una preferencia en el IDE.</p>
          <p>Abre el <code>pom.xml</code> y crea un nuevo perfil para Weld EE embebido insertando el siguiente XML justo abajo del elemento <code>&lt;dependencies&gt;</code>:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profiles&gt;&#x000A;    &lt;profile&gt;&#x000A;        &lt;id&gt;arquillian-weld-ee-embedded&lt;/id&gt;&#x000A;        &lt;dependencies&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.0.3.Final&lt;/version&gt;&#x000A;                &lt;type&gt;pom&lt;/type&gt;&#x000A;                &lt;scope&gt;provided&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;arquillian-weld-ee-embedded-1.1&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.0.0.CR9&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;weld-core&lt;/artifactId&gt;&#x000A;                &lt;version&gt;2.3.5.Final&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.6.4&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;        &lt;/dependencies&gt;&#x000A;    &lt;/profile&gt;&#x000A;&lt;/profiles&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>A continuación, <strong>elimina</strong> la dependencia a <code>jboss-javaee-7.0</code> y las dependencias para el adaptador de Weld EE embebido de la seccion principal de <code>&lt;dependencies&gt;</code>. Así es como deberían verse las secciones <code>&lt;dependencies&gt;</code> y <code>&lt;profiles&gt;</code> una vez que hayas terminado:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;dependencies&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;        &lt;version&gt;4.12&lt;/version&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;&#x000A;        &lt;scope&gt;test&lt;/scope&gt;&#x000A;    &lt;/dependency&gt;&#x000A;&lt;/dependencies&gt;&#x000A;&lt;profiles&gt;&#x000A;    &lt;profile&gt;&#x000A;        &lt;id&gt;arquillian-weld-ee-embedded&lt;/id&gt;&#x000A;        &lt;dependencies&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.0.3.Final&lt;/version&gt;&#x000A;                &lt;type&gt;pom&lt;/type&gt;&#x000A;                &lt;scope&gt;provided&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;arquillian-weld-ee-embedded-1.1&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.0.0.CR9&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;weld-core&lt;/artifactId&gt;&#x000A;                &lt;version&gt;2.3.5.Final&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;            &lt;dependency&gt;&#x000A;                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;&#x000A;                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;&#x000A;                &lt;version&gt;1.6.4&lt;/version&gt;&#x000A;                &lt;scope&gt;test&lt;/scope&gt;&#x000A;            &lt;/dependency&gt;&#x000A;        &lt;/dependencies&gt;&#x000A;    &lt;/profile&gt;&#x000A;&lt;/profiles&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p class="info"><span>La dependencia a la API Java EE ha sido movida hacia el perfil ya que algunos contenedores, como GlassFish Embebido, ya proveen esas librerías. Tener ambas en el  classpath al mismo tiempo podría resultar en conflictos. Así que tendremos que balilar al son del classpath.</span></p>
          <p>Ahora vamos a incluir dos perfiles adicionales en el <code>pom.xml</code> dentro del elemento <code>&lt;profiles&gt;</code>, el primero para <a href="http://embedded-glassfish.java.net">GlassFish Embebido</a>:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-glassfish-embedded&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-glassfish-embedded-3.1&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.CR4&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.glassfish.main.extras&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;glassfish-embedded-all&lt;/artifactId&gt;&#x000A;            &lt;version&gt;3.1.2&lt;/version&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>y el otro para JBoss AS administrado:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-jbossas-managed&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.3.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-as-arquillian-container-managed&lt;/artifactId&gt;&#x000A;            &lt;version&gt;7.1.1.Final&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>Ahora tienes la opción de ejecutar las pruebas en tres contenedores.</p>
          <p>Si en este punto tienes problemas con el pom.xml, puedes bajar el archivo desde <a href="https://gist.github.com/1263934">este gist</a>.</p>
          <h3 id="pruebas_sobre_varios_contenedores">Pruebas sobre varios contenedores</h3>
          <p>Cuando refrescas el proyecto en Eclipse, vas a notar que falla la construcción. Esto se debe a que necesitas activar one de los perfiles de los contenedores. Vamos a activar el perfil Weld EE embebido para regresar al estado previo.</p>
          <p>Existen dos maneras de activar un perfil Maven en Eclipse:</p>
          <ol>
          	<li>Configuration manual (enfoque standard)</li>
          	<li>Selector de perfiles Maven (JBoss Tools)</li>
          </ol>
          <h4>Establecer el perfil Maven activo: Configuración manual</h4>
          <p>Para establecer el perfil manualmente, sigue estos pasos:</p>
          <ol>
          	<li>Clic derecho en el proyecto y selecciona Properties</li>
          	<li>Selecciona la pestaña de propiedades Maven</li>
          	<li>Ingresa el id del perfil en el campo Active Maven Profiles field (e.g., <code>arquillian-weld-ee-embedded</code>)</li>
          	<li>Presiona el botón OK y acepta los cambios al proyecto</li>
          </ol>
          <p>Here&#8217;s the Maven properties screen showing the profile we&#8217;ve activated:</p>
          <p><img src="/images/guides/arquillian_tutorial_maven_properties.png" alt="" /></p>
          <h4>Set active Maven profile: Maven profile selector</h4>
          <p>If you have JBoss Tools installed, selecting the active profile becomes much easier:</p>
          <ol>
          	<li>Right click on the project and select Maven &gt; Select Active Profiles&#8230;<br />
          (alternatively, you can use the keybinding Ctrl+Shift+P or the button in the toolbar)</li>
          	<li>Check the box next to the profile you want to activate (e.g., <code>arquillian-weld-ee-embedded</code>)</li>
          	<li>Click the OK button</li>
          </ol>
          <p>Este es el diálogo para seleccionar el perfil Maven mostrando el perfil que hemos activado:</p>
          <p><img src="/images/guides/arquillian_tutorial_maven_profile_selector.png" alt="" /></p>
          <p>Una vez que tienes el perfil activo, deberías poder ejecutar exitosamente la prueba de nuevo.</p>
          <p>Al momento ya sabes que la prueba funciona en Weld EE embebido. Cambiemos a GlassFish embebido repitiendo los pasos de arriba, esta vez activando solo rl perfil <code>arquillian-glassfish-embedded</code>. Ejecuta la prueba otra vez. Deberías ver a GlassFish iniciar en la consola&#8230; y otra <strong class="greenbar">barra verde</strong>!</p>
          <p>Ahora has ejecutado la misma prueba en dos contenedores embebidos diferentes, un contenedor CDI (Weld) y un contenedor Java EE (GlassFish). Ambas ejecuciones están en proceso. Para realmente estar seguro de que el componente funciona en un ambiente puro, necesitamos utilizar un contenedor independiente. Cambiemos a JBoss AS.</p>
          <p>Para correr la prueba en una instancia independiente de JBoss AS, primero necesitas configurarla. Para esto puedes:</p>
          <ol>
          	<li>descargar y descomprimir en una ubicación fuera del proyecto o</li>
          	<li>puedes hacer que Maven descargue y descomprima durante la construcción del proyecto.</li>
          </ol>
          <p>Sigue estos pasos para configurar JBoss AS 7 fuera del proyecto:</p>
          <ol>
          	<li><a href="http://jboss.org/jbossas/downloads">Descarga JBoss AS 7</a><br />
          (asegúrate que la versión que seleccionas se la misma versión que definiste en tu <code>pom.xml</code> para <code>&lt;artifactId&gt;jboss-as-arquillian-container-managed&lt;/artifactId&gt;</code>)</li>
          	<li>Extrae el archivo</li>
          	<li>(opcional) Establece la variable <code>JBOSS_HOME</code> con la ruta hacia el directorio extraído</li>
          </ol>
          <p>Para que en su lugar Maven maneje esta tarea por ti, agrega el sigueinte fragmento XML bajo el elemento <code>&lt;id&gt;</code> del perfil <code>arquillian-jbossas-managed</code>:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;build&gt;&#x000A;    &lt;plugins&gt;&#x000A;        &lt;plugin&gt;&#x000A;            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;&#x000A;            &lt;executions&gt;&#x000A;                &lt;execution&gt;&#x000A;                    &lt;id&gt;unpack&lt;/id&gt;&#x000A;                    &lt;phase&gt;process-test-classes&lt;/phase&gt;&#x000A;                    &lt;goals&gt;&#x000A;                        &lt;goal&gt;unpack&lt;/goal&gt;&#x000A;                    &lt;/goals&gt;&#x000A;                    &lt;configuration&gt;&#x000A;                        &lt;artifactItems&gt;&#x000A;                            &lt;artifactItem&gt;&#x000A;                                &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;&#x000A;                                &lt;artifactId&gt;jboss-as-dist&lt;/artifactId&gt;&#x000A;                                &lt;version&gt;7.1.1.Final&lt;/version&gt;&#x000A;                                &lt;type&gt;zip&lt;/type&gt;&#x000A;                                &lt;overWrite&gt;false&lt;/overWrite&gt;&#x000A;                                &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;&#x000A;                            &lt;/artifactItem&gt;&#x000A;                        &lt;/artifactItems&gt;&#x000A;                    &lt;/configuration&gt;&#x000A;                &lt;/execution&gt;&#x000A;            &lt;/executions&gt;&#x000A;        &lt;/plugin&gt;&#x000A;    &lt;/plugins&gt;&#x000A;&lt;/build&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p>Para apuntar a una instancia JBoss AS 7 administrada, también necesitas un poco de configuración en Arquillian. Crea el siguiente archivo de configuración y asigna al valor de la propiedad <code>jbossHome</code> la ubicación donde está instalado el JBoss AS 7. Si utilizas el plugin de dependencias de Maven (maven-dependency-plugin), la ubicación es <code>target/jboss-as-7.1.1.Final</code>.</p>
          <div class="filename">src/test/resources/arquillian.xml</div>
          <pre class="prettify"><code class="prettify">&lt;arquillian xmlns="http://jboss.org/schema/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://jboss.org/schema/arquillian&#x000A;        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;&#x000A;    &lt;container qualifier="jbossas-managed" default="true"&gt;&#x000A;        &lt;configuration&gt;&#x000A;            &lt;property name="jbossHome"&gt;target/jboss-as-7.1.1.Final&lt;/property&gt;&#x000A;        &lt;/configuration&gt;&#x000A;    &lt;/container&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
          <p>Ahora cambia el perfil activo de Maven a <code>arquillian-jbossas-managed</code>, luego ejecuta la prueba nuevamente. Deberías ver el JBoss AS iniciándose en la consola&#8230; y nuevamente otra <strong>(greenbar) barra verde</strong>!</p>
          <p class="info"><span>El mensaje impreso con System.out es escrito en el log del servidor en lugar de la consola.</span></p>
          <p>Es la <em>misma</em> prueba, esta vez siendo ejecutada en un contenedor Java EE (no embebido). Arquillian empaqueta la prueba, despliega hacia el contenedor como un archivo Java EE, ejecuta la prueba remotamente, captura los resultados y los envía de regreso a la vista de resultados de JUnit en Eclipse (o a los resultados de surefire en Maven).</p>
          <h3 id="share">Share the Knowledge</h3>
          <p>Find this guide useful?</p>
          <p class="post_to_twitter"><a href="http://twitter.com/home/?status=Just%20read%20the%20%23Arquillian%20Gu%C3%ADa%20de%20introducci%C3%B3n%20guide%20and%20got%20a%20%23greenbar!%20Get%20yours.%20http://arquillian.org/guides/getting_started_es/"><img src="/images/post_to_twitter.png" alt="" /></a></p>
          <div class="g-plusone" data-size="tall"></div>
          <p>There&#8217;s a lot more about Arquillian to cover. If you&#8217;re ready to learn more, check out the <a href="/guides">other available guides</a>.</p>
          <h4>Feedback</h4>
          <p>Find a bug in the guide? Something missing? You can fix it by <a href="http://github.com/arquillian/arquillian.github.com">forking this website</a>, making the correction and <a href="http://help.github.com/send-pull-requests">sending a pull request</a>. If you&#8217;re just plain stuck, feel free to ask a question in the <a href="http://community.jboss.org/en/arquillian?view=discussions">user discussion forum</a>.</p>
          <h4>Recent Changelog</h4>
          <ul>
            <li>
              Jun 26, 2017:
              Feat(travis) set sending notifications to mjobanek &amp; bmajsak
              <em>by Matous Jobanek</em>
            </li>
          </ul>
          <p>
            <a href="https://github.com/arquillian/arquillian.github.io/commits/develop/guides/getting_started_es.textile">See full history &raquo;</a>
          </p>
        </div>
        <div id="sidebar">
          <div id="toc">
            <h3 class="chapter_header">Chapters</h3>
            <ol class="chapters">
              <li>
                <a href="#supuestos" id="supuestos_link">Supuestos</a>
              </li>
              <li>
                <a href="#crear_un_nuevo_proyecto" id="crear_un_nuevo_proyecto_link">Crear un Nuevo Proyecto</a>
              </li>
              <li>
                <a href="#abrir_el_proyecto_en_eclipse" id="abrir_el_proyecto_en_eclipse_link">Abrir el proyecto en Eclipse</a>
              </li>
              <li>
                <a href="#crear_un_componente" id="crear_un_componente_link">Crear un Componente</a>
              </li>
              <li>
                <a href="#agrega_los_apis_de_arquillian" id="agrega_los_apis_de_arquillian_link">Agrega los APIs de Arquillian</a>
              </li>
              <li>
                <a href="#escribir_una_prueba_con_arquillian" id="escribir_una_prueba_con_arquillian_link">Escribir una prueba con Arquillian</a>
              </li>
              <li>
                <a href="#agregar_un_adaptador_para_el_contenedor" id="agregar_un_adaptador_para_el_contenedor_link">Agregar un Adaptador para el Contenedor</a>
              </li>
              <li>
                <a href="#ejecutar_la_prueba_con_arquillian" id="ejecutar_la_prueba_con_arquillian_link">Ejecutar la prueba con Arquillian</a>
              </li>
              <li>
                <a href="#una_mirada_m&#225;s_de_cerca" id="una_mirada_más_de_cerca_link">Una mirada más de cerca</a>
              </li>
              <li>
                <a href="#depurar_la_prueba" id="depurar_la_prueba_link">Depurar la prueba</a>
              </li>
              <li>
                <a href="#agregar_m&#225;s_contenedores" id="agregar_más_contenedores_link">Agregar Más Contenedores</a>
              </li>
              <li>
                <a href="#pruebas_sobre_varios_contenedores" id="pruebas_sobre_varios_contenedores_link">Pruebas sobre varios contenedores</a>
              </li>
              <li>
                <a href="#share" id="share_link">Share the Knowledge</a>
              </li>
            </ol>
          </div>
        </div>
        <script>
          $(window).load(function() { activateScrollingToc(['supuestos', 'crear_un_nuevo_proyecto', 'abrir_el_proyecto_en_eclipse', 'crear_un_componente', 'agrega_los_apis_de_arquillian', 'escribir_una_prueba_con_arquillian', 'agregar_un_adaptador_para_el_contenedor', 'ejecutar_la_prueba_con_arquillian', 'una_mirada_más_de_cerca', 'depurar_la_prueba', 'agregar_más_contenedores', 'pruebas_sobre_varios_contenedores', 'share']) })
        </script>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2017 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/docs">Documentation</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031?rel=author"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! If you want to improve it, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a>, hack on it, then send a <a href="https://help.github.com/articles/using-pull-requests">pull request</a>. You can also view the <a href="http://www.seethestats.com/site/arquillian.org">visitor stats</a>.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js?2e15cbe7ac73147c9d50e45cedfe90a714cb912c"></script>
    <script src="/javascripts/jquery-scroll.js"></script>
    <script src="http://apis.google.com/js/plusone.js"></script>
    <script>
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-18727998-3']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
