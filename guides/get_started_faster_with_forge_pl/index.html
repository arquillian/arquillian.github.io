<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Zacznij jeszcze szybciej z Forge &#183; Arquillian Guides</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Naucz się jak pisać testy Arquilliana szybciej i być bardziej efektywnym wykorzystując JBoss Forge." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css?094a3a8a52909a4f578a57cbd3b9282f70bc5428" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="guide">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="g-plusone-slot">
            <div class="g-plusone" data-annotation="none"></div>
          </div>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li class="active"><a href="/guides/">Guides</a></li>
              <li><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/modules/">Modules</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
      <div id="content-header">
        <div class="container">
          <div class="headline">
            <h1>
              <a href="/guides/">Arquillian Guides</a>
              <small>Designed exclusively to teach you how to use Arquillian to write real tests.</small>
            </h1>
            <div class="directory">
              <a class="guides_menu" href="./" id="guides_menu">
                Guides Index
                <i class="icon-menu-closed"></i>
              </a>
              <div id="guides" style="display: none">
                <a class="guides_menu" href="./">
                  Guides Index
                  <i class="icon-menu-open"></i>
                </a>
                <hr class="clear" />
                <dl class="beg">
                  <dt>First Steps</dt>
                  <dd><a href="/guides/getting_started/">Getting Started</a>
                  <br />
                  <a href="/guides/getting_started/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_el_gr/"><img class="flag" rel="tooltip" src="/images/flags/el_gr.png" title="Ελληνικά (el_gr)" /></a>
                  <a href="/guides/getting_started_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_nl/"><img class="flag" rel="tooltip" src="/images/flags/nl.png" title="Nederlands (nl)" /></a>
                  <a href="/guides/getting_started_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_sk/"><img class="flag" rel="tooltip" src="/images/flags/sk.png" title="Slovenčina (sk)" /></a>
                  <a href="/guides/getting_started_sv_se/"><img class="flag" rel="tooltip" src="/images/flags/sv_se.png" title="Svenska (sv_se)" /></a>
                  <a href="/guides/getting_started_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/getting_started_rinse_and_repeat/">Getting Started: Rinse and Repeat</a>
                  <br />
                  <a href="/guides/getting_started_rinse_and_repeat/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/get_started_faster_with_forge/">Get Started Faster with Forge</a>
                  <br />
                  <a href="/guides/get_started_faster_with_forge/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/get_started_faster_with_forge_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/get_started_faster_with_forge_el_gr/"><img class="flag" rel="tooltip" src="/images/flags/el_gr.png" title="Ελληνικά (el_gr)" /></a>
                  <a href="/guides/get_started_faster_with_forge_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/get_started_faster_with_forge_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/get_started_faster_with_forge_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/get_started_faster_with_forge_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/get_started_faster_with_forge_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/shrinkwrap_introduction/">Creating Deployable Archives with ShrinkWrap</a>
                  <br />
                  <a href="/guides/shrinkwrap_introduction/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/shrinkwrap_introduction_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/shrinkwrap_introduction_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/shrinkwrap_introduction_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/shrinkwrap_introduction_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/shrinkwrap_introduction_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                </dl>
                <dl class="int">
                  <dt>More Coverage</dt>
                  <dd><a href="/guides/testing_java_persistence/">Testing Java Persistence</a>
                  <br />
                  <a href="/guides/testing_java_persistence/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/testing_java_persistence_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/testing_java_persistence_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/testing_java_persistence_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/testing_java_persistence_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/functional_testing_using_graphene/">Functional Testing using Drone and Graphene</a></dd>
                  <dd><a href="/guides/testing_in_the_cloud/">Testing in the Cloud</a></dd>
                </dl>
                <dl class="adv">
                  <dt>Enhance</dt>
                  <dd><a href="/guides/developing_a_container_adapter/">Developing a Container Adapter</a></dd>
                </dl>
                <dl class="ref">
                  <dt>Reference</dt>
                  <dd><a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Reference Guide</a></dd>
                  <dd><a href="http://docs.jboss.org/arquillian/aggregate/latest">API &amp; SPI Docs</a></dd>
                  <dd><a href="http://community.jboss.org/wiki/ArquillianMigrationGuides">Migration Guides</a></dd>
                  <dd><a href="http://community.jboss.org/en/arquillian/faq">FAQs</a></dd>
                </dl>
              </div>
            </div>
            <script>$(function() { activateGuideMenuControl() })</script>
          </div>
        </div>
      </div>
      <div class="container" id="guide">
        <div id="content" lang="pl">
            <div class="header">
            <div class="titlebar">
            <h2>Zacznij jeszcze szybciej z Forge</h2>
            <div class="btn-group">
              <a class="btn" href="https://github.com/arquillian/arquillian.github.com/edit/develop/guides/get_started_faster_with_forge_pl.textile">Edit this file</a>
            </div>
          </div>
            <div class="authors"><strong>Authors:</strong>
          <a href="/community/paulbakker">Paul Bakker</a>, <a href="/community/lincolnthree">Lincoln Baxter, III</a>  <strong style="padding-left: 10px;">Translator:</strong>
          <a href="/community/glipecki">Grzegorz Lipecki</a>  <strong style="padding-left: 10px;">Language:</strong>
          <img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" />
          <br />
          <strong style="padding-left: 0px;">Last Update:</strong>Mar 01, 2013</div>
            <p>Dzięki temu wprowadzeniu zaznajomisz się z pluginem Arquilliana dla JBoss Forge. Po lekturze będziesz potrafił:</p>
            <ul>
          	<li>Dodać plugin Arquilliana dla swojej instalacji Forge.</li>
          	<li>Wykorzystać go w istniejącym projekcie Java oparty o Mavena.</li>
          	<li>Wygenerować komponenty oraz odpowiadające im testy Arquilliana.</li>
          	<li>Wykonywać testy Arquilliana w wielu kontenerach bez ręcznej konfiguracji.</li>
          </ul>
            <p>Będziesz musiał wykonać kroki podobne do omawianych we wprowadzeniu <a href="/guides/getting_started/">Szybki Start</a>, ale tym razem całą żmudną robotę wykona za Ciebie Forge. Opracowaliśmy to wprowadzenie tak, żebyś mógł wystartować szybciej niż kiedykolwiek wcześniej!</p>
            </div>
            <h3 id="za&#322;o&#380;enia">Założenia</h3>
          <p>Wprowadzenie to zakłada, że masz już działającą instalację <a href="http://jboss.org/forge">JBoss Forge</a>. Jej przygotowanie nie jest zbyt skomplikowane, zapoznaj się z <a href="/guides/getting_started/">Szybkim Startem</a> lub z <a href="https://docs.jboss.org/author/display/FORGE/Home">oficjalną dokumentacją Forge</a>. Będziesz także potrzebował <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk-6u29-download-513648.html"><acronym title="Java Development Kit">JDK</acronym> 1.6</a> lub nowszej wersji zainstalowanej na twoim komputerze.</p>
          <p class="info"><span>We wprowadzeniu przedstawiamy listingi wyjściowe, zakładając, że katalog domowy użytkownika znajduje się pod ścieżką /home/ike. Użytkownik tworzy projekty w katalogu projects i umieszcza aplikacje w katalogu applications. Dostosuj te ścieżki, tak aby pasowały do Twojego środowiska.</span></p>
          <h3 id="utw&#243;rz_projekt">Utwórz projekt</h3>
          <p>Zanim zaczniemy pisać testy z wykorzystaniem Arquilliana musimy stworzyć projekt. Jeżeli nie masz jeszcze żadnego, wykorzystaj polecenie Forge do wygenerowania przykładowej aplikacji Java EE zawierającej komponenty CDI.</p>
          <pre class="command"><code class="command">$ new-project --named arquillian-demo --topLevelPackage org.arquillian.example</code></pre>
          <pre class="output"><code class="output">? Use [/home/ike/projects/arquillian-demo] as project directory? [Y/n]&#x000A;***SUCCESS*** Created project [arquillian-demo] in new working directory [/home/ike/projects/arquillian-demo]&#x000A;Wrote /home/ike/projects/arquillian-demo&#x000A;Wrote /home/ike/projects/arquillian-demo/pom.xml&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/java&#x000A;Wrote /home/ike/projects/arquillian-demo/src/test/java&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/resources&#x000A;Wrote /home/ike/projects/arquillian-demo/src/test/resources&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/java/org/arquillian/example&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/resources/META-INF/forge.xml</code></pre>
          <p>Domyślnie Forge dodaje repozytorium JBoss Community do pliku pom.xml. Dla testów Arquilliana nie będziemy go potrzebowali, więc możesz je łatwo usunąć korzystając z polecenia Forge:</p>
          <pre class="command"><code class="command">$ project remove-repository http://repository.jboss.org/nexus/content/groups/public </code></pre>
          <pre class="output"><code class="output">Removed repository [JBOSS_NEXUS-&gt;http://repository.jboss.org/nexus/content/groups/public]&#x000A;Wrote /home/ike/projects/arquillian-demo/pom.xml</code></pre>
          <p>Właśnie utworzyłeś nowy projekt! Teraz potrzebujemy kod, który będziemy mogli przetestować. Niech Forge stworzy dla nas nowy komponent CDI.</p>
          <p>Najpierw skonfigurujmy projekt, aby móc skorzystać z wtyczki beans.</p>
          <pre class="command"><code class="command">$ beans setup</code></pre>
          <pre class="output"><code class="output">***SUCCESS*** Installed [forge.spec.cdi] successfully.&#x000A;***SUCCESS*** Beans (CDI) is installed.&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/resources/META-INF/beans.xml&#x000A;Wrote /home/ike/projects/arquillian-demo/pom.xml</code></pre>
          <p>Następnie wykorzystamy tą samą wtyczkę do utworzenia nowego komponentu o zakresie &#8220;dependent&#8221;.</p>
          <pre class="command"><code class="command">$ beans new-bean --type org.arquillian.example.MySimpleBean --scoped DEPENDENT</code></pre>
          <pre class="output"><code class="output">Picked up type &lt;JavaResource&gt;: org.arquillian.example.MySimpleBean&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/java/org/arquillian/example/MySimpleBean.java</code></pre>
          <p>Nasz projekt właśnie zyskał nowy komponent. Przejdź teraz do głównego katalogu projektu i przygotuj się do jego testowania!</p>
          <pre class="command"><code class="command">$ cd ~~</code></pre>
          <h3 id="konfiguracja_arquilliana">Konfiguracja Arquilliana</h3>
          <p>Jak mogłeś zobaczyć już we wprowadzeniu <a href="/guides/getting_started/">Szybki Start</a>, konfiguracja Arquilliana nie należy do skomplikowanych. Wymaga jednak trochę kopiowania zależności i konfiguracji w pliku pom.xml. Forge może to wszystko zrobić za nas jednym prostym poleceniem!</p>
          <p>Musisz zacząć od zainstalowania <a href="https://github.com/forge/plugin-arquillian">wtyczki Arquillian dla Forge</a>.</p>
          <pre class="command"><code class="command">$ forge install-plugin arquillian</code></pre>
          <pre class="output"><code class="output">Connecting to remote repository [https://raw.github.com/forge/plugin-repository/master/repository.yaml]... connected!&#x000A;***INFO*** Preparing to install plugin: arquillian&#x000A;***INFO*** Checking out plugin source files to [/tmp/forgetemp7898368163271511889/repo] via 'git'&#x000A;...&#x000A;***INFO*** Installing plugin artifact.&#x000A;...&#x000A;***SUCCESS*** Installed from [https://github.com/forge/plugin-arquillian.git] successfully.&#x000A;...</code></pre>
          <p>Kiedy wtyczka jest już gotowa do użycia, musimy skonfigurować Arquilliana i jego adapter dla wybranego kontenera. W tym celu wykorzystamy JBoss AS 7.</p>
          <pre class="command"><code class="command">$ arquillian setup --container JBOSS_AS_MANAGED_7.X</code></pre>
          <p>Forge zapyta Cię w o wersje komponentów JUnit, Arquillian i JBoss AS7, które chcesz użyć w swoim projekcie. Skorzystaj z najnowszych dostępnych.</p>
          <p>Co więcej, Forge może zainstalować dla Ciebie instancję JBoss AS 7 automatycznie. Zapyta Cię o to podczas wykonywania powyższej komendy:</p>
          <pre class="output"><code class="output"> ? Do you want Arquillian to install the container? [y/N]</code></pre>
          <dl>
          	<dt>Jeżeli wybierzesz <code>y</code>:</dt>
          	<dd>Forge zapyta o katalog, w którym zainstaluje kontener JBoss AS 7 (np. /home/ike/application). Następnie wykorzystując Mavenowy plugin zależności pobierze i rozpakuje AS 7 we wskazanej przez Ciebie lokalizacji (o ile jeszcze go tam nie było) przed uruchomieniem testów.</dd>
          	<dt>Jeżeli wybierzesz <code>N</code>:</dt>
          	<dd>Będziesz musiał posiadać istniejącą instalację JBoss AS 7.</dd>
          </dl>
          <p>W obu przypadkach musisz skonfigurować Arquilliana do korzystania z JBoss AS 7. Jednym sposobem jest ustawienie zmiennej środowiskowej JBOSS_HOME wskazującej na katalog z AS 7. Drugą, zalecaną metodą, jest ustawienie właściwości <code>jbossHome</code> bezpośrednio w arquillian.xml. Forge może nam w tym pomóc:</p>
          <pre class="command"><code class="command">$ arquillian configure-container --profile JBOSS_AS_MANAGED_7.X</code></pre>
          <pre class="output"><code class="output">Which property do you want to set?</code>&#x000A;&#x000A;<code class="output">  1 - [Configuration{type='java.lang.String', name='jbossHome', description='The JBoss configuration to start.', defaultValue='$JBOSS_HOME'}]&#x000A;  ...&#x000A; ? Choose an option by typing the number of the selection: 1&#x000A; ? What value do you want to set? /home/ike/applications/jboss-as-7.1.1.Final&#x000A;Wrote /home/ike/projects/arquillian-demo/src/test/resources/arquillian.xml</code></pre>
          <p>Po tej operacji plik arquillian.xml będzie wyglądał następująco (sformatowany dla czytelności):</p>
          <div class="filename">src/test/resources/arquillian.xml</div>
          <pre class="prettify"><code class="prettify">&lt;arquillian xmlns="http://jboss.org/schema/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://jboss.org/schema/arquillian&#x000A;        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;&#x000A;    &lt;container qualifier="JBOSS_AS_MANAGED_7.X"&gt;&#x000A;        &lt;configuration&gt;&#x000A;            &lt;property name="jbossHome"&gt;/home/ike/applications/jboss-as-7.1.1.Final&lt;/property&gt;&#x000A;        &lt;/configuration&gt;&#x000A;    &lt;/container&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
          <p>Żeby wykorzystać tę konfigurację kontenera, możesz zrobić jedną z dwóch rzeczy:</p>
          <ul>
          	<li>Dodać atrybut <code>default="true"</code> do elementu <code>&lt;container&gt;</code> w arquillian.xml</li>
          	<li>Zastosować kwalifikator <code>JBOSS_AS_MANAGED_7.X</code> jako zdefiniowany w pliku src/test/resources/arquillian.launch</li>
          </ul>
          <p>To wszystko! Arquillian jest skonfigurowany i gotowy do uruchomienia testów wewnątrz JBoss AS 7.</p>
          <h3 id="napisz_testy">Napisz testy</h3>
          <p>Teraz napiszmy testy. Tutaj Forge też może nam w tym pomóc.</p>
          <pre class="command"><code class="command">$ arquillian create-test --class org.arquillian.example.MySimpleBean.java</code></pre>
          <pre class="output"><code class="output">Picked up type &lt;JavaResource&gt;: org.arquillian.example.MySimpleBeanTest&#x000A;Wrote /home/ike/projects/arquillian-demo/src/test/java/org/arquillian/example/MySimpleBeanTest.java</code></pre>
          <p>Nowa klasa testowa zawierająca archiwum i metodę testową została dodana do projektu.</p>
          <div class="filename">src/test/java/org/arquillian/example/MySimpleBeanTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.arquillian.example.MySimpleBean;&#x000A;import javax.inject.Inject;&#x000A;import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.junit.Assert;&#x000A;import org.junit.Test;&#x000A;import org.junit.runner.RunWith;&#x000A;import static org.junit.Assert.*;&#x000A;import static org.hamcrest.core.Is.*;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class MySimpleBeanTest {&#x000A;    @Inject private MySimpleBean mysimplebean;</code>&#x000A;&#x000A;<code class="prettify">    @Deployment public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class, "test.jar")&#x000A;            .addClass(MySimpleBean.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Test&#x000A;    public void testIsDeployed() {&#x000A;        Assert.assertNotNull(mysimplebean);&#x000A;    }&#x000A;}</code></pre>
          <p>Jak widzisz, do testu wstrzykiwana jest testowana klasa (np. <code>MySimpleBean</code>), za pośrednictwem CDI. Zatem to od razu dowodzi, że test naprawdę uruchamia się w kontenerze.</p>
          <p>Możesz uruchomić test z IDE, z Mavena (nie wykorzystując Forge) lub z poziomu Forge. Skorzystajmy z tej ostatniej opcji.</p>
          <pre class="command"><code class="command">$ build test --profile JBOSS_AS_MANAGED_7.X</code></pre>
          <pre class="output"><code class="output">...&#x000A;-------------------------------------------------------&#x000A;T E S T S&#x000A;-------------------------------------------------------&#x000A;Running org.arquillian.example.MySimpleBeanTest&#x000A;...&#x000A;Results :</code>&#x000A;&#x000A;<code class="output">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</code></pre>
          <p><strong>Gratulacje!</strong> Zasłużyłeś na swój pierwszy <strong class="greenbar">zielony pasek</strong> z testami Arquilliana i JBoss Forge!</p>
          <p>Teraz przetestujmy trochę kodu JPA.</p>
          <h3 id="testowanie_warstwy_dost&#281;pu_do_danych">Testowanie warstwy dostępu do danych</h3>
          <p>Zanim zaczniemy pisać testy wykorzystujące Java Persistence API (JPA), musimy ją skonfigurować. Utworzymy encję i odpowiadający jej Data Access Object (DAO). Te klasy będą przedmiotem naszych testów.</p>
          <pre class="command"><code class="command">$ persistence setup --provider HIBERNATE --container JBOSS_AS7</code></pre>
          <pre class="output"><code class="output">***SUCCESS*** Installed [forge.spec.jpa] successfully.&#x000A;***INFO*** Setting transaction-type="JTA"&#x000A;***INFO*** Using example data source [java:jboss/datasources/ExampleDS]&#x000A; ? The JPA provider [HIBERNATE], also supplies extended APIs. Install these as well? [y/N] n&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/resources/META-INF/persistence.xml&#x000A;Wrote /home/ike/projects/arquillian-demo/pom.xml</code></pre>
          <p>Utwórz obiekt encji.</p>
          <pre class="command"><code class="command">$ entity --named Language --package org.arquillian.example.domain</code></pre>
          <pre class="output"><code class="output">Created @Entity [org.arquillian.example.domain.Language]&#x000A;Picked up type &lt;JavaResource&gt;: org.arquillian.example.domain.Language&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/java/org/arquillian/example/domain/Language.java</code></pre>
          <p>Dodaj pola do naszej encji.</p>
          <pre class="command"><code class="command">$ field string --named name</code></pre>
          <pre class="output"><code class="output">Added field to org.arquillian.example.domain.Language: @Column private String name;&#x000A;Wrote /home/ike/projects/arquillian-demo/src/main/java/org/arquillian/example/domain/Language.java</code></pre>
          <p>Jeżeli otworzysz klasę <code>Langauge</code> zobaczysz typową strukturę encji JPA.</p>
          <p>Teraz musimy zaimplementować obiekt DAO do zarządzania tą encją. Możesz skopiować tę klasę do swojego projektu.</p>
          <div class="filename">src/main/java/org/arquillian/example/dao/LanguageDao.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example.dao;</code>&#x000A;&#x000A;<code class="prettify">import org.arquillian.example.domain.Language;&#x000A;import javax.annotation.PostConstruct;&#x000A;import javax.ejb.Singleton;&#x000A;import javax.ejb.Startup;&#x000A;import javax.persistence.EntityManager;&#x000A;import javax.persistence.PersistenceContext;&#x000A;import java.util.List;</code>&#x000A;&#x000A;<code class="prettify">@Singleton&#x000A;@Startup&#x000A;public class LanguageDao {&#x000A;    @PersistenceContext&#x000A;    EntityManager em;</code>&#x000A;&#x000A;<code class="prettify">    public List&lt;Language&gt; listLanguages() {&#x000A;        return em.createQuery("select l from Language l").getResultList();&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @PostConstruct&#x000A;    public void insertTestData() {&#x000A;        Language java = new Language();&#x000A;        java.setName("Java");&#x000A;        em.persist(java);</code>&#x000A;&#x000A;<code class="prettify">        Language ruby = new Language();&#x000A;        ruby.setName("Ruby");&#x000A;        em.persist(ruby);</code>&#x000A;&#x000A;<code class="prettify">        Language groovy = new Language();&#x000A;        groovy.setName("Groovy");&#x000A;        em.persist(groovy);&#x000A;    }&#x000A;}</code></pre>
          <p>Żeby ją skompilować będziesz potrzebował EJB API w swoim projekcie.</p>
          <pre class="command"><code class="command">$ ejb setup</code></pre>
          <pre class="output"><code class="output">***SUCCESS*** Installed [forge.spec.ejb] successfully.&#x000A;***SUCCESS*** Enterprise Java Beans (EJB) is installed.&#x000A;Wrote /home/ike/projects/arquillian-demo/pom.xml</code></pre>
          <p>Pora na napisanie naszej klasy testowej. Ta część wprowadzenia powinna Ci przypominać pierwszą jego połowę, z tym wyjątkiem, że tym razem wykorzystamy <code>create-test</code> do utworzenia testów JPA.</p>
          <pre class="command"><code class="command">$ arquillian create-test --class org.arquillian.example.dao.LanguageDao.java --enableJPA</code></pre>
          <pre class="output"><code class="output">Picked up type &lt;JavaResource&gt;: org.arquillian.example.dao.LanguageDaoTest&#x000A;Wrote /home/ike/projects/arquillian-demo/src/test/java/org/arquillian/example/dao/LanguageDaoTest.java</code></pre>
          <p>Ponownie utworzyliśmy nowy test, jednak tym razem wygenerowaliśmy dodatkowo persistence.xml. Plik ten został automatycznie dodany do archiwum testowego. Tak wygląda wygenerowany test:</p>
          <div class="filename">src/test/java/org/arquillian/example/dao/LanguageDaoTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example.dao;</code>&#x000A;&#x000A;<code class="prettify">import org.arquillian.example.dao.LanguageDao;&#x000A;import javax.inject.Inject;&#x000A;import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.junit.Assert;&#x000A;import org.junit.Test;&#x000A;import org.junit.runner.RunWith;&#x000A;import static org.junit.Assert.*;&#x000A;import static org.hamcrest.core.Is.*;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class LanguageDaoTest {&#x000A;    @Inject private LanguageDao languagedao;</code>&#x000A;&#x000A;<code class="prettify">    @Deployment public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class, "test.jar")&#x000A;            .addClass(LanguageDao.class)&#x000A;            .addAsManifestResource("META-INF/persistence.xml", "persistence.xml")&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;&#x000A;<code class="prettify">    @Test&#x000A;    public void testIsDeployed() {&#x000A;        Assert.assertNotNull(languagedao);&#x000A;    }&#x000A;}</code></pre>
          <p>Otwórz test w swoim IDE i dodaj encję <code>Language</code> do archiwum testowego. Dodaj odpowiedni import i zmień linię:</p>
          <pre class="prettify"><code class="prettify">.addClass(LanguageDao.class)</code></pre>
          <p>&#8230;na:</p>
          <pre class="prettify"><code class="prettify">.addClasses(Language.class, LanguageDao.class)</code></pre>
          <p>Napiszmy metodę testową, która weryfikuje działanie <code>listLanguages()</code>.</p>
          <div class="filename">src/test/java/org/arquillian/example/dao/LanguageDaoTest.java</div>
          <pre class="prettify"><code class="prettify">@Test&#x000A;public void testListLanguages() {&#x000A;    Assert.assertEquals(3, languagedao.listLanguages().size());&#x000A;}</code></pre>
          <p>Uruchom testy.</p>
          <pre class="command"><code class="command">$ build test --profile JBOSS_AS_MANAGED_7.X</code></pre>
          <p><strong>Gratulacje!</strong> To twój kolejny <strong class="greenbar">zielony pasek</strong> z testami Arquilliana!</p>
          <h3 id="dodaj_wi&#281;cej_adapter&#243;w_dla_kontener&#243;w">Dodaj więcej adapterów dla kontenerów</h3>
          <p>Dodanie kolejnych adapterów dla kontenerów jest równie proste jak dodanie pierwszego. Dla przykładu, dodajmy adapter dla Glassfish w trybie zdalnym.</p>
          <pre class="command"><code class="command">$ arquillian setup --container GLASSFISH_REMOTE_3_1_(REST)</code></pre>
          <p>Żeby przełączać się pomiędzy kontenerami wykorzystaj profile Mavena. Przykładowo z Forge:</p>
          <pre class="command"><code class="command">$ build test --profile GLASSFISH_REMOTE_3_1_(REST)</code></pre>
          <p class="warning"><span>W celu uruchomienia testów na samodzielnej instalacji GlassFish potrzeba trochę dodatkowej konfiguracji. Potraktuj to jak zadanie domowe ~:)</span></p>
          <h3 id="wyeksportuj_archiwum_testowe">Wyeksportuj archiwum testowe</h3>
          <p>Dla celów debugowania wartościowe może się okazać eksportowanie archiwum testowego do pliku. Możesz to zrobić korzystając z Forge:</p>
          <p>Przejdź do testu Arquilliana:</p>
          <pre class="command"><code class="command">$ cd src/test/java/org/arquillian/example/MySimpleBeanTest.java</code></pre>
          <p>Wyeksportuj archiwum testowe:</p>
          <pre class="command"><code class="command">$ arquillian export</code></pre>
          <p>Wyeksportowane archiwum możesz znaleźć w katalogu target swojego projektu.</p>
          <pre class="command"><code class="command">$ cd ~~&#x000A;$ ls target/*.jar</code></pre>
          <pre class="output"><code class="output">arquillian-demo.jar</code></pre>
          <p>Jeżeli zajrzysz do przygotowanego pliku jar, korzystając z dowolnego programu archiwizującego, zauważysz że pokrywa się on z archiwum ShrinkWrap zdefiniowanym w metodzie <code>@Deployment</code> swojego testu.</p>
          <h3 id="share">Share the Knowledge</h3>
          <p>Find this guide useful?</p>
          <p class="post_to_twitter"><a href="http://twitter.com/home/?status=Just%20read%20the%20%23Arquillian%20Zacznij%20jeszcze%20szybciej%20z%20Forge%20guide%20and%20got%20a%20%23greenbar!%20Get%20yours.%20http://arquillian.org/guides/get_started_faster_with_forge_pl/"><img src="/images/post_to_twitter.png" alt="" /></a></p>
          <div class="g-plusone" data-size="tall"></div>
          <p>There&#8217;s a lot more about Arquillian to cover. If you&#8217;re ready to learn more, check out the <a href="/guides">other available guides</a>.</p>
          <h4>Feedback</h4>
          <p>Find a bug in the guide? Something missing? You can fix it by <a href="http://github.com/arquillian/arquillian.github.com">forking this website</a>, making the correction and <a href="http://help.github.com/send-pull-requests">sending a pull request</a>. If you&#8217;re just plain stuck, feel free to ask a question in the <a href="http://community.jboss.org/en/arquillian?view=discussions">user discussion forum</a>.</p>
          <h4>Recent Changelog</h4>
          <ul>
            <li>
              Mar 01, 2013:
              Add getting_strted_with_forge and getting_started_rinse_and_repeat pl translation
              <em>by Grzegorz Lipecki</em>
            </li>
          </ul>
          <p>
            <a href="https://github.com/arquillian/arquillian.github.com/commits/develop/guides/get_started_faster_with_forge_pl.textile">See full history &raquo;</a>
          </p>
        </div>
        <div id="sidebar">
          <div id="toc">
            <h3 class="chapter_header">Chapters</h3>
            <ol class="chapters">
              <li>
                <a href="#za&#322;o&#380;enia" id="założenia_link">Założenia</a>
              </li>
              <li>
                <a href="#utw&#243;rz_projekt" id="utwórz_projekt_link">Utwórz projekt</a>
              </li>
              <li>
                <a href="#konfiguracja_arquilliana" id="konfiguracja_arquilliana_link">Konfiguracja Arquilliana</a>
              </li>
              <li>
                <a href="#napisz_testy" id="napisz_testy_link">Napisz testy</a>
              </li>
              <li>
                <a href="#testowanie_warstwy_dost&#281;pu_do_danych" id="testowanie_warstwy_dostępu_do_danych_link">Testowanie warstwy dostępu do danych</a>
              </li>
              <li>
                <a href="#dodaj_wi&#281;cej_adapter&#243;w_dla_kontener&#243;w" id="dodaj_więcej_adapterów_dla_kontenerów_link">Dodaj więcej adapterów dla kontenerów</a>
              </li>
              <li>
                <a href="#wyeksportuj_archiwum_testowe" id="wyeksportuj_archiwum_testowe_link">Wyeksportuj archiwum testowe</a>
              </li>
              <li>
                <a href="#share" id="share_link">Share the Knowledge</a>
              </li>
            </ol>
          </div>
        </div>
        <script>
          $(window).load(function() { activateScrollingToc(['założenia', 'utwórz_projekt', 'konfiguracja_arquilliana', 'napisz_testy', 'testowanie_warstwy_dostępu_do_danych', 'dodaj_więcej_adapterów_dla_kontenerów', 'wyeksportuj_archiwum_testowe', 'share']) })
        </script>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2014 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031?rel=author"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! If you want to improve it, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a>, hack on it, then send a pull request. You can also view the <a href="http://www.seethestats.com/site/arquillian.org">visitor stats</a>.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js?bd6a597285db4e44c754379cff5581dc0b63ca5e"></script>
    <script src="/javascripts/jquery-scroll.js"></script>
    <script src="http://apis.google.com/js/plusone.js"></script>
    <script>
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-18727998-3']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
